var wn=Object.defineProperty;var kn=(W,q,J)=>q in W?wn(W,q,{enumerable:!0,configurable:!0,writable:!0,value:J}):W[q]=J;var ee=(W,q,J)=>kn(W,typeof q!="symbol"?q+"":q,J);(function(){const q=document.createElement("link").relList;if(q&&q.supports&&q.supports("modulepreload"))return;for(const $ of document.querySelectorAll('link[rel="modulepreload"]'))nt($);new MutationObserver($=>{for(const p of $)if(p.type==="childList")for(const b of p.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&nt(b)}).observe(document,{childList:!0,subtree:!0});function J($){const p={};return $.integrity&&(p.integrity=$.integrity),$.referrerPolicy&&(p.referrerPolicy=$.referrerPolicy),$.crossOrigin==="use-credentials"?p.credentials="include":$.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function nt($){if($.ep)return;$.ep=!0;const p=J($);fetch($.href,p)}})();function bt(){}function Me(W){return W()}function Ce(){return Object.create(null)}function Lt(W){W.forEach(Me)}function Te(W){return typeof W=="function"}function Ie(W,q){return W!=W?q==q:W!==q||W&&typeof W=="object"||typeof W=="function"}function Cn(W){return Object.keys(W).length===0}function En(W,q,J){W.insertBefore(q,J||null)}function Oe(W){W.parentNode&&W.parentNode.removeChild(W)}function Sn(W){return document.createElement(W)}function Mn(W){return Array.from(W.childNodes)}function Ee(W,q,J,nt){W.style.setProperty(q,J,"")}let Tt;function Mt(W){Tt=W}function Tn(){if(!Tt)throw new Error("Function called outside component initialization");return Tt}function In(W){Tn().$$.on_mount.push(W)}const Ct=[],ie=[];let Et=[];const Se=[],On=Promise.resolve();let oe=!1;function Dn(){oe||(oe=!0,On.then(De))}function re(W){Et.push(W)}const ne=new Set;let kt=0;function De(){if(kt!==0)return;const W=Tt;do{try{for(;kt<Ct.length;){const q=Ct[kt];kt++,Mt(q),Rn(q.$$)}}catch(q){throw Ct.length=0,kt=0,q}for(Mt(null),Ct.length=0,kt=0;ie.length;)ie.pop()();for(let q=0;q<Et.length;q+=1){const J=Et[q];ne.has(J)||(ne.add(J),J())}Et.length=0}while(Ct.length);for(;Se.length;)Se.pop()();oe=!1,ne.clear(),Mt(W)}function Rn(W){if(W.fragment!==null){W.update(),Lt(W.before_update);const q=W.dirty;W.dirty=[-1],W.fragment&&W.fragment.p(W.ctx,q),W.after_update.forEach(re)}}function Pn(W){const q=[],J=[];Et.forEach(nt=>W.indexOf(nt)===-1?q.push(nt):J.push(nt)),J.forEach(nt=>nt()),Et=q}const Nt=new Set;let An;function Re(W,q){W&&W.i&&(Nt.delete(W),W.i(q))}function Hn(W,q,J,nt){if(W&&W.o){if(Nt.has(W))return;Nt.add(W),An.c.push(()=>{Nt.delete(W)}),W.o(q)}}function jn(W){W&&W.c()}function Pe(W,q,J){const{fragment:nt,after_update:$}=W.$$;nt&&nt.m(q,J),re(()=>{const p=W.$$.on_mount.map(Me).filter(Te);W.$$.on_destroy?W.$$.on_destroy.push(...p):Lt(p),W.$$.on_mount=[]}),$.forEach(re)}function Ae(W,q){const J=W.$$;J.fragment!==null&&(Pn(J.after_update),Lt(J.on_destroy),J.fragment&&J.fragment.d(q),J.on_destroy=J.fragment=null,J.ctx=[])}function Nn(W,q){W.$$.dirty[0]===-1&&(Ct.push(W),Dn(),W.$$.dirty.fill(0)),W.$$.dirty[q/31|0]|=1<<q%31}function He(W,q,J,nt,$,p,b=null,x=[-1]){const w=Tt;Mt(W);const g=W.$$={fragment:null,ctx:[],props:p,update:bt,not_equal:$,bound:Ce(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(q.context||(w?w.$$.context:[])),callbacks:Ce(),dirty:x,skip_bound:!1,root:q.target||w.$$.root};b&&b(g.root);let a=!1;if(g.ctx=J?J(W,q.props||{},(e,i,...u)=>{const o=u.length?u[0]:i;return g.ctx&&$(g.ctx[e],g.ctx[e]=o)&&(!g.skip_bound&&g.bound[e]&&g.bound[e](o),a&&Nn(W,e)),i}):[],g.update(),a=!0,Lt(g.before_update),g.fragment=nt?nt(g.ctx):!1,q.target){if(q.hydrate){const e=Mn(q.target);g.fragment&&g.fragment.l(e),e.forEach(Oe)}else g.fragment&&g.fragment.c();q.intro&&Re(W.$$.fragment),Pe(W,q.target,q.anchor),De()}Mt(w)}class je{constructor(){ee(this,"$$");ee(this,"$$set")}$destroy(){Ae(this,1),this.$destroy=bt}$on(q,J){if(!Te(J))return bt;const nt=this.$$.callbacks[q]||(this.$$.callbacks[q]=[]);return nt.push(J),()=>{const $=nt.indexOf(J);$!==-1&&nt.splice($,1)}}$set(q){this.$$set&&!Cn(q)&&(this.$$.skip_bound=!0,this.$$set(q),this.$$.skip_bound=!1)}}const Ln="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ln);var Ne={exports:{}};/*
@license

dhtmlxRichText v.1.2.0 Evaluation

This software is covered by DHTMLX Evaluation License and purposed only for evaluation.
Contact sales@dhtmlx.com to get Commercial or Enterprise license.
Usage without proper license is prohibited.

(c) XB Software.

*/(function(W,q){if(window.dhx&&(window.dhx_legacy=dhx,delete window.dhx),function($,p){W.exports=p()}(window,function(){return function($){var p={};function b(x){if(p[x])return p[x].exports;var w=p[x]={i:x,l:!1,exports:{}};return $[x].call(w.exports,w,w.exports,b),w.l=!0,w.exports}return b.m=$,b.c=p,b.d=function(x,w,g){b.o(x,w)||Object.defineProperty(x,w,{enumerable:!0,get:g})},b.r=function(x){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})},b.t=function(x,w){if(1&w&&(x=b(x)),8&w||4&w&&typeof x=="object"&&x&&x.__esModule)return x;var g=Object.create(null);if(b.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:x}),2&w&&typeof x!="string")for(var a in x)b.d(g,a,(function(e){return x[e]}).bind(null,a));return g},b.n=function(x){var w=x&&x.__esModule?function(){return x.default}:function(){return x};return b.d(w,"a",w),w},b.o=function(x,w){return Object.prototype.hasOwnProperty.call(x,w)},b.p="/codebase/",b(b.s=72)}([function($,p,b){(function(x){Object.defineProperty(p,"__esModule",{value:!0}),p.awaitRedraw=p.resizeHandler=p.resizer=p.disableHelp=p.KEYED_LIST=p.inject=p.create=p.view=p.sv=p.el=void 0;var w=b(85);function g(a){var e=window.ResizeObserver,i=function(u){var o=u.el.offsetHeight,h=u.el.offsetWidth;a(h,o)};return e?(0,p.el)("div.dhx-resize-observer",{_hooks:{didInsert:function(u){new e(function(){return i(u)}).observe(u.el)}}}):(0,p.el)("iframe.dhx-resize-observer",{_hooks:{didInsert:function(u){u.el.contentWindow.onresize=function(){return i(u)},i(u)}}})}p.el=w.defineElement,p.sv=w.defineSvgElement,p.view=w.defineView,p.create=w.createView,p.inject=w.injectView,p.KEYED_LIST=w.KEYED_LIST,p.disableHelp=function(){w.DEVMODE.mutations=!1,w.DEVMODE.warnings=!1,w.DEVMODE.verbose=!1,w.DEVMODE.UNKEYED_INPUT=!1},p.resizer=g,p.resizeHandler=function(a,e){return(0,p.create)({render:function(){return g(e)}}).mount(a)},p.awaitRedraw=function(){return new x(function(a){requestAnimationFrame(function(){a()})})}}).call(this,b(10))},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(a){for(var e,i=1,u=arguments.length;i<u;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o]);return a},x.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.getTextLines=p.getCloneObject=p.rgbToHex=p.getStringWidth=p.getMinArrayNymber=p.getMaxArrayNymber=p.isEmptyObj=p.isType=p.compare=p.debounce=p.downloadFile=p.isNumeric=p.range=p.isDefined=p.wrapBox=p.unwrapBox=p.detectWidgetClick=p.singleOuterClick=p.isEqualString=p.findIndex=p.naturalSort=p.copy=p.extend=p.uid=void 0;var w=b(2),g=new Date().valueOf();p.uid=function(){return"u"+g++},p.extend=function a(e,i,u){if(u===void 0&&(u=!0),i)for(var o in i){var h=i[o],r=e[o];h===void 0?delete e[o]:!u||typeof r!="object"||r instanceof Date||r instanceof Array?e[o]=h:a(r,h)}return e},p.copy=function(a,e){var i={};for(var u in a)e&&u.startsWith("$")||(i[u]=a[u]);return i},p.naturalSort=function(a){return a.sort(function(e,i){return typeof e=="string"?e.localeCompare(i):e-i})},p.findIndex=function(a,e){for(var i=a.length,u=0;u<i;u++)if(e(a[u]))return u;return-1},p.isEqualString=function(a,e){if(a=a.toString(),e=e.toString(),a.length>e.length)return!1;for(var i=0;i<a.length;i++)if(a[i].toLowerCase()!==e[i].toLowerCase())return!1;return!0},p.singleOuterClick=function(a){var e=function(i){a(i)&&document.removeEventListener("click",e)};document.addEventListener("click",e)},p.detectWidgetClick=function(a,e){var i=function(u){return e((0,w.locate)(u,"dhx_widget_id")===a)};return document.addEventListener("click",i),function(){return document.removeEventListener("click",i)}},p.unwrapBox=function(a){return Array.isArray(a)?a[0]:a},p.wrapBox=function(a){return Array.isArray(a)?a:[a]},p.isDefined=function(a){return a!=null},p.range=function(a,e){if(a>e)return[];for(var i=[];a<=e;)i.push(a++);return i},p.isNumeric=function(a){return!isNaN(a-parseFloat(a))},p.downloadFile=function(a,e,i){i===void 0&&(i="text/plain");var u=new Blob([a],{type:i});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(u,e);else{var o=document.createElement("a"),h=URL.createObjectURL(u);o.href=h,o.download=e,document.body.appendChild(o),o.click(),setTimeout(function(){document.body.removeChild(o),window.URL.revokeObjectURL(h)},0)}},p.debounce=function(a,e,i){var u;return function(){for(var o=this,h=[],r=0;r<arguments.length;r++)h[r]=arguments[r];var f=i&&!u;clearTimeout(u),u=setTimeout(function(){u=null,i||a.apply(o,h)},e),f&&a.apply(this,h)}},p.compare=function a(e,i){for(var u in e){if(e.hasOwnProperty(u)!==i.hasOwnProperty(u))return!1;switch(typeof e[u]){case"object":if(!a(e[u],i[u]))return!1;break;case"function":if(i[u]===void 0||u!=="compare"&&e[u].toString()!==i[u].toString())return!1;break;default:if(e[u]!==i[u])return!1}}for(var u in i)if(e[u]===void 0)return!1;return!0},p.isType=function(a){return((Object.prototype.toString.call(a).match(/^\[object (\S+?)\]$/)||[])[1]||"undefined").toLowerCase()},p.isEmptyObj=function(a){for(var e in a)return!1;return!0},p.getMaxArrayNymber=function(a){if(a.length){for(var e=-1/0,i=0,u=a.length;i<u;i++)a[i]>e&&(e=a[i]);return e}},p.getMinArrayNymber=function(a){if(a.length){for(var e=1/0,i=0,u=a.length;i<u;i++)a[i]<e&&(e=a[i]);return e}},p.getStringWidth=function(a,e){e=x({font:"normal 14px Roboto",lineHeight:20},e);var i=document.createElement("canvas"),u=i.getContext("2d");e.font&&(u.font=e.font);var o=u.measureText(a).width;return i.remove(),o},p.rgbToHex=function(a){if(a.substr(0,1)==="#")return a;var e=/(.*?)rgb[a]?\((\d+), *(\d+), *(\d+),* *([\d+.]*)\)/.exec(a),i=parseInt(e[2],10).toString(16).padStart(2,"0"),u=parseInt(e[3],10).toString(16).padStart(2,"0"),o=parseInt(e[4],10).toString(16).padStart(2,"0");return"#".concat(i).concat(u).concat(o)},p.getCloneObject=function a(e){if(!e)return e;var i=Array.isArray(e)?[]:{};for(var u in e){var o=e[u];o instanceof Date?i[u]=new Date(o):i[u]=typeof o=="object"?a(o):o}return i},p.getTextLines=function(a,e,i){for(var u=e.split(" "),o="",h="",r=[],f=0;f<u.length;f++)h+="".concat(u[f]," "),a.measureText(h.trimEnd()).width>i&&f>0?(r.push(o),o="".concat(u[f]," "),h="".concat(u[f]," ")):o+="".concat(u[f]," "),f===u.length-1&&r.push(o);return r}},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(r){for(var f,d=1,t=arguments.length;d<t;d++)for(var c in f=arguments[d])Object.prototype.hasOwnProperty.call(f,c)&&(r[c]=f[c]);return r},x.apply(this,arguments)};function w(r,f,d){for(f===void 0&&(f="dhx_id"),d===void 0&&(d="target"),r instanceof Event&&(r=r[d]);r;){if(r.getAttribute&&r.getAttribute(f))return r;r=r.parentNode}}Object.defineProperty(p,"__esModule",{value:!0}),p.getLabelStyle=p.getPageCss=p.fitPosition=p.calculatePosition=p.getRealPosition=p.isFirefox=p.isSafari=p.isIE=p.getScrollbarHeight=p.getScrollbarWidth=p.getBox=p.locateNodeByClassName=p.locate=p.locateNode=p.eventHandler=p.toNode=void 0,p.toNode=function(r){var f;return typeof r=="string"?document.getElementById(r)||document.querySelector(r)||((f=document.querySelector("[dhx_root_id=".concat(r,"]")))===null||f===void 0?void 0:f.parentElement)||document.body:r||document.body},p.eventHandler=function(r,f,d){var t=Object.keys(f);return function(c){var l=r(c);if(l!==void 0){var n=c.target;t:for(;n;){var s=n.getAttribute&&n.getAttribute("class")||"";if(s.length){for(var _=s.split(" "),v=0;v<t.length;v++)if(_.includes(t[v])){if(f[t[v]](c,l)===!1)return!1;break t}}n=n.parentNode}}return d&&d(c),!0}},p.locateNode=w,p.locate=function(r,f){f===void 0&&(f="dhx_id");var d=w(r,f);return d?d.getAttribute(f):""},p.locateNodeByClassName=function(r,f){for(r instanceof Event&&(r=r.target);r;){if(f){if(r.classList&&r.classList.contains(f))return r}else if(r.getAttribute&&r.getAttribute("dhx_id"))return r;r=r.parentNode}},p.getBox=function(r){var f=r.getBoundingClientRect(),d=document.body,t=window.pageYOffset||d.scrollTop,c=window.pageXOffset||d.scrollLeft;return{top:f.top+t,left:f.left+c,right:d.offsetWidth-f.right,bottom:d.offsetHeight-f.bottom,width:f.right-f.left,height:f.bottom-f.top}};var g=-1;p.getScrollbarWidth=function(){if(g>-1)return g;var r=document.createElement("div");return document.body.appendChild(r),r.style.cssText="position: absolute;left: -99999px;overflow:scroll;width: 100px;height: 100px;",g=r.offsetWidth-r.clientWidth,document.body.removeChild(r),g};var a=-1;function e(r){var f=r.getBoundingClientRect();return{left:f.left+window.pageXOffset,right:f.right+window.pageXOffset,top:f.top+window.pageYOffset,bottom:f.bottom+window.pageYOffset}}function i(){return{rightBorder:window.pageXOffset+window.innerWidth,bottomBorder:window.pageYOffset+window.innerHeight}}function u(r,f){var d,t,c=i(),l=c.rightBorder,n=c.bottomBorder-r.bottom-f.height,s=r.top-f.height;if(f.mode==="bottom"?n>=0?t=r.bottom:s>=0&&(t=s):s>=0?t=s:n>=0&&(t=r.bottom),n<0&&s<0){if(f.auto)return o(r,x(x({},f),{mode:"right",auto:!1}));t=n>s?r.bottom:s}if(f.centering)d=function(m,y,C){var E=(y-(m.right-m.left))/2,k=m.left-E,S=m.right+E;return k>=0&&S<=C?k:k<0?0:C-y}(r,f.width,l);else{var _=l-r.left-f.width,v=r.right-f.width;d=_>=0?r.left:v>=0?v:v>_?r.left:v}return{left:d,top:t}}function o(r,f){var d,t,c=i(),l=c.rightBorder,n=c.bottomBorder,s=l-r.right-f.width,_=r.left-f.width;if(f.mode==="right"?s>=0?d=r.right:_>=0&&(d=_):_>=0?d=_:s>=0&&(d=r.right),_<0&&s<0){if(f.auto)return u(r,x(x({},f),{mode:"bottom",auto:!1}));d=_>s?_:r.right}if(f.centering)t=function(y,C,E){var k=(C-(y.bottom-y.top))/2,S=y.top-k,M=y.bottom+k;return S>=0&&M<=E?S:S<0?0:E-C}(r,f.height,l);else{var v=r.bottom-f.height,m=n-r.top-f.height;t=m>=0?r.top:v>0||v>m?v:r.top}return{left:d,top:t}}function h(r,f){var d=f.mode==="bottom"||f.mode==="top"?u(r,f):o(r,f),t=d.left,c=d.top;return{left:Math.round(t)+"px",top:Math.round(c)+"px",minWidth:Math.round(f.width)+"px",position:"absolute"}}p.getScrollbarHeight=function(){if(a>-1)return a;var r=document.createElement("div");return document.body.appendChild(r),r.style.cssText="position: absolute;left: -99999px;overflow:scroll;width: 100px;height: 100px;",a=r.offsetHeight-r.clientHeight,document.body.removeChild(r),a},p.isIE=function(){var r=window.navigator.userAgent;return r.includes("MSIE ")||r.includes("Trident/")},p.isSafari=function(){var r=function(t){return t.test(window.navigator.userAgent)},f=r(/Chrome/),d=r(/Firefox/);return!f&&!d&&r(/Safari/)},p.isFirefox=function(){var r=function(t){return t.test(window.navigator.userAgent)},f=r(/Chrome/),d=r(/Safari/);return!f&&!d&&r(/Firefox/)},p.getRealPosition=e,p.calculatePosition=h,p.fitPosition=function(r,f){return h(e(r),f)},p.getPageCss=function(){for(var r=[],f=0;f<document.styleSheets.length;f++)for(var d=document.styleSheets[f],t=("cssRules"in d)?d.cssRules:d.rules,c=0;c<t.length;c++){var l=t[c];"cssText"in l?r.push(l.cssText):r.push("".concat(l.selectorText,` {
`).concat(l.style.cssText,`
}
`))}return r.join(`
`)},p.getLabelStyle=function(r){var f=r.helpMessage,d=r.type,t=r.labelWidth,c=r.label,l=t&&t.toString().startsWith("0"),n=d!=="text"&&r.required;return!!(f||n||!(!c||c&&l)||t&&!l)&&{style:(c||t)&&!l&&{width:t,"max-width":"100%"},label:c&&l?null:c}}},function($,p,b){var x,w,g;Object.defineProperty(p,"__esModule",{value:!0}),p.GridSelectionEvents=p.GridSystemEvents=p.GridEvents=void 0,function(a){a.scroll="scroll",a.expand="expand",a.filterChange="filterChange",a.beforeResizeStart="beforeResizeStart",a.resize="resize",a.afterResizeEnd="afterResizeEnd",a.cellClick="cellClick",a.cellRightClick="cellRightClick",a.cellMouseOver="cellMouseOver",a.cellMouseDown="cellMouseDown",a.cellDblClick="cellDblClick",a.headerCellClick="headerCellClick",a.footerCellClick="footerCellClick",a.headerCellMouseOver="headerCellMouseOver",a.footerCellMouseOver="footerCellMouseOver",a.headerCellMouseDown="headerCellMouseDown",a.footerCellMouseDown="footerCellMouseDown",a.headerCellDblClick="headerCellDblClick",a.footerCellDblClick="footerCellDblClick",a.headerCellRightClick="headerCellRightClick",a.footerCellRightClick="footerCellRightClick",a.beforeEditStart="beforeEditStart",a.afterEditStart="afterEditStart",a.beforeEditEnd="beforeEditEnd",a.afterEditEnd="afterEditEnd",a.beforeKeyDown="beforeKeyDown",a.afterKeyDown="afterKeyDown",a.beforeColumnHide="beforeColumnHide",a.afterColumnHide="afterColumnHide",a.beforeColumnShow="beforeColumnShow",a.afterColumnShow="afterColumnShow",a.beforeRowHide="beforeRowHide",a.afterRowHide="afterRowHide",a.beforeRowShow="beforeRowShow",a.afterRowShow="afterRowShow",a.beforeRowDrag="beforeRowDrag",a.dragRowStart="dragRowStart",a.dragRowOut="dragRowOut",a.dragRowIn="dragRowIn",a.canRowDrop="canRowDrop",a.cancelRowDrop="cancelRowDrop",a.beforeRowDrop="beforeRowDrop",a.afterRowDrop="afterRowDrop",a.afterRowDrag="afterRowDrag",a.beforeColumnDrag="beforeColumnDrag",a.dragColumnStart="dragColumnStart",a.dragColumnOut="dragColumnOut",a.dragColumnIn="dragColumnIn",a.canColumnDrop="canColumnDrop",a.cancelColumnDrop="cancelColumnDrop",a.beforeColumnDrop="beforeColumnDrop",a.afterColumnDrop="afterColumnDrop",a.afterColumnDrag="afterColumnDrag",a.beforeRowResize="beforeRowResize",a.afterRowResize="afterRowResize",a.beforeSort="beforeSort",a.afterSort="afterSort"}(x||(p.GridEvents=x={})),function(a){a.cellTouchMove="cellTouchMove",a.cellTouchEnd="cellTouchEnd",a.headerCellTouchMove="headerCellTouchMove",a.headerCellTouchEnd="headerCellTouchEnd"}(w||(p.GridSystemEvents=w={})),function(a){a.beforeUnSelect="beforeUnSelect",a.afterUnSelect="afterUnSelect",a.beforeSelect="beforeSelect",a.afterSelect="afterSelect"}(g||(p.GridSelectionEvents=g={}))},function($,p,b){var x,w,g,a;Object.defineProperty(p,"__esModule",{value:!0}),p.RichTextEvents=p.RTEToolbarBlock=p.Action=p.Modifier=void 0,function(e){e[e.none=0]="none",e.style="style",e.align="align",e.blockquote="blockquote",e.bold="bold",e.italic="italic",e.strike="strike",e.fontSize="font-size",e.fontFamily="font-family",e.underline="underline",e.color="color",e.background="background",e.link="link"}(x||(p.Modifier=x={})),function(e){e.add="add",e.innerAdd="innerAdd",e.remove="remove",e.update="update",e.undo="undo",e.paste="paste",e.copy="copy",e.cut="cut",e.redo="redo",e.clear="clear",e.parse="parse",e.selectAll="selectAll"}(w||(p.Action=w={})),function(e){e.default="default",e.undo="undo",e.style="style",e.decoration="decoration",e.color="colors",e.align="align",e.link="link",e.clear="clear",e.fullscreen="fullscreen",e.stats="stats"}(g||(p.RTEToolbarBlock=g={})),function(e){e.change="change",e.action="action",e.selectionChange="selectionchange",e.selectionRefresh="selectionrefresh",e.showLinkEditor="showlinkeditor",e.compositionStart="compositionstart",e.compositionUpdate="compositionupdate",e.compositionEnd="compositionend"}(a||(p.RichTextEvents=a={}))},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.EventsMixin=p.EventSystem=void 0;var x=function(){function w(g){this.events={},this.context=g||this}return w.prototype.on=function(g,a,e){var i=g.toLowerCase();this.events[i]=this.events[i]||[],this.events[i].push({callback:a,context:e||this.context})},w.prototype.detach=function(g,a){var e=g.toLowerCase(),i=this.events[e];if(a&&i&&i.length)for(var u=i.length-1;u>=0;u--)i[u].context===a&&i.splice(u,1);else this.events[e]=[]},w.prototype.fire=function(g,a){a===void 0&&(a=[]);var e=g.toLowerCase();return!this.events[e]||!this.events[e].map(function(i){return i.callback.apply(i.context,a)}).includes(!1)},w.prototype.clear=function(){this.events={}},w}();p.EventSystem=x,p.EventsMixin=function(w){var g=new x(w=w||{});w.detachEvent=g.detach.bind(g),w.attachEvent=g.on.bind(g),w.callEvent=g.fire.bind(g)}},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.toViewLike=p.View=void 0;var x=b(1),w=b(2),g=function(){function a(e,i){this.config=i||{},this._uid=this.config.rootId||(0,x.uid)()}return a.prototype.mount=function(e,i){i&&(this._view=i),e&&this._view&&this._view.mount&&(this._container=(0,w.toNode)(e),this._container.tagName?this._view.mount(this._container):this._container.attach&&this._container.attach(this))},a.prototype.unmount=function(){var e=this.getRootView();e&&e.node&&(e.unmount(),this._view=null)},a.prototype.getRootView=function(){return this._view},a.prototype.getRootNode=function(){return this._view&&this._view.node&&this._view.node.el},a.prototype.paint=function(){this._view&&(this._view.node||this._container)&&(this._doNotRepaint=!1,this._view.redraw())},a}();p.View=g,p.toViewLike=function(a){return{getRootView:function(){return a},paint:function(){return a.node&&a.redraw()},mount:function(e){return a.mount(e)}}}},function($,p,b){var x=this&&this.__createBinding||(Object.create?function(g,a,e,i){i===void 0&&(i=e);var u=Object.getOwnPropertyDescriptor(a,e);u&&!("get"in u?!a.__esModule:u.writable||u.configurable)||(u={enumerable:!0,get:function(){return a[e]}}),Object.defineProperty(g,i,u)}:function(g,a,e,i){i===void 0&&(i=e),g[i]=a[e]}),w=this&&this.__exportStar||function(g,a){for(var e in g)e==="default"||Object.prototype.hasOwnProperty.call(a,e)||x(a,g,e)};Object.defineProperty(p,"__esModule",{value:!0}),w(b(12),p),w(b(49),p),w(b(106),p),w(b(107),p),w(b(20),p),w(b(138),p),w(b(13),p),w(b(52),p),w(b(51),p),w(b(139),p),w(b(50),p),w(b(34),p)},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.getTotalHeight=p.getTotalWidth=p.isHtmlEnable=p.isTooltip=p.isAutoWidth=p.isSortable=p.isRowEmpty=p.isCssSupport=p.removeHTMLTags=p.getStyleByClass=p.transpose=void 0;var x=b(1);p.transpose=function(w,g){for(var a=[],e=0;e<w.length;e++)for(var i=w[e],u=0;u<i.length;u++){a[u]=a[u]||[];var o=g?g(i[u]):i[u];a[u].push(o)}return a},p.getStyleByClass=function(w,g,a,e){var i,u,o=g.querySelector("."+a),h=(i=o,typeof(u='<div class="'.concat(w,'"></div>'))=="string"?(i.insertAdjacentHTML("beforeend",u),i.lastChild):(i.appendChild(u),u)),r=window.getComputedStyle(h),f={color:r.color==="rgb(0, 0, 0)"?e.color:(0,x.rgbToHex)(r.color),background:r.backgroundColor==="rgba(0, 0, 0, 0)"?e.background:(0,x.rgbToHex)(r.backgroundColor),fontSize:parseFloat(r.fontSize)};return o.removeChild(h),f.color===e.color&&f.background===e.background&&f.fontSize===e.fontSize?null:f},p.removeHTMLTags=function(w){return typeof w!="string"&&typeof w!="number"&&typeof w!="boolean"?"":"".concat(w??"").replace(/<[^>]*>/g,"").replace(/["]/g,"&quot;").trim()},p.isCssSupport=function(w,g){try{return CSS.supports(w,g)}catch{var a=document.createElement("div");return a.style[w]=g,a.style[w]===g}},p.isRowEmpty=function(w){if(w)return Object.keys(w).reduce(function(g,a){return a==="id"||a.startsWith("$")?g:g&&w[a]!==void 0&&w[a]!==""?void 0:g},!0)},p.isSortable=function(w,g){return g.sortable!==!1&&w.sortable||g.sortable},p.isAutoWidth=function(w,g){if(g)return g.autoWidth!==!1&&w.autoWidth||g.autoWidth;var a=!1;return w.columns.map(function(e){(e.autoWidth!==!1&&w.autoWidth||e.autoWidth)&&(a=!0)}),a},p.isTooltip=function(w,g){return g.tooltip!==!1&&w.tooltip||g.tooltip},p.isHtmlEnable=function(w,g){return g.htmlEnable!==!1&&w.htmlEnable||g.htmlEnable},p.getTotalWidth=function(w){return w.reduce(function(g,a){return g+(a.$width||0)},0)},p.getTotalHeight=function(w){return w.reduce(function(g,a){return g+(a.$height||0)},0)}},function($,p,b){function x(w){return w!==null&&typeof w=="object"&&!(w instanceof Date)}Object.defineProperty(p,"__esModule",{value:!0}),p.startsWith=p.copyWithout=p.isEqual=p.textSelectColor=p.textColor=p.actionIdToModifierValue=p.hashToInfo=p.getLinkRefer=p.getTextHash=void 0,p.getTextHash=function(w,g){return w+"_"+g},p.getLinkRefer=function(){var w=0;return function(){return"link_ref_"+w++}},p.hashToInfo=function(w){return w===void 0&&(w=""),w?w.split("_").map(function(g){return parseInt(g,10)}):[]},p.actionIdToModifierValue=function(w){return w.split("-").pop()},p.textColor=function(w){return'<span class="dxi dxi-format-color-text dhx_richtext__text-color" style="border-color: '.concat(w,';"></span>')},p.textSelectColor=function(w){return'<span class="dxi dxi-format-color-fill dhx_richtext__background-color" style="border-color: '.concat(w,';"></span>')},p.isEqual=function w(g,a,e){e===void 0&&(e=!1);var i=Object.keys(g),u=Object.keys(a);if(i.length!==u.length)return!1;for(var o=0,h=i;o<h.length;o++){var r=h[o];if(e&&x(g[r])&&x(a[r])){if(!w(g[r],a[r],e))return!1}else if(g[r]!==a[r])return!1}return!0},p.copyWithout=function(w,g){var a={};for(var e in w)g.hasOwnProperty(e)||(a[e]=w[e]);return a},p.startsWith=function(w,g){if(w.length<g.length)return!1;for(var a=0;a<g.length;a++)if(w[a]!==g[a])return!1;return!0}},function($,p,b){(function(x,w){(function(){x=typeof window<"u"?window:this;var g=1,a={},e=!1;function i(o){x.setImmediate?w(o):x.importScripts?setTimeout(o):(g++,a[g]=o,x.postMessage(g,"*"))}function u(o){if(typeof o!="function"&&o!=null||typeof this!="object"||this&&this.then)throw TypeError();var h,r,f=this,d=0,t=0,c=[];f.promise=f,f.resolve=function(_){return h=f.fn,r=f.er,d||(t=_,d=1,i(s)),f},f.reject=function(_){return h=f.fn,r=f.er,d||(t=_,d=2,i(s)),f},f._d=1,f.then=function(_,v){if(this._d!=1)throw TypeError();var m=new u;return m.fn=_,m.er=v,d==3?m.resolve(t):d==4?m.reject(t):c.push(m),m},f.catch=function(_){return f.then(null,_)};var l=function(_){d=_||4,c.map(function(v){d==3&&v.resolve(t)||v.reject(t)})};try{typeof o=="function"&&o(f.resolve,f.reject)}catch(_){f.reject(_)}return f;function n(_,v,m,y){if(d==2)return y();if(typeof t!="object"&&typeof t!="function"||typeof _!="function")y();else try{var C=0;_.call(t,function(E){C++||(t=E,v())},function(E){C++||(t=E,m())})}catch(E){t=E,m()}}function s(){var _;try{_=t&&t.then}catch(v){return t=v,d=2,s()}n(_,function(){d=1,s()},function(){d=2,s()},function(){try{d==1&&typeof h=="function"?t=h(t):d==2&&typeof r=="function"&&(t=r(t),d=1)}catch(v){return t=v,l()}t==f?(t=TypeError(),l()):n(_,function(){l(3)},l,function(){l(d==1&&3)})})}}x.setImmediate||x.addEventListener("message",function(o){if(o.source==x)if(e)i(a[o.data]);else{e=!0;try{a[o.data]()}catch{}delete a[o.data],e=!1}}),u.resolve=function(o){if(this._d!=1)throw TypeError();return o instanceof u?o:new u(function(h){h(o)})},u.reject=function(o){if(this._d!=1)throw TypeError();return new u(function(h,r){r(o)})},u.all=function(o){if(this._d!=1)throw TypeError();if(!(o instanceof Array))return u.reject(TypeError());var h=new u;return function r(f,d){if(d)return h.resolve(d);if(f)return h.reject(f);o.reduce(function(t,c){return c&&c.then?t+1:t},0)==0&&h.resolve(o),o.map(function(t,c){t&&t.then&&t.then(function(l){return o[c]=l,r(),l},r)})}(),h},u.race=function(o){if(this._d!=1)throw TypeError();if(!(o instanceof Array))return u.reject(TypeError());if(o.length==0)return new u;var h=new u;return function r(f,d){if(d)return h.resolve(d);if(f)return h.reject(f);o.reduce(function(t,c){return c&&c.then?t+1:t},0)==0&&h.resolve(o),o.map(function(t,c){t&&t.then&&t.then(function(l){r(null,l)},r)})}(),h},u._d=1,$.exports=u})()}).call(this,b(22),b(82).setImmediate)},function($,p,b){var x;Object.defineProperty(p,"__esModule",{value:!0}),p.defaultStyleCommon=p.defaultFontSizeByBlock=p.defaultBlocks=p.emptyStyle=p.getToolbarData=p.fonts=p.fontNumbers=p.fontSizes=void 0;var w=b(9),g=b(16),a=b(4);function e(){var u=[];for(var o in p.fontSizes){var h=parseInt(o,10);u.push({id:"font-size-"+h,value:o})}return u}function i(){var u=[];for(var o in p.fonts)u.push({id:"font-"+o,value:o});return u}p.fontSizes={"12px":!0,"14px":!0,"16px":!0,"18px":!0,"20px":!0,"24px":!0,"28px":!0,"32px":!0,"36px":!0},p.fontNumbers=[12,14,16,18,20,24,28,32,36],p.fonts={Roboto:!0,Arial:!0,Georgia:!0,Tahoma:!0,"Times New Roman":!0,Verdana:!0},p.getToolbarData=function(u,o){var h,r=((h={})[a.RTEToolbarBlock.undo]=[{id:"undo",tooltip:g.default.undo,type:"button",view:"link",color:"secondary",icon:"dxi-undo",multiClick:!0,disabled:!0},{id:"redo",tooltip:g.default.redo,type:"button",view:"link",color:"secondary",icon:"dxi-redo",multiClick:!0,disabled:!0}],h[a.RTEToolbarBlock.style]=[{id:a.Modifier.fontFamily,value:o[a.Modifier.fontFamily],tooltip:g.default.selectFontFamily,css:"dhx_richtext__dropdown",type:"button",view:"link",color:"secondary",size:"small",items:i()},{id:a.Modifier.fontSize,value:o[a.Modifier.fontSize],tooltip:g.default.selectFontSize,css:"dhx_richtext__dropdown",type:"button",view:"link",color:"secondary",size:"small",items:e()},{id:a.Modifier.style,tooltip:g.default.selectFormat,value:g.default[o[a.Modifier.style]],css:"dhx_richtext__dropdown",type:"button",view:"link",color:"secondary",size:"small",items:[{id:"style-p",value:g.default.p},{id:"style-h1",css:"dhx_richtext__menu-text--h1",value:g.default.h1},{id:"style-h2",css:"dhx_richtext__menu-text--h2",value:g.default.h2},{id:"style-h3",css:"dhx_richtext__menu-text--h3",value:g.default.h3},{id:"style-h4",css:"dhx_richtext__menu-text--h4",value:g.default.h4},{id:"style-h5",css:"dhx_richtext__menu-text--h5",value:g.default.h5},{id:"style-h6",css:"dhx_richtext__menu-text--h6",value:g.default.h6}]},{id:a.Modifier.blockquote,tooltip:g.default.blockquote,active:o[a.Modifier.blockquote],type:"button",view:"link",color:"secondary",size:"small",icon:"dxi-format-quote-open"}],h[a.RTEToolbarBlock.color]=[{id:a.Modifier.color,tooltip:g.default.selectTextColor,type:"customButton",css:"dhx_button--toolbar dhx_button--color_secondary",color:"secondary",html:(0,w.textColor)(o[a.Modifier.color])},{id:a.Modifier.background,tooltip:g.default.selectTextBackground,type:"customButton",css:"dhx_button--toolbar dhx_button--color_secondary",color:"secondary",html:(0,w.textSelectColor)(o[a.Modifier.background])}],h[a.RTEToolbarBlock.decoration]=[{id:a.Modifier.bold,tooltip:g.default.markBold,icon:"dxi-format-bold",type:"button",view:"link",color:"secondary",hotkey:"ctrl+b",active:o[a.Modifier.bold]},{id:a.Modifier.italic,tooltip:g.default.markItalic,icon:"dxi-format-italic",type:"button",view:"link",color:"secondary",hotkey:"ctrl+i",active:o[a.Modifier.italic]},{id:a.Modifier.strike,tooltip:g.default.markStrike,icon:"dxi-format-strikethrough",type:"button",color:"secondary",view:"link",active:o[a.Modifier.strike]},{id:a.Modifier.underline,tooltip:g.default.markUnderline,icon:"dxi-format-underline",type:"button",view:"link",color:"secondary",hotkey:"ctrl+u",active:o[a.Modifier.underline]}],h[a.RTEToolbarBlock.align]=[{id:"align-left",tooltip:g.default.alignLeft,type:"button",view:"link",color:"secondary",icon:"dxi-format-align-left",active:o[a.Modifier.align]==="left"},{id:"align-center",tooltip:g.default.alignCenter,type:"button",view:"link",color:"secondary",icon:"dxi-format-align-center",active:o[a.Modifier.align]==="center"},{id:"align-right",tooltip:g.default.alignRight,type:"button",view:"link",color:"secondary",icon:"dxi-format-align-right",active:o[a.Modifier.align]==="right"}],h[a.RTEToolbarBlock.link]=[{id:a.Modifier.link,tooltip:g.default.addLink,type:"button",view:"link",color:"secondary",icon:"dxi-link-variant"}],h[a.RTEToolbarBlock.clear]=[{id:"clear-style",tooltip:g.default.clearFormat,type:"button",view:"link",color:"secondary",icon:"dxi-eraser"}],h[a.RTEToolbarBlock.stats]=[{id:"stats",tooltip:g.default.stats,type:"button",view:"link",color:"secondary",icon:"dxi-information-outline"}],h[a.RTEToolbarBlock.fullscreen]=[{id:"fullscreen",$fullscreen:!1,tooltip:g.default.fullscreen,type:"button",view:"link",color:"secondary",icon:"dxi-arrow-expand"}],h);return u.reduce(function(f,d,t){return f.push.apply(f,r[d]),t!==u.length-1&&f.push({type:"separator"}),f},[])},p.emptyStyle={},p.defaultBlocks=[a.RTEToolbarBlock.undo,a.RTEToolbarBlock.style,a.RTEToolbarBlock.decoration,a.RTEToolbarBlock.color,a.RTEToolbarBlock.align,a.RTEToolbarBlock.link],p.defaultFontSizeByBlock={p:"14px",h1:"36px",h2:"32px",h3:"28px",h4:"24px",h5:"20px",h6:"16px"},p.defaultStyleCommon=((x={})[a.Modifier.fontFamily]="Roboto",x[a.Modifier.fontSize]="14px",x[a.Modifier.color]="#4D4D4D",x[a.Modifier.background]="#FFFFFF",x[a.Modifier.bold]=!1,x[a.Modifier.italic]=!1,x[a.Modifier.strike]=!1,x[a.Modifier.underline]=!1,x[a.Modifier.style]="p",x[a.Modifier.blockquote]=!1,x[a.Modifier.align]="left",x)},function($,p,b){var x,w,g,a;Object.defineProperty(p,"__esModule",{value:!0}),p.DataDriver=p.DragEvents=p.DataEvents=p.TreeFilterType=void 0,function(e){e.all="all",e.level="level",e.leafs="leafs"}(x||(p.TreeFilterType=x={})),function(e){e.afterAdd="afteradd",e.beforeAdd="beforeadd",e.removeAll="removeall",e.beforeRemove="beforeremove",e.afterRemove="afterremove",e.change="change",e.load="load",e.loadError="loaderror",e.beforeLazyLoad="beforelazyload",e.afterLazyLoad="afterlazyload"}(w||(p.DataEvents=w={})),function(e){e.beforeDrag="beforeDrag",e.dragStart="dragStart",e.dragOut="dragOut",e.dragIn="dragIn",e.canDrop="canDrop",e.cancelDrop="cancelDrop",e.beforeDrop="beforeDrop",e.afterDrop="afterDrop",e.afterDrag="afterDrag"}(g||(p.DragEvents=g={})),function(e){e.json="json",e.csv="csv",e.xml="xml"}(a||(p.DataDriver=a={}))},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.hasJsonOrArrayStructure=p.isTreeCollection=p.copyWithoutInner=p.toDataDriver=p.toProxy=p.dhxError=p.dhxWarning=p.isDebug=p.findByConf=p.naturalCompare=p.isEqualObj=void 0;var x=b(20),w=b(50);p.isEqualObj=function(g,a){for(var e in g)if(g[e]!==a[e]||Array.isArray(g[e]))return!1;return!0},p.naturalCompare=function(g,a){if(isNaN(g)||isNaN(a)){var e=[],i=[];for(g.replace(/(\d+)|(\D+)/g,function(r,f,d){e.push([f||1/0,d||""])}),a.replace(/(\d+)|(\D+)/g,function(r,f,d){i.push([f||1/0,d||""])});e.length&&i.length;){var u=e.shift(),o=i.shift(),h=u[0]-o[0]||u[1].localeCompare(o[1]);if(h)return h}return e.length-i.length}return g-a},p.findByConf=function(g,a){if(typeof a=="function"){if(a.call(this,g))return g}else if(a.by&&a.match&&g[a.by]===a.match)return g},p.isDebug=function(){var g=window.dhx;if(g!==void 0)return g.debug!==void 0&&g.debug},p.dhxWarning=function(g){console.warn(g)},p.dhxError=function(g){throw new Error(g)},p.toProxy=function(g){var a=typeof g;return a==="string"?new x.DataProxy(g):a==="object"?g:void 0},p.toDataDriver=function(g){if(typeof g=="string"){var a=window.dhx,e=a&&a.dataDrivers||w.dataDrivers;if(e[g])return new e[g];console.warn("Incorrect data driver type:",g),console.warn("Available types:",JSON.stringify(Object.keys(e)))}else if(typeof g=="object")return g},p.copyWithoutInner=function(g,a){var e={};for(var i in g)i.startsWith("$")||a&&a[i]||(e[i]=g[i]);return e},p.isTreeCollection=function(g){return!!g.getRoot},p.hasJsonOrArrayStructure=function(g){if(typeof g=="object")return!0;if(typeof g!="string")return!1;try{var a=JSON.parse(g);return Object.prototype.toString.call(a)==="[object Object]"||Array.isArray(a)}catch{return!1}}},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.getTreeCellWidthOffset=p.getCalculatedRowHeight=p.toFormat=p.getMaxColsWidth=p.getMaxRowHeight=p.getUnique=p.calculatePositions=p.countColumns=p.normalizeColumns=void 0;var x=b(1),w=b(8),g=b(25);function a(e,i){e[i]&&(typeof e[i]=="string"?e[i]=[{text:"".concat(e[i])}]:e[i]=e[i].map(function(u){return typeof u=="string"&&(u={text:u}),u}))}p.normalizeColumns=function(e,i){var u=e.columns,o=e.htmlEnable;i===void 0&&(i=!1);for(var h=0,r=u;h<r.length;h++){var f=r[h];f.$htmlEnable=!(!f.htmlEnable&&!o),f.$cellCss=f.$cellCss||{},a(f,"header"),a(f,"footer"),f.header.reduce(function(t,c){return t||!!c.content},!1)&&(f.$uniqueData=[]);var d=f.minWidth||100;f.width&&(d=f.maxWidth&&f.minWidth?f.width>=f.minWidth&&f.width<=f.maxWidth?f.width:f.width>=f.maxWidth?f.maxWidth:f.minWidth:f.maxWidth?f.width<=f.maxWidth?f.width:f.maxWidth>100?f.maxWidth:100:f.minWidth?f.width>=f.minWidth?f.width:f.minWidth:f.width),f.$width=f.$width&&!i?f.$width:d,f.$width>f.maxWidth&&(f.$width=f.maxWidth),f.$width<f.minWidth&&(f.$width=f.minWidth)}},p.countColumns=function(e,i){var u=0,o=0,h=0,r=!1,f=0,d=!1;return i.forEach(function(t){if(u=Math.max(u,t.header.length),h+=t.$width,t.footer&&(o=Math.max(o,t.footer.length),d||(d=!0)),!r){for(var c=0,l=t.header;c<l.length;c++)if(l[c].colspan)return void(r=!0)}}),i.forEach(function(t){if(t.header.length<u)for(var c=0;c<u;c++)t.header[c]=t.header[c]||{text:""};if(d&&(t.footer=t.footer||[]),t.footer&&t.footer.length<o)for(c=0;c<o;c++)t.footer[c]=t.footer[c]||{text:""};t.header=t.header.map(function(l){return typeof l!="object"&&(l={text:l}),l.css=l.css||"",l.text||l.css.includes("dhx_cell-empty")||(l.css+=" dhx_cell-empty"),l}),t.header[0].text===""&&f++}),e.$totalWidth=h,e.$headerLevel=u,e.$footerLevel=o,e.$colspans=r,e.$footer=d,f},p.calculatePositions=function(e,i,u,o,h){for(var r=o.columns||[],f=r.length,d=h||[],t=d.length,c=-1/0,l=0;l<f;l++)r[l].$width>c&&(c=r[l].$width);var n=1/0;for(l=0;l<f;l++)r[l].$width<n&&(n=r[l].$width);var s=-1/0;for(l=0;l<t;l++)d[l].$height>s&&(s=d[l].$height);for(var _=o.rowHeight,v=Math.round(c/n),m=Math.round(s/_),y=o.$totalWidth/f,C=Math.round(e/y),E=o.$totalHeight/t,k=Math.round(i/E),S=0,M=u.left,T=0;T<r.length&&(M-=r[T].$width)+y/2>0;T++)S++;var I=0,O=u.top;for(T=0;T<d.length&&(O-=d[T].$height)+E/2>0;T++)I++;return{xStart:S-v>=0?S-v:0,xEnd:S+C+v,yStart:I-m>=0?I-m:0,yEnd:I+k+m}},p.getUnique=function(e,i,u){var o=e.map(function(h){return h[i]});return u&&o.forEach(function(h,r){h.includes(", ")&&(h.split(", ").forEach(function(f){return o.push(f)}),delete o[r])}),o.filter(function(h,r,f){return f.indexOf(h)===r&&(0,x.isDefined)(h)}).sort()},p.getMaxRowHeight=function(e,i,u){var o,h;u===void 0&&(u={font:"20px Roboto",lineHeight:20});var r=document.createElement("canvas"),f=r.getContext("2d",{alpha:!1});f.font=u.font;for(var d={},t=i.length,c=0;c<t;c++)i[c].template?d[i[c].id]={width:i[c].$width||0,htmlEnable:i[c].$htmlEnable,template:i[c].template,cols:i[c]}:d[i[c].id]={width:i[c].$width||0,htmlEnable:i[c].$htmlEnable};for(var l=[],n=[],s=0,_=Object.entries(e);s<_.length;s++){var v=_[s],m=v[0],y=v[1];if(d[m]&&m!=="id"&&m!=="height"&&!m.startsWith("$")&&(typeof y=="string"||typeof y=="number")){var C="";if(!((o=d[m])===null||o===void 0)&&o.template){var E=d[m].template(y,e,d[m].cols);C=d[m].htmlEnable?(0,w.removeHTMLTags)(E):E}else C=typeof y=="string"?d[m].htmlEnable?(0,w.removeHTMLTags)(y):y:y.toString();l.push(C.split(`
`).length),n.push(Math.round(f.measureText(C).width/((h=d[m])===null||h===void 0?void 0:h.width)))}}var k=Math.max((0,x.getMaxArrayNymber)(l),(0,x.getMaxArrayNymber)(n));return r.remove(),k*u.lineHeight},p.getMaxColsWidth=function(e,i,u,o){var h;if(u===void 0&&(u={font:"normal 14.4px Arial"}),e.length&&i.length){var r=document.createElement("canvas"),f=r.getContext("2d",{alpha:!1});f.font=u.font;for(var d={},t=i.length,c=0;c<t;c++)i[c].template&&o==="data"?d[i[c].id]={width:20,htmlEnable:i[c].$htmlEnable,template:i[c].template,cols:i[c]}:d[i[c].id]={width:20,htmlEnable:i[c].$htmlEnable,format:i[c].format};var l=e.length;for(c=0;c<l;c++)for(var n=0,s=Object.entries(e[c]);n<s.length;n++){var _=s[n],v=_[0],m=_[1];if(d[v]&&v!=="id"&&v!=="height"&&!v.startsWith("$")&&(typeof m=="string"||typeof m=="number"||m instanceof Date)){var y=void 0;if(typeof((h=d[v])===null||h===void 0?void 0:h.template)!="function"||m instanceof Date)y=m instanceof Date?(0,g.getFormattedDate)(d[v].format||"%M %d %Y",m):d[v].htmlEnable?(0,w.removeHTMLTags)(m):m.toString();else{var C=d[v].template(m,e[c],d[v].cols);y=d[v].htmlEnable?(0,w.removeHTMLTags)(C):C}var E=f.measureText(y).width;E>d[v].width&&(d[v].width=E)}}r.remove();for(var k={},S=0,M=Object.entries(d);S<M.length;S++){var T=M[S];v=T[0],m=T[1],k[v]=Math.ceil(m.width)}return k}},p.toFormat=function(e,i,u){if(!e&&typeof e!="number")return e;switch(i){case"number":case"percent":return u||(u="#"),(0,x.isDefined)(e)&&!isNaN(Number(e))?function(o){var h;e=e.toString();var r=u.replace(/#+/g,"#").split("#").filter(function(s){return s});e=o==="percent"?(100*Number(e)).toString():e;var f=Math.trunc(Number(e)).toString(),d=u.match(/0/g)&&u.match(/0/g).length,t=r.find(function(s){return!s.includes("0")});if(h=t?f.replace(/(\d)(?=(\d{3})+(\D|$))/g,"$1".concat(t)):f,d){var c=r.find(function(s){return s.includes("0")}).replace(/0+/g,""),l=e.split(".")[1]||"0",n=(+("0."+l)).toFixed(d);Number(n)>=1&&(h++).toString(),h+=c+(n=n.toString().split(".")[1].padEnd(d,"0"))}return o==="percent"?"".concat(h,"%"):h}(i):e;case"date":return u||(u="%M %d %Y"),typeof e=="string"?e=(0,g.getFormattedDate)(u,(0,g.stringToDate)(e,u)):typeof e=="object"&&(e=(0,g.getFormattedDate)(u,e)),e;default:return e}},p.getCalculatedRowHeight=function(e,i){i===void 0&&(i={rowHeight:40,padding:8});var u=i.rowHeight<40?e:e+2*i.padding;return e<i.rowHeight?i.rowHeight:u},p.getTreeCellWidthOffset=function(e){return 20+20*e.$level-(e.$items?20:0)}},function($,p,b){var x=this&&this.__createBinding||(Object.create?function(g,a,e,i){i===void 0&&(i=e);var u=Object.getOwnPropertyDescriptor(a,e);u&&!("get"in u?!a.__esModule:u.writable||u.configurable)||(u={enumerable:!0,get:function(){return a[e]}}),Object.defineProperty(g,i,u)}:function(g,a,e,i){i===void 0&&(i=e),g[i]=a[e]}),w=this&&this.__exportStar||function(g,a){for(var e in g)e==="default"||Object.prototype.hasOwnProperty.call(a,e)||x(a,g,e)};Object.defineProperty(p,"__esModule",{value:!0}),w(b(94),p),w(b(43),p)},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.default={apply:"Apply",undo:"Undo",redo:"Redo",selectFontFamily:"Font",selectFontSize:"Font size",selectFormat:"Style",selectTextColor:"Text color",selectTextBackground:"Background color",markBold:"Bold",markItalic:"Italic",markStrike:"Strike",markUnderline:"Underline",alignLeft:"Align left",alignCenter:"Align center",alignRight:"Align right",addLink:"Add link",clearFormat:"Clear formatting",fullscreen:"Fullscreen",stats:"Statistics",removeLink:"Remove link",edit:"Edit",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",p:"Normal text",blockquote:"Block quote",chars:"chars",charsExlSpace:"Characters without spaces",words:"words",link:"Link",text:"Text"}},function($,p,b){var x=this&&this.__createBinding||(Object.create?function(g,a,e,i){i===void 0&&(i=e);var u=Object.getOwnPropertyDescriptor(a,e);u&&!("get"in u?!a.__esModule:u.writable||u.configurable)||(u={enumerable:!0,get:function(){return a[e]}}),Object.defineProperty(g,i,u)}:function(g,a,e,i){i===void 0&&(i=e),g[i]=a[e]}),w=this&&this.__exportStar||function(g,a){for(var e in g)e==="default"||Object.prototype.hasOwnProperty.call(a,e)||x(a,g,e)};Object.defineProperty(p,"__esModule",{value:!0}),w(b(91),p),w(b(92),p),w(b(93),p),w(b(42),p),w(b(30),p)},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.KeyManager=void 0;var x=b(19),w=b(2);function g(i){for(var u=i.toLowerCase().match(/\w+/g),o=0,h="",r=0;r<u.length;r++){var f=u[r];f==="ctrl"?o+=4:f==="shift"?o+=2:f==="alt"?o+=1:h=f}return o+h}var a={Up:"arrowUp",Down:"arrowDown",Right:"arrowRight",Left:"arrowLeft",Esc:"escape",Spacebar:"space"},e=function(){function i(u){var o=this;this._keysStorage={},this._initHandler=function(h){var r;if(h.which>=48&&h.which<=57||h.which>=65&&h.which<=90)r=String.fromCharCode(h.which);else{var f=h.which===32?h.code:h.key;r=(0,w.isIE)()&&a[f]||f}var d=o._keysStorage[(h.ctrlKey||h.metaKey?4:0)+(h.shiftKey?2:0)+(h.altKey?1:0)+(r&&r.toLowerCase())];if(d)for(var t=0;t<d.length;t++){if(o._beforeCall&&o._beforeCall(h,x.focusManager.getFocusId())===!1)return;d[t].handler(h)}},u&&(this._beforeCall=u),document.addEventListener("keydown",this._initHandler)}return i.prototype.destructor=function(){document.removeEventListener("keydown",this._initHandler),this.removeHotKey()},i.prototype.addHotKey=function(u,o){var h=g(u);this._keysStorage[h]||(this._keysStorage[h]=[]),this._keysStorage[h].push({handler:o})},i.prototype.removeHotKey=function(u,o){var h=this;if(u)if(u&&o){var r=g(u),f=function(t){return t.toString().replace(/\n/g,"").replace(/\s/g,"")};this._keysStorage[r].forEach(function(t,c){f(t.handler)===f(o)&&(delete h._keysStorage[r][c],h._keysStorage[r]=h._keysStorage[r].filter(function(l){return l}))})}else{var d=g(u);delete this._keysStorage[d]}else this._keysStorage={}},i.prototype.exist=function(u){var o=g(u);return!!this._keysStorage[o]},i}();p.KeyManager=e},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.focusManager=void 0;var x=b(2),w=function(){function g(){var a=this;this._initHandler=function(e){return a._activeWidgetId=(0,x.locate)(e,"dhx_widget_id")},document.addEventListener("focusin",this._initHandler),document.addEventListener("click",this._initHandler)}return g.prototype.getFocusId=function(){return this._activeWidgetId},g.prototype.setFocusId=function(a){this._activeWidgetId=a},g}();p.focusManager=new w},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.DataProxy=void 0;var x=b(34),w=function(){function g(a,e){this.url=this._url=a,this.config=e}return g.prototype.updateUrl=function(a,e){for(var i in e===void 0&&(e={}),this._url=this.url=a||this._url,this.url+=this.url.includes("?")?"&":"?",e)this.config[i]=e[i],this.url+="".concat(i,"=").concat(encodeURIComponent(e[i]),"&");this.url=this.url.slice(0,-1)},g.prototype.load=function(){return x.ajax.get(this.url,void 0,{responseType:"text"})},g.prototype.save=function(a,e){switch(e){case"delete":return x.ajax.delete(this.url,a);case"insert":return x.ajax.put(this.url,a);default:return x.ajax.post(this.url,a)}},g}();p.DataProxy=w},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(a){for(var e,i=1,u=arguments.length;i<u;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o]);return a},x.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.getNavbarButtonCSS=p.navbarComponentMixin=p.getIcon=p.getCount=void 0;var w=b(0),g=b(1);p.getCount=function(a,e,i){var u={danger:" dhx_navbar-count--color_danger",secondary:" dhx_navbar-count--color_secondary",primary:" dhx_navbar-count--color_primary",success:" dhx_navbar-count--color_success"}[a.countColor]||" dhx_navbar-count--color_danger";return(0,w.el)(".dhx_navbar-count",{class:e+u+(!i&&parseInt(a.count,10)>99?" dhx_navbar-count--overlimit":"")},i&&parseInt(a.count,10)>99?"99+":a.count)},p.getIcon=function(a,e){return a===void 0&&(a=""),a.startsWith("dxi")&&(a="dxi "+a),(0,w.el)("span",{class:"dhx_".concat(e,"__icon ").concat(a),"aria-hidden":"true"})},p.navbarComponentMixin=function(a,e,i,u){var o,h,r=function(d,t,c){var l="",n="";return n=(l=c?"dhx_menu-item":"dhx_"+d+"__item")+(t.css?" "+t.css:""),t.type!=="spacer"&&t.type!=="separator"||(n+=" ".concat(l,"--").concat(t.type)),t.type!=="button"||d!=="sidebar"||t.icon||(n+=" dhx_navbar-item--colapse_hidden"),n}(a,e,i),f=a==="ribbon"&&(e.type==="navItem"||e.type==="imageButton");return(0,w.el)("li",x({_key:e.id,class:r+(e.icon&&!e.value&&f?" dhx_ribbon__item--icon":"")+(e.src&&!e.value&&f?" dhx_ribbon__item--icon":"")+(e.size&&f?" dhx_ribbon__item--"+e.size:""),".innerHTML":e.type==="customHTML"?e.html:void 0,dhx_id:e.type==="customHTML"?e.id:void 0},(o=e.type,h={role:"none"},o==="separator"&&(h.role="separator",h["aria-orientation"]="vertical"),h)),e.type!=="customHTML"?[u]:void 0)},p.getNavbarButtonCSS=function(a,e){var i=a.color,u=a.size,o=a.view,h=a.full,r=a.icon,f=a.circle,d=a.loading,t=a.value,c=a.active,l=a.count;return({danger:" dhx_button--color_danger",secondary:" dhx_button--color_secondary",primary:" dhx_button--color_primary",success:" dhx_button--color_success"}[i]||" dhx_button--color_primary")+({small:" dhx_button--size_small",medium:" dhx_button--size_medium"}[u]||" dhx_button--size_medium")+({flat:" dhx_button--view_flat",link:" dhx_button--view_link"}[o]||" dhx_button--view_flat")+(h?" dhx_button--width_full":"")+(f?" dhx_button--circle":"")+(d?" dhx_button--loading":"")+(c?" dhx_button--active":"")+(r&&!t?" dhx_button--icon":"")+((0,g.isDefined)(l)?" dhx_button--count":"")}},function($,p){var b;b=function(){return this}();try{b=b||new Function("return this")()}catch{typeof window=="object"&&(b=window)}$.exports=b},function($,p,b){var x=this&&this.__createBinding||(Object.create?function(g,a,e,i){i===void 0&&(i=e);var u=Object.getOwnPropertyDescriptor(a,e);u&&!("get"in u?!a.__esModule:u.writable||u.configurable)||(u={enumerable:!0,get:function(){return a[e]}}),Object.defineProperty(g,i,u)}:function(g,a,e,i){i===void 0&&(i=e),g[i]=a[e]}),w=this&&this.__exportStar||function(g,a){for(var e in g)e==="default"||Object.prototype.hasOwnProperty.call(a,e)||x(a,g,e)};Object.defineProperty(p,"__esModule",{value:!0}),w(b(38),p),w(b(87),p),w(b(29),p)},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.ScrollView=p.scrollViewConfig=void 0;var x=b(1),w=b(0),g=b(2);p.scrollViewConfig={enable:!1,autoHide:!0,timeout:1e3,scrollHandler:function(){}};var a=function(){function e(i,u){var o;u===void 0&&(u={});var h=this;this.config=(0,x.extend)({enable:p.scrollViewConfig.enable,autoHide:p.scrollViewConfig.autoHide,timeout:p.scrollViewConfig.timeout,scrollHandler:p.scrollViewConfig.scrollHandler},u),this._wheelName=(0,g.isIE)()?"onmousewheel":"onwheel",this._getRootView=i,this._scrollYTop=this._scrollXLeft=this._runnerYTop=this._runnerXLeft=this._runnerHeight=this._runnerWidth=0,this._visibleYArea=this._visibleXArea=1,this._scrollWidth=(0,g.getScrollbarWidth)(),this._scrollHeight=(0,g.getScrollbarHeight)(),this._handlers=((o={onscroll:function(r){h.config.scrollHandler(r),h.update()}})[this._wheelName]=function(r){var f=!!(0,g.locateNodeByClassName)(r.target,"y-scroll");r.preventDefault();var d=40*((r.deltaY||-r.wheelDelta)>0?1:-1),t=h._getRefs().area;if(f){var c=t.scrollHeight-h._runnerHeight,l=h._scrollYTop+d;t.scrollTop=l<0?0:l>c?c:l}else{var n=t.scrollWidth-h._runnerWidth,s=h._scrollXLeft+d;t.scrollLeft=s<0?0:s>n?n:s}h.update()},o.onmousedownRunner=function(r){r.preventDefault();var f=!!(0,g.locateNodeByClassName)(r.target,"y-scroll"),d=h._getRefs(),t=d.area,c=d.runnerY,l=d.runnerX,n=t.getBoundingClientRect(),s=n.top+window.pageYOffset,_=n.bottom+window.pageYOffset,v=t.scrollHeight-h._runnerHeight,m=r.pageY-c.getBoundingClientRect().top-window.pageYOffset,y=n.left+window.pageXOffset,C=n.right+window.pageXOffset,E=t.scrollWidth-h._runnerWidth,k=r.pageX-l.getBoundingClientRect().left-window.pageXOffset,S=function(T){if(f){var I=T.pageY-m;t.scrollTop=I<=s?0:I>_?v:(I-s)/h._visibleYArea}else{var O=T.pageX-k;t.scrollLeft=O<=y?0:O>C?E:(O-y)/h._visibleXArea}h.update()},M=function(){document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",M),document.body.classList.remove("dhx-no-select")};document.body.classList.add("dhx-no-select"),document.addEventListener("mousemove",S),document.addEventListener("mouseup",M)},o.onmousedownArea=function(r){if(!(0,g.locateNodeByClassName)(r,"scroll-runner")){r.preventDefault();var f=!!(0,g.locateNodeByClassName)(r.target,"y-scroll"),d=h._getRefs(),t=d.area,c=d.runnerY,l=d.runnerX;f?t.scrollTop+=(r.pageY-c.getBoundingClientRect().top)/h._visibleYArea:t.scrollLeft+=(r.pageX-l.getBoundingClientRect().left)/h._visibleXArea,h.update()}},o.onmouseenter=function(r){if(!(0,g.locateNodeByClassName)(r,"scroll-runner")){var f=h._getRefs();if(f){var d=!!(0,g.locateNodeByClassName)(r.target,"y-scroll"),t=f.areaX,c=f.areaY;d&&h._runnerHeight>0?c.style.background="#eee":!d&&h._runnerWidth>0&&(t.style.background="#eee")}}},o.onmouseleave=function(r){if(!(0,g.locateNodeByClassName)(r,"scroll-runner")){var f=h._getRefs();if(f){var d=!!(0,g.locateNodeByClassName)(r.target,"y-scroll"),t=f.areaX,c=f.areaY;d&&h._runnerHeight>0?c.style.background="transparent":!d&&h._runnerWidth>0&&(t.style.background="transparent")}}},o)}return e.prototype.enable=function(){this.config.enable=!0,this._getRootView().redraw()},e.prototype.disable=function(){this.config.enable=!1,this._getRootView().redraw()},e.prototype.render=function(i,u){var o,h,r=this;if(u===void 0&&(u=""),this._scrollWidth===0||!this.config.enable||!i.length)return i;u&&(this._uid=u);var f=this.config.enable?[(0,w.el)(".y-scroll",(o={},o[this._wheelName]=this._handlers[this._wheelName],o._ref=u?"scroll-y-area-".concat(u):"scroll-y-area",o.onmousedown=this._handlers.onmousedownArea,o.onmouseenter=this._handlers.onmouseenter,o.onmouseleave=this._handlers.onmouseleave,o.style={width:"6px",height:"100%",right:0,top:0,position:"absolute"},o),[(0,w.el)(".scroll-runner",{_ref:u?"scroll-y-runner-".concat(u):"scroll-y-runner",onmousedown:this._handlers.onmousedownRunner,style:{height:this._runnerHeight+"px",top:this._runnerYTop}})]),(0,w.el)(".x-scroll",(h={},h[this._wheelName]=this._handlers[this._wheelName],h._ref=u?"scroll-x-area-".concat(u):"scroll-x-area",h.onmousedown=this._handlers.onmousedownArea,h.onmouseenter=this._handlers.onmouseenter,h.onmouseleave=this._handlers.onmouseleave,h.style={width:"100%",height:"6px",left:0,bottom:0,position:"absolute"},h),[(0,w.el)(".scroll-runner",{_ref:u?"scroll-x-runner-".concat(u):"scroll-x-runner",onmousedown:this._handlers.onmousedownRunner,style:{width:this._runnerWidth+"px",left:this._runnerXLeft}})])]:null;return(0,w.el)(".scroll-view-wrapper",[(0,w.el)(".scroll-view",{onscroll:this._handlers.onscroll,_ref:u?"scroll-view-".concat(u):"scroll-view",_hooks:{didInsert:function(){r.update()},didRecycle:function(){r.update()}},style:{width:"calc(100% + ".concat(this._scrollWidth,"px)"),height:"calc(100% + ".concat(this._scrollHeight,"px)")}},i)].concat(f))},e.prototype.update=function(){var i=this._getRefs();if(i){var u=i.area,o=i.areaX,h=i.areaY,r=i.runnerY,f=i.runnerX;this._visibleYArea=u.clientHeight/u.scrollHeight,this._visibleXArea=u.clientWidth/u.scrollWidth,this._scrollYTop=u.scrollTop,this._scrollXLeft=u.scrollLeft,this._runnerYTop=this._scrollYTop*this._visibleYArea,this._runnerXLeft=this._scrollXLeft*this._visibleXArea,this._runnerHeight=this._visibleYArea<1?u.clientHeight*this._visibleYArea:0,this._runnerWidth=this._visibleXArea<1?u.clientWidth*this._visibleXArea:0;var d=r.style.top,t=f.style.left;r.style.opacity=1,r.style.top=this._runnerYTop+"px",r.style.height=this._runnerHeight+"px",f.style.opacity=1,f.style.left=this._runnerXLeft+"px",f.style.width=this._runnerWidth+"px",d!==r.style.top&&(h.style.opacity=.9,h.style.width="10px"),t!==f.style.left&&(o.style.opacity=.9,o.style.height="10px"),this.config.autoHide?!this._autoHideFunc&&(this._autoHideFunc=(0,x.debounce)(function(){r.style.opacity=0,h.style.width="6px",f.style.opacity=0,o.style.height="6px"},this.config.timeout)):this._autoHideFunc=(0,x.debounce)(function(){h.style.width="6px",o.style.height="6px"},this.config.timeout),this._autoHideFunc()}},e.prototype._getRefs=function(){var i=this._getRootView(),u=!(!i.refs["scroll-view"]||!i.refs["scroll-x-runner"]&&!i.refs["scroll-y-runner"]),o=!(!this._uid||!i.refs["scroll-view-".concat(this._uid)]||!i.refs["scroll-x-runner-".concat(this._uid)]&&!i.refs["scroll-y-runner-".concat(this._uid)]);if(i.refs){if(u)return{area:i.refs["scroll-view"].el,areaY:i.refs["scroll-y-area"].el,areaX:i.refs["scroll-x-area"].el,runnerY:i.refs["scroll-y-runner"].el,runnerX:i.refs["scroll-x-runner"].el};if(o)return{area:i.refs["scroll-view-".concat(this._uid)].el,areaY:i.refs["scroll-y-area-".concat(this._uid)].el,areaX:i.refs["scroll-x-area-".concat(this._uid)].el,runnerY:i.refs["scroll-y-runner-".concat(this._uid)].el,runnerX:i.refs["scroll-x-runner-".concat(this._uid)].el}}},e}();p.ScrollView=a},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.DateHelper=p.stringToDate=p.getFormattedDate=p.locale=void 0;var x=b(1),w=b(1);p.locale={monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Monday"],cancel:"Cancel"};var g,a={"%d":function(o){var h=o.getDate();return h<10?"0"+h:h},"%j":function(o){return o.getDate()},"%l":function(o){return p.locale.days[o.getDay()]},"%D":function(o){return p.locale.daysShort[o.getDay()]},"%m":function(o){var h=o.getMonth()+1;return h<10?"0"+h:h},"%n":function(o){return o.getMonth()+1},"%M":function(o){return p.locale.monthsShort[o.getMonth()]},"%F":function(o){return p.locale.months[o.getMonth()]},"%y":function(o){return o.getFullYear().toString().slice(2)},"%Y":function(o){return o.getFullYear()},"%h":function(o){var h=o.getHours()%12;return h===0&&(h=12),h<10?"0"+h:h},"%g":function(o){var h=o.getHours()%12;return h===0&&(h=12),h},"%H":function(o){var h=o.getHours();return h<10?"0"+h:h},"%G":function(o){return o.getHours()},"%i":function(o){var h=o.getMinutes();return h<10?"0"+h:h},"%s":function(o){var h=o.getSeconds();return h<10?"0"+h:h},"%a":function(o){return o.getHours()>=12?"pm":"am"},"%A":function(o){return o.getHours()>=12?"PM":"AM"},"%u":function(o){return o.getMilliseconds()}},e={"%d":function(o,h){/(^([0-9][0-9])$)/i.test(h)?o.setDate(Number(h)):o.setDate(1)},"%j":function(o,h){/(^([0-9]?[0-9])$)/i.test(h)?o.setDate(Number(h)):o.setDate(1)},"%m":function(o,h){var r=/(^([0-9][0-9])$)/i.test(h);r?o.setMonth(Number(h)-1):o.setMonth(0),r&&o.getMonth()!==Number(h)-1&&o.setMonth(Number(h)-1)},"%n":function(o,h){var r=/(^([0-9]?[0-9])$)/i.test(h);r?o.setMonth(Number(h)-1):o.setMonth(0),r&&o.getMonth()!==Number(h)-1&&o.setMonth(Number(h)-1)},"%M":function(o,h){var r=(0,w.findIndex)(p.locale.monthsShort,function(f){return f===h});r===-1?o.setMonth(0):o.setMonth(r),r!==-1&&o.getMonth()!==r&&o.setMonth(r)},"%F":function(o,h){var r=(0,w.findIndex)(p.locale.months,function(f){return f===h});r===-1?o.setMonth(0):o.setMonth(r),r!==-1&&o.getMonth()!==r&&o.setMonth(r)},"%y":function(o,h){/(^([0-9][0-9])$)/i.test(h)?o.setFullYear(+("20"+h)):o.setFullYear(2e3)},"%Y":function(o,h){/(^([0-9][0-9][0-9][0-9])$)/i.test(h)?o.setFullYear(Number(h)):o.setFullYear(2e3)},"%h":function(o,h,r){/(^0[1-9]|1[0-2]$)/i.test(h)&&r==="pm"||r==="PM"?o.setHours(Number(h)):o.setHours(0)},"%g":function(o,h,r){/(^[1-9]$)|(^0[1-9]|1[0-2]$)/i.test(h)&&r==="pm"||r==="PM"?o.setHours(Number(h)):o.setHours(0)},"%H":function(o,h){/(^[0-2][0-9]$)/i.test(h)?o.setHours(Number(h)):o.setHours(0)},"%G":function(o,h){/(^[1-9][0-9]?$)/i.test(h)?o.setHours(Number(h)):o.setHours(0)},"%i":function(o,h){/(^([0-5][0-9])$)/i.test(h)?o.setMinutes(Number(h)):o.setMinutes(0)},"%s":function(o,h){/(^([0-5][0-9])$)/i.test(h)?o.setSeconds(Number(h)):o.setSeconds(0)},"%a":function(o,h){h==="pm"&&o.setHours(o.getHours()+12)},"%A":function(o,h){h==="PM"&&o.setHours(o.getHours()+12)}};function i(o){for(var h=[],r="",f=0;f<o.length;f++)o[f]==="%"?(r.length>0&&(h.push({type:g.separator,value:r}),r=""),h.push({type:g.datePart,value:o[f]+o[f+1]}),f++):r+=o[f];return r.length>0&&h.push({type:g.separator,value:r}),h}function u(o,h,r){if(typeof o=="string"){for(var f,d=[],t=0,c=null,l=0,n=i(h);l<n.length;l++){var s=n[l];if(s.type===g.separator){var _=o.indexOf(s.value,t);if(_===-1){if(r)return!1;throw new Error("Incorrect date, see docs: https://docs.dhtmlx.com/suite/calendar__api__calendar_dateformat_config.html")}c&&(d.push({formatter:c,value:o.slice(t,_)}),c=null),t=_+s.value.length}else s.type===g.datePart&&(c=s.value)}c==="%A"||c==="%a"?d.unshift({formatter:c,value:o.slice(t)}):c&&d.push({formatter:c,value:o.slice(t)}),d.reverse();for(var v=0,m=d;v<m.length;v++)(k=m[v]).formatter!=="%A"&&k.formatter!=="%a"||(f=k.value);for(var y=new Date(0),C=0,E=d;C<E.length;C++){var k=E[C];e[k.formatter]&&e[k.formatter](y,k.value,f)}return!!r||y}}(function(o){o[o.separator=0]="separator",o[o.datePart=1]="datePart"})(g||(g={})),p.getFormattedDate=function(o,h){return i(o).reduce(function(r,f){return f.type===g.separator?r+f.value:a[f.value]?r+a[f.value](h):r},"")},p.stringToDate=u,p.DateHelper=function(){function o(){}return o.copy=function(h){return new Date(h)},o.fromYear=function(h){return new Date(h,0,1)},o.fromYearAndMonth=function(h,r){return new Date(h,r,1)},o.weekStart=function(h,r){var f=(h.getDay()+7-r)%7;return new Date(h.getFullYear(),h.getMonth(),h.getDate()-f)},o.monthStart=function(h){return new Date(h.getFullYear(),h.getMonth(),1)},o.yearStart=function(h){return new Date(h.getFullYear(),0,1)},o.dayStart=function(h){return new Date(h.getFullYear(),h.getMonth(),h.getDate())},o.addDay=function(h,r){return r===void 0&&(r=1),new Date(h.getFullYear(),h.getMonth(),h.getDate()+r)},o.addMonth=function(h,r){return r===void 0&&(r=1),new Date(h.getFullYear(),h.getMonth()+r)},o.addYear=function(h,r){return r===void 0&&(r=1),new Date(h.getFullYear()+r,h.getMonth())},o.withHoursAndMinutes=function(h,r,f,d){return d===void 0||!d&&r===12||d&&r!==12?new Date(h.getFullYear(),h.getMonth(),h.getDate(),r,f):d&&r===12?new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,f):new Date(h.getFullYear(),h.getMonth(),h.getDate(),r+12,f)},o.setMonth=function(h,r){h.setMonth(r)},o.setYear=function(h,r){h.setFullYear(r)},o.mergeHoursAndMinutes=function(h,r){return new Date(h.getFullYear(),h.getMonth(),h.getDate(),r.getHours(),r.getMinutes())},o.isWeekEnd=function(h){return h.getDay()===0||h.getDay()===6},o.getTwelweYears=function(h){var r=h.getFullYear(),f=r-r%12;return(0,x.range)(f,f+11)},o.getWeekNumber=function(h){h.getDay()!==6&&(h=o.addDay(h,6-h.getDay()));var r=(h.valueOf()-o.yearStart(h).valueOf())/864e5;return Math.floor((r-h.getDay()+10)/7)},o.isSameDay=function(h,r){return h.getFullYear()===r.getFullYear()&&h.getMonth()===r.getMonth()&&h.getDate()===r.getDate()},o.toDateObject=function(h,r){return typeof h=="string"?u(h,r):new Date(h)},o.nullTimestampDate=new Date(0),o}()},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.getHeight=p.getWidth=void 0,p.getWidth=function(x,w,g){var a=x.filter(function(e){return!e.hidden});return w?a.reduce(function(e,i,u){var o=i.$width;return e+=u>=g&&u<g+w?o:0},0):a[g].$width},p.getHeight=function(x,w,g){var a=x.filter(function(e){return!e.hidden});return w?a.reduce(function(e,i,u){var o=i.$height;return e+=u>=g&&u<g+w?o:0},0):a[g].$height}},function($,p,b){var x;Object.defineProperty(p,"__esModule",{value:!0}),p.SelectionEvents=void 0,function(w){w.beforeUnSelect="beforeunselect",w.afterUnSelect="afterunselect",w.beforeSelect="beforeselect",w.afterSelect="afterselect"}(x||(p.SelectionEvents=x={}))},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.NavigationBarEvents=p.DataEvents=void 0;var x,w=b(7);Object.defineProperty(p,"DataEvents",{enumerable:!0,get:function(){return w.DataEvents}}),function(g){g.inputCreated="inputCreated",g.click="click",g.openMenu="openMenu",g.beforeHide="beforeHide",g.afterHide="afterHide",g.inputFocus="inputFocus",g.inputBlur="inputBlur",g.inputChange="inputChange"}(x||(p.NavigationBarEvents=x={}))},function($,p,b){var x;Object.defineProperty(p,"__esModule",{value:!0}),p.LayoutEvents=void 0,function(w){w.beforeShow="beforeShow",w.afterShow="afterShow",w.beforeHide="beforeHide",w.afterHide="afterHide",w.beforeResizeStart="beforeResizeStart",w.resize="resize",w.afterResizeEnd="afterResizeEnd",w.beforeAdd="beforeAdd",w.afterAdd="afterAdd",w.beforeRemove="beforeRemove",w.afterRemove="afterRemove",w.beforeCollapse="beforeCollapse",w.afterCollapse="afterCollapse",w.beforeExpand="beforeExpand",w.afterExpand="afterExpand"}(x||(p.LayoutEvents=x={}))},function($,p,b){var x,w,g;Object.defineProperty(p,"__esModule",{value:!0}),p.MessageContainerPosition=p.Position=p.RealPosition=void 0,function(a){a.left="left",a.right="right",a.top="top",a.bottom="bottom",a.center="center"}(x||(p.RealPosition=x={})),function(a){a.right="right",a.bottom="bottom",a.center="center"}(w||(p.Position=w={})),function(a){a.topLeft="top-left",a.topRight="top-right",a.bottomLeft="bottom-left",a.bottomRight="bottom-right"}(g||(p.MessageContainerPosition=g={}))},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(e){for(var i,u=1,o=arguments.length;u<o;u++)for(var h in i=arguments[u])Object.prototype.hasOwnProperty.call(i,h)&&(e[h]=i[h]);return e},x.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.isEmptyBlockStyle=p.getComputedBlockStyle=p.getComputedNodeStyle=p.blockquoteWrapper=p.blockStyleToTag=p.calcBlockStyle=p.toCSSVariables=p.calcTextNodeStyle=void 0;var w=b(0),g=b(11),a=b(4);p.calcTextNodeStyle=function(e,i){var u,o,h={},r={underline:i[a.Modifier.underline],strike:i[a.Modifier.strike]},f=Object.keys(e).find(function(t){return t===a.Modifier.strike||t===a.Modifier.underline})?x(x({},r),e):x({},e);for(var d in f)if(f[d]!==i[d]||[a.Modifier.underline,a.Modifier.strike].includes(d))switch(d){case a.Modifier.bold:h["font-weight"]=f[d]?"bold":"normal";break;case a.Modifier.italic:h["font-style"]=f[d]?"italic":"normal";break;case a.Modifier.underline:if(!f[d]){h["text-decoration"]=((u=h["text-decoration"])===null||u===void 0?void 0:u.replace("underline","").trim())||"none";break}h["text-decoration"]&&h["text-decoration"]!=="none"?h["text-decoration"]+=" underline":h["text-decoration"]="underline";break;case a.Modifier.strike:if(!f[d]){h["text-decoration"]=((o=h["text-decoration"])===null||o===void 0?void 0:o.replace("line-through","").trim())||"none";break}h["text-decoration"]&&h["text-decoration"]!=="none"?h["text-decoration"]+=" line-through":h["text-decoration"]="line-through";break;case a.Modifier.color:h.color=f[d];break;case a.Modifier.background:h.background=f[d];break;case a.Modifier.fontFamily:h["font-family"]=f[d];break;case a.Modifier.fontSize:h["font-size"]=f[d]}return r.strike!==e.strike&&e.strike!==void 0||r.underline!==e.underline&&e.underline!==void 0?h.display="inline-block":(delete h["text-decoration"],delete h.display),h},p.toCSSVariables=function(e){var i={};for(var u in e)if(e[u])switch(u){case a.Modifier.bold:i["--dhx-richtext-editor-font-weight"]="bold";break;case a.Modifier.italic:i["--dhx-richtext-editor-font-style"]="italic";break;case a.Modifier.underline:i["--dhx-richtext-editor-text-decoration"]?i["--dhx-richtext-editor-text-decoration"]+=" underline":i["--dhx-richtext-editor-text-decoration"]="underline";break;case a.Modifier.strike:i["--dhx-richtext-editor-text-decoration"]?i["--dhx-richtext-editor-text-decoration"]+=" line-through":i["--dhx-richtext-editor-text-decoration"]="line-through";break;case a.Modifier.color:i["--dhx-richtext-editor-color"]=e[u];break;case a.Modifier.background:i["--dhx-richtext-editor-background"]=e[u];break;case a.Modifier.fontFamily:i["--dhx-richtext-editor-font-family"]=e[u];break;case a.Modifier.fontSize:i["--dhx-richtext-editor-font-size"]=e[u];break;case a.Modifier.align:i["--dhx-richtext-editor-text-align"]=e[u]}return i},p.calcBlockStyle=function(e){var i={};for(var u in e)e[u]&&u===a.Modifier.align&&(i["text-align"]=e[u]);return i},p.blockStyleToTag=function(e){return e[a.Modifier.style]?e[a.Modifier.style]:"p"},p.blockquoteWrapper=function(e,i){return e[a.Modifier.blockquote]?function(){for(var u=[],o=0;o<arguments.length;o++)u[o]=arguments[o];return(0,w.el)("blockquote",{dhx_offset:i},[w.el.apply(void 0,u)])}:function(){for(var u=[],o=0;o<arguments.length;o++)u[o]=arguments[o];return w.el.apply(void 0,u)}},p.getComputedNodeStyle=function(e,i,u){var o={};for(var h in e.style)o[h]=e.style[h];return o[a.Modifier.fontSize]||(i.style[a.Modifier.style]&&i.style[a.Modifier.style]!=="p"?o[a.Modifier.fontSize]=g.defaultFontSizeByBlock[i.style[a.Modifier.style]]:o[a.Modifier.fontSize]=u[a.Modifier.fontSize]),o[a.Modifier.fontFamily]||(o[a.Modifier.fontFamily]=u[a.Modifier.fontFamily]),o},p.getComputedBlockStyle=function(e,i){var u={};for(var o in e.style)u[o]=e.style[o];return u[a.Modifier.style]||(u[a.Modifier.style]=i[a.Modifier.style]),u[a.Modifier.align]||(u[a.Modifier.align]=i[a.Modifier.align]),u[a.Modifier.blockquote]||(u[a.Modifier.blockquote]=i[a.Modifier.blockquote]),u},p.isEmptyBlockStyle=function(e){return!e[a.Modifier.blockquote]&&!e[a.Modifier.align]}},function($,p,b){function x(g){g=g.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,i,u,o){return i+i+u+u+o+o});var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(g);return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null}function w(g){var a,e,i=g.r/255,u=g.g/255,o=g.b/255,h=Math.max(i,u,o),r=h-Math.min(i,u,o),f=function(l){return(h-l)/6/r+.5};if(r===0)a=e=0;else{e=r/h;var d=f(i),t=f(u),c=f(o);i===h?a=c-t:u===h?a=1/3+d-c:o===h&&(a=2/3+t-d),a<0?a+=1:a>1&&(a-=1)}return{h:Math.floor(360*a),s:e,v:h}}Object.defineProperty(p,"__esModule",{value:!0}),p.isHex=p.HexToHSV=p.RGBToHSV=p.HexToRGB=p.RGBToHex=p.HSVtoRGB=void 0,p.HSVtoRGB=function(g){var a={r:0,g:0,b:0},e=g.h/60,i=g.s,u=g.v,o=Math.floor(e)%6,h=e-Math.floor(e),r=255*u*(1-i),f=255*u*(1-i*h),d=255*u*(1-i*(1-h));switch(u*=255,o){case 0:a.r=u,a.g=d,a.b=r;break;case 1:a.r=f,a.g=u,a.b=r;break;case 2:a.r=r,a.g=u,a.b=d;break;case 3:a.r=r,a.g=f,a.b=u;break;case 4:a.r=d,a.g=r,a.b=u;break;case 5:a.r=u,a.g=r,a.b=f}for(var t in a)a[t]=Math.round(a[t]);return a},p.RGBToHex=function(g){return Object.keys(g).reduce(function(a,e){var i=g[e].toString(16).toUpperCase();return a+(i=i.length===1?"0"+i:i)},"#")},p.HexToRGB=x,p.RGBToHSV=w,p.HexToHSV=function(g){return w(x(g))},p.isHex=function(g){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(g)}},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.default={cancel:"Cancel",select:"Select",rightClickToDelete:"Right click to delete",customColors:"Custom colors",addNewColor:"Add new color"}},function($,p,b){(function(x){Object.defineProperty(p,"__esModule",{value:!0}),p.ajax=void 0;var w=b(12),g=b(13);function a(i){return i?i.includes("json")?"json":i.includes("xml")?"xml":"text":"text"}function e(i,u,o,h,r){var f=h||{};if(r&&(f.Accept="application/"+r),o!=="GET"&&(f["Content-Type"]=f["Content-Type"]||"application/json"),o==="GET"){var d=u&&typeof u=="object"?function(t){return Object.keys(t).reduce(function(c,l){var n=typeof t[l]=="object"?JSON.stringify(t[l]):t[l];return c.push(l+"="+encodeURIComponent(n)),c},[]).join("&")}(u):u&&typeof u=="string"?u:"";d&&(i+=i.includes("?")?"&":"?",i+=d),u=null}return window.fetch?window.fetch(i,{method:o,body:u?JSON.stringify(u):null,headers:f}).then(function(t){if(!t.ok)return t.text().then(function(n){return x.reject({status:t.status,statusText:t.statusText,message:n})});var c=r||a(t.headers.get("Content-Type"));if(c==="raw")return{headers:Object.fromEntries(t.headers.entries()),url:t.url,body:t.body};if(t.status!==204)switch(c){case"json":return t.json();case"xml":var l=(0,g.toDataDriver)(w.DataDriver.xml);return l?t.text().then(function(n){return l.toJsonObject(n)}):t.text();default:return t.text()}}):new x(function(t,c){var l=new XMLHttpRequest;for(var n in l.onload=function(){l.status>=200&&l.status<300?(r==="raw"&&t({url:l.responseURL,headers:l.getAllResponseHeaders().trim().split(/[\r\n]+/).reduce(function(s,_){var v=_.split(": ");return s[v[0]]=v[1],s},{}),body:l.response}),l.status===204?t():t(function(s,_){switch(_){case"json":return JSON.parse(s);case"text":default:return s;case"xml":var v=(0,g.toDataDriver)(w.DataDriver.xml);return v?v.toJsonObject(s):{parseError:"Incorrect data driver type: 'xml'"}}}(l.responseText,r||a(l.getResponseHeader("Content-Type"))))):c({status:l.status,statusText:l.statusText})},l.onerror=function(){c({status:l.status,statusText:l.statusText,message:l.responseText})},l.open(o,i),f)l.setRequestHeader(n,f[n]);switch(o){case"POST":case"DELETE":case"PUT":l.send(u!==void 0?JSON.stringify(u):"");break;default:l.send()}})}p.ajax={get:function(i,u,o){return e(i,u,"GET",o&&o.headers,o!==void 0?o.responseType:void 0)},post:function(i,u,o){return e(i,u,"POST",o&&o.headers,o!==void 0?o.responseType:void 0)},put:function(i,u,o){return e(i,u,"PUT",o&&o.headers,o!==void 0?o.responseType:void 0)},delete:function(i,u,o){return e(i,u,"DELETE",o&&o.headers,o!==void 0?o.responseType:void 0)}}}).call(this,b(10))},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(t){for(var c,l=1,n=arguments.length;l<n;l++)for(var s in c=arguments[l])Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);return t},x.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.getShifts=p.getSpans=p.getCells=p.getTreeCell=p.getHandlers=void 0;var w=b(1),g=b(0),a=b(26),e=b(8),i=b(3),u=b(111),o=b(2),h=b(14);function r(t,c,l,n,s){c=(0,o.locateNodeByClassName)(s.target,"dhx_grid-fixed-cols-wrap")?0:c;var _=(0,o.locateNodeByClassName)(s.target,"dhx_grid-cell"),v=(0,o.locateNodeByClassName)(s.target,"dhx_span-cell");if((_||v)&&n){var m=_?_.parentNode:v,y=m.parentNode,C=_?Array.prototype.indexOf.call(m.childNodes,_):l.columns.findIndex(function(T){return T.id===v.getAttribute("dhx_col_id")}),E=l.columns.filter(function(T){return!T.hidden}),k=E[c+C],S=_?Array.prototype.indexOf.call(y.childNodes,m):Number(v.getAttribute("dhx_id"))-1,M=l.data["".concat((_?t:0)+S)];n.toLocaleLowerCase().includes("touch")?l._events.fire(n,[M,k,s]):l.events.fire(n,[M,k,s])}}function f(t,c,l){return{onclick:[r,t,c,l,i.GridEvents.cellClick],onmouseover:[r,t,c,l,i.GridEvents.cellMouseOver],onmousedown:[r,t,c,l,i.GridEvents.cellMouseDown],ondblclick:[r,t,c,l,i.GridEvents.cellDblClick],oncontextmenu:[r,t,c,l,i.GridEvents.cellRightClick],ontouchstart:[r,t,c,l,i.GridEvents.cellMouseDown],ontouchmove:[r,t,c,l,i.GridSystemEvents.cellTouchMove],ontouchend:[r,t,c,l,i.GridSystemEvents.cellTouchEnd]}}function d(t,c,l,n){var s=n.$editable&&n.$editable.row===c.id&&n.$editable.col===l.id,_="",v=l.align?" dhx_align-".concat(l.align):"dhx_align-left";n.dragMode&&n.dragItem==="row"&&(_+=(c.$drophere&&!s?" dhx_grid-cell--drophere":"")+(c.$dragtarget&&!s?" dhx_grid-cell--dragtarget":"")+(s?"":" dhx_grid-cell--drag"));var m=(0,h.getTreeCellWidthOffset)(c);return(0,g.el)(".dhx_grid-cell",x({class:"dhx_tree-cell ".concat(l.$cellCss[c.id]||""," ").concat(c.$items?"dhx_grid-expand-cell":"")+" ".concat(s?"dhx_tree-editing-cell":""," ").concat(_)+v,style:{width:l.$width,height:c.$height,padding:c.$items?0:"0 0 0 ".concat(m,"px")},dhx_col_id:l.id},{role:"gridcell","aria-colindex":1}),[c.$items?(0,g.el)(".dhx_grid-expand-cell-icon",x(x({class:c.$opened?"dxi dxi-chevron-up":"dxi dxi-chevron-down",dhx_id:c.id},function(y){return{role:"button","aria-label":y.$opened?"Collapse group":"Expand group"}}(c)),{style:{padding:c.$level?"0 0 0 ".concat(4+m,"px"):"0 0 0 4px"}})):null,(0,g.el)(".dhx_tree-cell",{class:v+"".concat(n.autoHeight?" dhx_tree-cell_auto-height":"")},[t])])}p.getHandlers=f,p.getTreeCell=d,p.getCells=function(t){if(!t.data||!t.columns)return[];var c=t.$positions,l=t.data?t.data.slice(c.yStart,c.yEnd):[],n=t.columns.slice(c.xStart,c.xEnd),s=t.selection.getCell(),_=!0;return l.map(function(v,m){var y=l.length-1===m,C="";return t.rowCss&&(C=t.rowCss(v)),v.$css&&(C+=v.$css),(0,g.el)(".dhx_grid-row",x({style:{height:y?v.$height+1:v.$height},dhx_id:v.id,class:C,_key:v.id,_flags:g.KEYED_LIST},{role:"row","aria-rowindex":c.yStart+m+1}),v.$customRender?[v.$customRender(v,t)]:n.map(function(E,k){var S,M;if(!E.hidden){var T=(0,h.toFormat)(v[E.id],E.type,E.format),I=E.template?E.template(T,v,E):typeof(M=T)!="boolean"&&E.type!=="boolean"||typeof M=="string"?M||M===0?M:"":"".concat(!!M);typeof I=="string"&&(I=(0,e.isHtmlEnable)(t,E)?(0,g.el)("div.dhx_grid-cell__content",x({".innerHTML":I},{role:"button","aria-label":"Edit content"})):I);var O="".concat(E.$cellCss&&E.$cellCss[v.id]||""," dhx_").concat(E.type,"-cell").replace(/\s+/g," "),H=E.$width,F=t.$editable&&t.$editable.row===v.id&&t.$editable.col===E.id;return(F||E.type==="boolean"&&(t.editable&&((S=E.editable)===null||S===void 0||S)||!t.editable&&E.editable))&&(t.leftSplit&&t.columns.length!==t.leftSplit&&t.columns.indexOf(E)<t.leftSplit||(I=function(R,A,V){return(0,u.getEditor)(R,A,V)}(v,E,t).toHTML(),O+=" dhx_grid-cell__editable",t.leftSplit===t.columns.indexOf(E)+1&&(H-=1))),t.type==="tree"&&t.firstColId===E.id?d(I,v,E,t):(t.dragMode&&t.dragItem==="row"&&(O+=(v.$drophere&&!F?" dhx_grid-cell--drophere":"")+(v.$dragtarget&&!F?" dhx_grid-cell--dragtarget":"")+(F?"":" dhx_grid-cell--drag")),E.align&&(O+=" dhx_align-".concat(E.align)),t.autoHeight&&(O+=" dhx_grid-cell__content_auto-height"),(0,g.el)(".dhx_grid-cell",x({class:O,style:{width:H,height:v.$height+"px"},_key:E.id,dhx_col_id:E.id},function(R,A,V,z){return x({role:"gridcell","aria-colindex":A,"aria-readonly":z?"false":"true"},function(Y,Q){var U={tabindex:-1};return s?s.row.id===Q.id&&s.column.id===Y.id&&(U.tabindex=0):_&&(U.tabindex=0,U.onfocus=function(K){if(t.selection&&!s){var Z=K.target.parentNode.getAttribute("dhx_id"),st=K.target.getAttribute("dhx_col_id");st&&Z&&(t.selection.setCell(Z,st),s=t.selection.getCell())}}),_=!1,U}(R,v))}(E,c.xStart+k+1,0,t.editable)),[I]))}}))})},p.getSpans=function(t,c){var l=[],n=t.$positions,s=t.columns,_=t.data;if(!s.length||!t.spans)return null;for(var v=t.spans.sort(function(C,E){return typeof C.row=="string"&&typeof E.row=="string"?C.row.localeCompare(E.row):C.row-E.row}),m=function(C){var E=v[C].row,k=v[C].column,S=v[C].rowspan,M=v[C].colspan,T=v[C].css;if(S===1)return"continue";var I=(0,w.findIndex)(s,function(ot){return"".concat(ot.id)==="".concat(k)}),O=(0,w.findIndex)(_,function(ot){return"".concat(ot.id)==="".concat(E)});if(I<0||O<0||c===!0&&((M||1)+I>t.leftSplit||I+1>t.leftSplit))return"continue";var H=s[I],F=_[O];if(H.hidden)return"continue";var R=v[C].text?v[C].text:F[k]===void 0?"":F[k];R=typeof(R=(H.template||function(ot,ut,pt){return ot||ot===0?ot:""})(R,F,H))=="string"?(0,g.el)("div.dhx_span-cell-content",{".innerHTML":R}):R;for(var A=0,V=0;V<O;V++)A+=_[V].$height;for(var z=A-1,Y=0,Q=I-1;Q>=0;Q--)Y+=s[Q].$width;var U=I===s.length-1,K=I+M===s.length,Z=H.header[0].text?" dhx_span-cell":" dhx_span-cell dhx_span-cell--title";Z+=T?" ".concat(T):"",Z+=O===0?" dhx_span-first-row":"",Z+=I===0?" dhx_span-first-col":"",Z+=U||K?" dhx_span-last-col":"",Z+=M?" dhx_span-string-cell":" dhx_span-".concat(H.type||"string","-cell"),Z+=H.align?" dhx_align-".concat(H.align):" dhx_align-left";var st=M>1?(0,a.getWidth)(s,M,I):H.$width,et=S>1?(0,a.getHeight)(_,S,O):F.$height;l.push((0,g.el)("div",x({class:Z,style:{width:st,height:et,top:z,left:Y},dhx_col_id:k,dhx_id:E,"aria-hidden":"true"},f(n.yStart,n.xStart,t)),[R]))},y=0;y<v.length;y++)m(y);return l},p.getShifts=function(t){var c=t.columns.slice(0,t.$positions.xStart),l=t.data.slice(0,t.$positions.yStart);return{x:(0,e.getTotalWidth)(c),y:(0,e.getTotalHeight)(l)}}},function($,p,b){var x;Object.defineProperty(p,"__esModule",{value:!0}),p.ListEvents=void 0,function(w){w.click="click",w.doubleClick="doubleclick",w.focusChange="focuschange",w.beforeEditStart="beforeEditStart",w.afterEditStart="afterEditStart",w.beforeEditEnd="beforeEditEnd",w.afterEditEnd="afterEditEnd",w.itemRightClick="itemRightClick",w.itemMouseOver="itemMouseOver",w.contextmenu="contextmenu"}(x||(p.ListEvents=x={}))},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.TextNode=p.RemoveTextResult=void 0;var x,w=b(11);(function(a){a[a.textIsEmpty=0]="textIsEmpty",a[a.complete=1]="complete",a[a.nullTextLength=2]="nullTextLength",a[a.forceRemovePrevious=3]="forceRemovePrevious",a[a.forceRemoveNext=4]="forceRemoveNext"})(x||(p.RemoveTextResult=x={}));var g=function(){function a(e,i){this.text=e,this.style=i||w.emptyStyle}return a.prototype.isEmpty=function(){return this.text.length===0},a.prototype.insert=function(e,i){this.text=this.text.slice(0,i)+e+this.text.slice(i)},a.prototype.remove=function(e,i){return this.isEmpty()?x.textIsEmpty:e===0&&i?x.forceRemovePrevious:e!==this.text.length||i?(this.text=i?this.text.slice(0,e-1)+this.text.slice(e):this.text.slice(0,e)+this.text.slice(e+1),this.text.length===0?x.nullTextLength:x.complete):x.forceRemoveNext},a}();p.TextNode=g},function($,p,b){var x,w=this&&this.__extends||(x=function(u,o){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,r){h.__proto__=r}||function(h,r){for(var f in r)Object.prototype.hasOwnProperty.call(r,f)&&(h[f]=r[f])},x(u,o)},function(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function h(){this.constructor=u}x(u,o),u.prototype=o===null?Object.create(o):(h.prototype=o.prototype,new h)});Object.defineProperty(p,"__esModule",{value:!0}),p.Layout=void 0;var g=b(29),a=b(39),e=b(0),i=function(u){function o(h,r){var f=u.call(this,h,r)||this;if(f._root=f.config.parent||f,f._all={},f._parseConfig(),f.config.activeTab&&(f.config.activeView=f.config.activeTab),f.config.views&&(f.config.activeView=f.config.activeView||f._cells[0].id,f._isViewLayout=!0),!r.parent){var d=(0,e.create)({render:function(){return f.toVDOM()}},f);f.mount(h,d)}return f}return w(o,u),o.prototype.destructor=function(){for(var h in this._all)if(Object.prototype.hasOwnProperty.call(this._all,h)){var r=this._all[h];r.getWidget()&&typeof r.getWidget().destructor=="function"&&r.getWidget().destructor(),r.destructor()}this.config=this._cells=this._root=this._xLayout=this._isViewLayout=null,this._all={},this.unmount()},o.prototype.toVDOM=function(){if(this._isViewLayout){var h=[this.getCell(this.config.activeView).toVDOM()];return u.prototype.toVDOM.call(this,h)}var r=[];return this._inheritTypes(),this._cells.forEach(function(f){var d=f.toVDOM();Array.isArray(d)?r=r.concat(d):r.push(d)}),u.prototype.toVDOM.call(this,r)},o.prototype.removeCell=function(h){if(this.events.fire(g.LayoutEvents.beforeRemove,[h])){var r=this.config.parent||this;if(r!==this)return r.removeCell(h);var f=this.getCell(h);if(f){var d=f.getParent();delete this._all[h],d._cells=d._cells.filter(function(t){return t.id!=h}),d.paint()}this.events.fire(g.LayoutEvents.afterRemove,[h])}},o.prototype.addCell=function(h,r){if(r===void 0&&(r=-1),this.events.fire(g.LayoutEvents.beforeAdd,[h.id])){var f=this._createCell(h);r<0&&(r=this._cells.length+r+1),this._cells.splice(r,0,f),this.paint(),this.events.fire(g.LayoutEvents.afterAdd,[h.id])}},o.prototype.getId=function(h){return h<0&&(h=this._cells.length+h),this._cells[h]?this._cells[h].id:void 0},o.prototype.getRefs=function(h){return this._root.getRootView().refs[h]},o.prototype.getCell=function(h){return this._root._all[h]},o.prototype.forEach=function(h,r,f){if(f===void 0&&(f=1/0),this._haveCells(r)&&!(f<1)){var d;d=r?this._root._all[r]._cells:this._root._cells;for(var t=0;t<d.length;t++){var c=d[t];h.call(this,c,t,d),this._haveCells(c.id)&&c.forEach(h,c.id,--f)}}},o.prototype.cell=function(h){return this.getCell(h)},o.prototype._getCss=function(h){var r=this._xLayout?"dhx_layout-columns":"dhx_layout-rows",f=this.config.align?" "+r+"--"+this.config.align:"";if(h)return r+" dhx_layout-cell"+(this.config.align?" dhx_layout-cell--"+this.config.align:"");var d=this.config.parent?u.prototype._getCss.call(this):"dhx_widget dhx_layout",t=this.config.parent?"":" dhx_layout-cell";return d+(this.config.full?t:" "+r)+f},o.prototype._parseConfig=function(){var h=this,r=this.config,f=r.rows||r.cols||r.views||[];this._xLayout=!r.rows,this._cells=f.map(function(d){return h._createCell(d)})},o.prototype._createCell=function(h){var r;return h.rows||h.cols||h.views?(h.parent=this._root,r=new o(this,h)):r=new a.Cell(this,h),this._root._all[r.id]=r,h.init&&h.init(r,h),r},o.prototype._haveCells=function(h){if(h){var r=this._root._all[h];return r._cells&&r._cells.length>0}return Object.keys(this._all).length>0},o.prototype._inheritTypes=function(h){var r=this;if(h===void 0&&(h=this._cells),Array.isArray(h))h.forEach(function(t){return r._inheritTypes(t)});else{var f=h.config;if(f.rows||f.cols){var d=h.getParent();!f.type&&d&&(d.config.type?f.type=d.config.type:this._inheritTypes(d))}}},o}(a.Cell);p.Layout=i},function($,p,b){var x,w=this&&this.__extends||(x=function(f,d){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,c){t.__proto__=c}||function(t,c){for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(t[l]=c[l])},x(f,d)},function(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function t(){this.constructor=f}x(f,d),f.prototype=d===null?Object.create(d):(t.prototype=d.prototype,new t)}),g=this&&this.__assign||function(){return g=Object.assign||function(f){for(var d,t=1,c=arguments.length;t<c;t++)for(var l in d=arguments[t])Object.prototype.hasOwnProperty.call(d,l)&&(f[l]=d[l]);return f},g.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.Cell=void 0;var a=b(1),e=b(0),i=b(6),u=b(29),o=b(86),h=b(5),r=function(f){function d(t,c){var l=f.call(this,t,c)||this;l._disabled=[];var n=t;return n&&n.isVisible&&(l._parent=n),l._parent&&l._parent.events?l.events=l._parent.events:l.events=new h.EventSystem(l),l.config.full=l.config.full===void 0?!!(l.config.header||l.config.collapsable||l.config.headerHeight||l.config.headerIcon||l.config.headerImage):l.config.full,l._initHandlers(),l.id=l.config.id||(0,a.uid)(),l}return w(d,f),d.prototype.paint=function(){if(this.isVisible()){var t=this.getRootView();t?t.redraw():this._parent.paint()}},d.prototype.isVisible=function(){if(!this._parent)return!(!this._container||!this._container.tagName)||!!this.getRootNode();var t=this._parent.config.activeView;return(!t||t===this.id)&&!this.config.hidden&&(!this._parent||this._parent.isVisible())},d.prototype.hide=function(){this.events.fire(u.LayoutEvents.beforeHide,[this.id])&&(this.config.hidden=!0,this._parent&&this._parent.paint&&this._parent.paint(),this.events.fire(u.LayoutEvents.afterHide,[this.id]))},d.prototype.show=function(){this.events.fire(u.LayoutEvents.beforeShow,[this.id])&&(this._parent&&this._parent.config&&this._parent.config.activeView!==void 0?this._parent.config.activeView=this.id:this.config.hidden=!1,this._parent&&!this._parent.isVisible()&&this._parent.show(),this.paint(),this.events.fire(u.LayoutEvents.afterShow,[this.id]))},d.prototype.expand=function(){this.events.fire(u.LayoutEvents.beforeExpand,[this.id])&&(this.config.collapsed=!1,this.events.fire(u.LayoutEvents.afterExpand,[this.id]),this.paint())},d.prototype.collapse=function(){this.events.fire(u.LayoutEvents.beforeCollapse,[this.id])&&(this.config.collapsed=!0,this.events.fire(u.LayoutEvents.afterCollapse,[this.id]),this.paint())},d.prototype.toggle=function(){this.config.collapsed?this.expand():this.collapse()},d.prototype.getParent=function(){return this._parent},d.prototype.destructor=function(){this.events&&this.events.clear(),this.config=this.events=this.id=null,this._parent=this._handlers=this._uid=this._disabled=this._resizerHandlers=null,this.unmount()},d.prototype.getWidget=function(){return this._ui},d.prototype.getCellView=function(){return this._parent&&this._parent.getRefs(this._uid)},d.prototype.attach=function(t,c){return this.config.html=null,typeof t=="object"?this._ui=t:typeof t=="string"?this._ui=new window.dhx[t](null,c):typeof t=="function"&&(t.prototype instanceof i.View?this._ui=new t(null,c):this._ui={getRootView:function(){return t(c)}}),this.paint(),this._ui},d.prototype.attachHTML=function(t){this.config.html=t,this.paint()},d.prototype.toVDOM=function(t){var c;if(this.config===null&&(this.config={}),!this.config.hidden){var l,n=this._calculateStyle(),s=(0,a.isDefined)(this.config.padding)?isNaN(Number(this.config.padding))?{padding:this.config.padding}:{padding:"".concat(this.config.padding,"px")}:"",_=this.config.full||this.config.html?n:g(g({},n),s);if(!this.config.html)if(this._ui){var v=this._ui.getRootView();v.render&&(v=(0,e.inject)(v)),l=[v]}else l=t||null;var m=!this.config.resizable||this._isLastCell()||this.config.collapsed?null:(0,e.el)(".dhx_layout-resizer."+(this._isXDirection()?"dhx_layout-resizer--x":"dhx_layout-resizer--y"),g(g({},this._resizerHandlers),{_ref:"resizer_"+this._uid,tabindex:0}),[(0,e.el)("span.dhx_layout-resizer__icon",{class:"dxi "+(this._isXDirection()?"dxi-dots-vertical":"dxi-dots-horizontal")})]),y={};if(this.config.on)for(var C in this.config.on)y["on"+C]=this.config.on[C];var E="",k=this.config.cols||this.config.rows;if(this.config.type&&k)switch(this.config.type){case"line":E=" dhx_layout-line";break;case"wide":E=" dhx_layout-wide";break;case"space":E=" dhx_layout-space"}var S=(0,e.el)("div",g(g(((c={_key:this._uid,_ref:this._uid})["aria-label"]=this.config.id?"tab-content-"+this.config.id:null,c),y),{class:this._getCss(!1)+(this.config.css?" "+this.config.css:"")+(this.config.collapsed?" dhx_layout-cell--collapsed":"")+(this.config.resizable?" dhx_layout-cell--resizable":"")+(this.config.type&&!this.config.full?E:""),style:_}),this.config.full?[(0,e.el)("div",{tabindex:this.config.collapsable?"0":"-1",role:this.config.collapsable?"button":null,"aria-label":this.config.collapsable?"click to ".concat(this.config.collapsed?"expand":"collapse"):null,class:"dhx_layout-cell-header"+(this._isXDirection()?" dhx_layout-cell-header--col":" dhx_layout-cell-header--row")+(this.config.collapsable?" dhx_layout-cell-header--collapseble":"")+(this.config.collapsed?" dhx_layout-cell-header--collapsed":"")+(((this.getParent()||{}).config||{}).isAccordion?" dhx_layout-cell-header--accordion":""),style:{height:this.config.headerHeight},onclick:this._handlers.toggle,onkeydown:this._handlers.enterCollapse},[this.config.headerIcon&&(0,e.el)("span.dhx_layout-cell-header__icon",{class:this.config.headerIcon}),this.config.headerImage&&(0,e.el)(".dhx_layout-cell-header__image-wrapper",[(0,e.el)("img",{src:this.config.headerImage,class:"dhx_layout-cell-header__image"})]),this.config.header&&(0,e.el)("h3.dhx_layout-cell-header__title",this.config.header),this.config.collapsable?(0,e.el)("div.dhx_layout-cell-header__collapse-icon",{class:this._getCollapseIcon()}):(0,e.el)("div.dhx_layout-cell-header__collapse-icon",{class:"dxi dxi-empty"})]),this.config.collapsed?null:(0,e.el)("div",{style:g(g({},s),{height:"calc(100% - ".concat(this.config.headerHeight||37,"px)")}),".innerHTML":this.config.html,class:this._getCss(!0)+" dhx_layout-cell-content"+(this.config.type?E:"")},l)]:!this.config.html||this.config.rows&&this.config.cols&&this.config.views?l:[this.config.collapsed?null:(0,e.el)(".dhx_layout-cell-content",{".innerHTML":this.config.html,style:s})]);return m?[S,m]:S}},d.prototype._getCss=function(t){return"dhx_layout-cell"},d.prototype._initHandlers=function(){var t=this;this._handlers={enterCollapse:function(_){_.keyCode===13&&t._handlers.toggle()},collapse:function(){t.config.collapsable&&t.collapse()},expand:function(){t.config.collapsable&&t.expand()},toggle:function(){t.config.collapsable&&t.toggle()}};var c={left:null,top:null,isActive:!1,range:null,xLayout:null,nextCell:null,size:null,resizerLength:null,margin:null},l=function(_){if(c.isActive){var v=_.targetTouches?_.targetTouches[0].clientX:_.clientX,m=_.targetTouches?_.targetTouches[0].clientY:_.clientY,y=c.xLayout?v-c.range.min+window.pageXOffset:m-c.range.min+window.pageYOffset,C=c.xLayout?"width":"height";y<0?y=c.resizerLength/2:y>c.size&&(y=c.size-c.resizerLength),t.config[C]=y-c.resizerLength/2+"px",c.nextCell.config[C]=c.size-y-c.resizerLength/2+"px",t.paint(),t.events.fire(u.LayoutEvents.resize,[t.id])}},n=function(_){c.isActive=!1,document.body.classList.remove("dhx_no-select--resize"),_.targetTouches?(document.removeEventListener("touchend",n),document.removeEventListener("touchmove",l)):(document.removeEventListener("mouseup",n),document.removeEventListener("mousemove",l)),t.events.fire(u.LayoutEvents.afterResizeEnd,[t.id])},s=function(_){if(_.targetTouches&&_.preventDefault(),_.which!==3&&(c.isActive&&n(_),t.events.fire(u.LayoutEvents.beforeResizeStart,[t.id]))){document.body.classList.add("dhx_no-select--resize");var v=t.getCellView(),m=t._getNextCell(),y=m.getCellView(),C=t._getResizerView(),E=v.el.getBoundingClientRect(),k=C.el.getBoundingClientRect(),S=y.el.getBoundingClientRect();c.xLayout=t._isXDirection(),c.left=E.left+window.pageXOffset,c.top=E.top+window.pageYOffset,c.margin=(0,o.getMarginSize)(t.getParent().config,c.xLayout),c.range=(0,o.getBlockRange)(E,S,c.xLayout),c.size=c.range.max-c.range.min-c.margin,c.isActive=!0,c.nextCell=m,c.resizerLength=c.xLayout?k.width:k.height}};this._resizerHandlers={onmousedown:function(_){s(_),document.addEventListener("mouseup",n),document.addEventListener("mousemove",l)},ontouchstart:function(_){s(_),document.addEventListener("touchend",n),document.addEventListener("touchmove",l)},ondragstart:function(_){return _.preventDefault()}}},d.prototype._getCollapseIcon=function(){return this._isXDirection()&&this.config.collapsed?"dxi dxi-chevron-right":this._isXDirection()&&!this.config.collapsed?"dxi dxi-chevron-left":!this._isXDirection()&&this.config.collapsed?"dxi dxi-chevron-up":this._isXDirection()||this.config.collapsed?void 0:"dxi dxi-chevron-down"},d.prototype._isLastCell=function(){var t=this._parent;return t&&t._cells.indexOf(this)===t._cells.length-1},d.prototype._getNextCell=function(){var t=this._parent,c=t._cells.indexOf(this);return t._cells[c+1].config.hidden?t._cells[c+1]._getNextCell():t._cells[c+1]},d.prototype._getResizerView=function(){return this._parent.getRefs("resizer_"+this._uid)},d.prototype._isXDirection=function(){return this._parent&&this._parent._xLayout},d.prototype._calculateStyle=function(){var t=this.config;if(t){var c={},l=!1,n=!1;isNaN(Number(t.width))||(t.width=t.width+"px"),isNaN(Number(t.height))||(t.height=t.height+"px"),isNaN(Number(t.minWidth))||(t.minWidth=t.minWidth+"px"),isNaN(Number(t.minHeight))||(t.minHeight=t.minHeight+"px"),isNaN(Number(t.maxWidth))||(t.maxWidth=t.maxWidth+"px"),isNaN(Number(t.maxHeight))||(t.maxHeight=t.maxHeight+"px"),t.width==="content"&&(l=!0),t.height==="content"&&(n=!0);var s=t,_=s.width,v=s.height,m=s.cols,y=s.rows,C=s.minWidth,E=s.minHeight,k=s.maxWidth,S=s.maxHeight,M=s.gravity,T=s.collapsed,I=s.$fixed,O=Math.sign(M)===-1?0:M;typeof M=="boolean"&&(O=M?1:0);var H=typeof M=="boolean"?!M:Math.sign(M)===-1;this._isXDirection()?(I||_||M===void 0&&(C||k))&&(H=!0):(I||v||M===void 0&&(E||S))&&(H=!0);var F=H?0:O||1,R=this._isXDirection()?"x":"y";if(C!==void 0&&(c.minWidth=C),E!==void 0&&(c.minHeight=E),k!==void 0&&(c.maxWidth=k),S!==void 0&&(c.maxHeight=S),this._parent===void 0&&!R!==void 0&&(R=!0),_!==void 0&&_!=="content")c.width=_;else if(R===!0)c.width="100%";else if(R==="x")if(l)c.flex="0 0 auto";else{var A=this._isXDirection()?"1px":"auto";c.flex="".concat(F," ").concat(m||y?"0 ".concat(A):"1 auto")}return v!==void 0&&v!=="content"?c.height=v:R===!0?c.height="100%":R==="y"&&(n?c.flex="0 0 auto":(A=this._isXDirection()?"auto":"1px",c.flex="".concat(F," ").concat(m||y?"0 ".concat(A):"1 auto"))),R===!0&&t.width===void 0&&t.height===void 0&&(c.flex="".concat(F," 1 auto")),T&&(this._isXDirection()?c.width="auto":c.height="auto",c.flex="0 0 auto"),c}},d}(i.View);p.Cell=r},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.default={apply:"apply",reject:"reject"}},function($,p,b){function x(w){var g=document.activeElement;g.classList.contains("dhx_alert__apply-button")&&w.key==="Enter"||g.classList.contains("dhx_alert__confirm-reject")||g.classList.contains("dhx_alert__confirm-aply")||w.preventDefault()}Object.defineProperty(p,"__esModule",{value:!0}),p.blockScreen=void 0,p.blockScreen=function(w){var g=document.createElement("div");return g.className="dhx_alert__overlay "+(w||""),document.body.appendChild(g),document.addEventListener("keydown",x),function(){document.body.removeChild(g),document.removeEventListener("keydown",x)}}},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(v){for(var m,y=1,C=arguments.length;y<C;y++)for(var E in m=arguments[y])Object.prototype.hasOwnProperty.call(m,E)&&(v[E]=m[E]);return v},x.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.disableTooltip=p.enableTooltip=p.tooltip=p.getZIndex=p.findPosition=void 0;var w=b(2),g=b(30),a=750,e=200;function i(v,m,y,C){var E,k,S;switch(m){case g.Position.center:return(k=v.left+window.pageXOffset+(v.width-y)/2)+8<window.pageXOffset&&(k=v.left+window.pageXOffset),{left:k,top:S=v.top+window.pageYOffset+(v.height-C)/2,pos:E=g.RealPosition.center};case g.Position.right:return E=g.RealPosition.right,(k=v.right+window.pageXOffset)+y+8>window.innerWidth+window.pageXOffset&&(k=window.pageXOffset+v.left-y,E=g.RealPosition.left),{left:k,top:S=window.pageYOffset+v.top+(v.height-C)/2,pos:E};case g.Position.bottom:default:return(k=window.pageXOffset+v.left+(v.width-y)/2)+y>window.innerWidth+window.pageXOffset?k=window.innerWidth+window.pageXOffset-y:k<0&&(k=0),E=g.RealPosition.bottom,(S=window.pageYOffset+v.bottom)+C+8>window.innerHeight+window.pageYOffset&&(S=window.pageYOffset+v.top-C,E=g.RealPosition.top),{left:k,top:S,pos:E}}}p.findPosition=i;var u=document.createElement("div"),o=document.createElement("span");o.className="dhx_tooltip__text",u.appendChild(o),u.setAttribute("role","tooltip"),u.style.position="absolute";var h,r=null,f=!1,d=null,t=null;function c(v){return v&&v.classList.contains("dhx_popup--window")&&v.classList.contains("dhx_popup--window_active")?2147483647:v!=null&&v.classList.contains("dhx_popup--window")||v!=null&&v.classList.contains("dhx_popup--window_modal")?2147483646:v&&v.offsetParent?c(v.offsetParent):null}function l(v,m,y,C,E,k){E===void 0&&(E=!1);var S=v.getBoundingClientRect();k?o.innerHTML=m:o.textContent=m,document.body.appendChild(u),u.className="dhx_widget dhx_tooltip"+(E?" dhx_tooltip--forced":"");var M=u.getBoundingClientRect(),T=i(S,y,M.width,M.height),I=T.left,O=T.top,H=T.pos,F=c(v);switch(F&&(u.style.zIndex=F.toString()),H){case g.RealPosition.bottom:case g.RealPosition.top:case g.RealPosition.left:case g.RealPosition.right:case g.RealPosition.center:u.style.left=I+"px",u.style.top=O+"px"}u.className+=" dhx_tooltip--".concat(H," ").concat(C||""),f=!0,E||setTimeout(function(){u.className+=" dhx_tooltip--animate"})}function n(v,m,y){var C=y.force,E=y.showDelay,k=y.hideDelay,S=y.position,M=y.css,T=y.htmlEnable;C||(t=setTimeout(function(){l(v,m,S||g.Position.bottom,M,!1,T)},E||a));var I=function(){var O;f&&(O=k,r&&(d=setTimeout(function(){document.body.removeChild(u),f=!1,d=null},O||e))),clearTimeout(t),v.removeEventListener("mouseleave",I),v.removeEventListener("blur",I),document.removeEventListener("mousedown",I),r=null,h=null};C&&l(v,m,S,M,C,T),v.addEventListener("mouseleave",I),v.addEventListener("blur",I),document.addEventListener("mousedown",I),h=I}function s(v,m){var y=(0,w.toNode)(m.node);y!==r&&(h&&(h(),h=null),r=y,d?(clearTimeout(d),d=null,n(y,v,x(x({},m),{force:!0}))):n(y,v,m))}function _(v){var m=(0,w.locateNode)(v,"dhx_tooltip_text");m&&s(m.getAttribute("dhx_tooltip_text"),{position:m.getAttribute("dhx_tooltip_position")||g.Position.bottom,node:m})}p.getZIndex=c,p.tooltip=s,p.enableTooltip=function(){document.addEventListener("mousemove",_)},p.disableTooltip=function(){document.removeEventListener("mousemove",_)}},function($,p,b){var x;Object.defineProperty(p,"__esModule",{value:!0}),p.PopupEvents=void 0,function(w){w.beforeHide="beforeHide",w.beforeShow="beforeShow",w.afterHide="afterHide",w.afterShow="afterShow",w.click="click"}(x||(p.PopupEvents=x={}))},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.keyToOperation=p.Key=void 0;var x,w=b(4);(function(g){g[g.backspace=8]="backspace",g[g.enter=13]="enter",g[g.tab=9]="tab",g[g.esc=27]="esc",g[g.space=32]="space",g[g.left=37]="left",g[g.up=38]="up",g[g.right=39]="right",g[g.down=40]="down",g[g.insert=45]="insert",g[g.del=46]="del",g[g.ctrl=17]="ctrl",g[g.a=65]="a",g[g.b=66]="b",g[g.c=67]="c",g[g.s=83]="s",g[g.u=85]="u",g[g.v=86]="v",g[g.x=88]="x",g[g.y=89]="y",g[g.z=90]="z",g[g.i=73]="i"})(x||(p.Key=x={})),p.keyToOperation=function(g){if(g.shiftKey&&g.which===x.enter)return g.preventDefault(),{action:w.Action.add,data:`
`};switch(g.which){case x.insert:return void g.preventDefault();case x.left:case x.right:case x.down:case x.up:return;case x.backspace:return g.preventDefault(),{action:w.Action.remove,data:!0};case x.del:return g.preventDefault(),{action:w.Action.remove,data:!1};case x.space:return g.preventDefault(),{action:w.Action.add,data:" "};case x.enter:return g.preventDefault(),{action:w.Action.add,data:{newBlock:!0}}}if(g.ctrlKey||g.metaKey)return function(e){switch(e.which){case x.z:return{action:e.shiftKey?w.Action.redo:w.Action.undo};case x.y:return{action:w.Action.redo};case x.a:return{action:w.Action.selectAll};case x.v:case x.x:case x.c:return;case x.u:case x.i:case x.b:return void e.preventDefault()}}(g);var a=g.key;return a.length>1||g.altKey?void 0:g.isComposing?(g.preventDefault(),{action:w.Action.add,data:a}):void 0}},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.statsRenderer=p.getStats=void 0;var x=b(0),w=b(16),g={words:function(a){return a.split(/[\n !.?,:;]+/g).filter(function(e){return e.length>0}).length},chars:function(a){return a.replace(/[\n]/g,"").length},charsExlSpace:function(a){return a.replace(/[\n ]/g,"").length}};p.getStats=function(a,e){if(e){for(var i={},u=0,o=e;u<o.length;u++){var h=o[u],r=h.cb,f=h.name;typeof r=="function"?i[f]=r(a):!r&&f in g?i[f]=g[f](a):typeof r=="string"&&r in g&&(i[f]=g[r](a))}return i}return{chars:g.chars(a),words:g.words(a),charsExlSpace:g.charsExlSpace(a)}},p.statsRenderer=function(a,e){return e===void 0&&(e=[{name:"chars"},{name:"charsExlSpace"},{name:"words"}]),function(){return(0,x.el)("ul.dhx_richtext-stat",e.map(function(i){return(0,x.el)("li.dhx_richtext-stat__item",[(0,x.el)("span.dhx_richtext-stat__name",w.default[i.name]||i.name),(0,x.el)("span.dhx_richtext-stat__value",a[i.name])])}))}}},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.palette=p.grayShades=void 0,p.grayShades=["#000000","#4C4C4C","#666666","#808080","#999999","#B3B3B3","#CCCCCC","#E6E6E6","#F2F2F2","#FFFFFF"],p.palette=[["#D4DAE4","#B0B8CD","#949DB1","#727A8C","#5E6677","#3F4757","#1D2534"],["#FFCDD2","#FE9998","#F35C4E","#E94633","#D73C2D","#CA3626","#BB2B1A"],["#F9E6AD","#F4D679","#EDB90F","#EAA100","#EA8F00","#EA7E00","#EA5D00"],["#BCE4CE","#90D2AF","#33B579","#36955F","#247346","#1D5B38","#17492D"],["#BDF0E9","#92E7DC","#02D7C5","#11B3A5","#018B80","#026B60","#024F43"],["#B3E5FC","#81D4FA","#29B6F6","#039BE5","#0288D1","#0277BD","#01579B"],["#AEC1FF","#88A3F9","#5874CD","#2349AE","#163FA2","#083596","#002381"],["#C5C0DA","#9F97C1","#7E6BAD","#584A8F","#4F4083","#473776","#3A265F"],["#D6BDCC","#C492AC","#A9537C","#963A64","#81355A","#6E3051","#4C2640"],["#D2C5C1","#B4A09A","#826358","#624339","#5D4037","#4E342E","#3E2723"]]},function($,p,b){var x;Object.defineProperty(p,"__esModule",{value:!0}),p.ColorpickerEvents=void 0,function(w){w.change="change",w.apply="apply",w.cancelClick="cancelClick",w.modeChange="modeChange",w.selectClick="selectClick",w.colorChange="colorChange",w.viewChange="viewChange"}(x||(p.ColorpickerEvents=x={}))},function($,p,b){var x=this&&this.__createBinding||(Object.create?function(g,a,e,i){i===void 0&&(i=e);var u=Object.getOwnPropertyDescriptor(a,e);u&&!("get"in u?!a.__esModule:u.writable||u.configurable)||(u={enumerable:!0,get:function(){return a[e]}}),Object.defineProperty(g,i,u)}:function(g,a,e,i){i===void 0&&(i=e),g[i]=a[e]}),w=this&&this.__exportStar||function(g,a){for(var e in g)e==="default"||Object.prototype.hasOwnProperty.call(a,e)||x(a,g,e)};Object.defineProperty(p,"__esModule",{value:!0}),w(b(101),p),w(b(140),p),w(b(28),p)},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(f){for(var d,t=1,c=arguments.length;t<c;t++)for(var l in d=arguments[t])Object.prototype.hasOwnProperty.call(d,l)&&(f[l]=d[l]);return f},x.apply(this,arguments)},w=this&&this.__spreadArray||function(f,d,t){if(t||arguments.length===2)for(var c,l=0,n=d.length;l<n;l++)!c&&l in d||(c||(c=Array.prototype.slice.call(d,0,l)),c[l]=d[l]);return f.concat(c||Array.prototype.slice.call(d))};Object.defineProperty(p,"__esModule",{value:!0}),p.DataCollection=void 0;var g=b(5),a=b(102),e=b(105),i=b(20),u=b(13),o=b(12),h=b(1),r=function(){function f(d,t){var c=this;this._changes={order:[]},this.config=d||{},this._sort=new e.Sort,this._loader=new a.Loader(this,this._changes),this.events=t||new g.EventSystem(this),this.events.on("dataRequest",function(l,n){var s=c.dataProxy;s&&s.updateUrl&&(s.updateUrl(null,{from:l,limit:s.config.limit||n-l}),c.load(s))}),this.events.on(o.DataEvents.loadError,function(l){typeof l!="string"?(0,u.dhxError)(l):(0,u.dhxWarning)(l)}),this._reset()}return f.prototype._reset=function(){this._order=[],this._pull={},this._changes={order:[]},this._initOrder=null,this._meta=new WeakMap,this._loaded=!1},f.prototype.add=function(d,t){var c,l=this;if(this.events.fire(o.DataEvents.beforeAdd,[d]))return c=Array.isArray(d)?d.map(function(n,s){return s!==0&&(t+=1),l._add(n,t)}):this._add(d,t),this._applySmart(),c},f.prototype.remove=function(d){var t=this;d&&(d instanceof Array?w([],d,!0).map(function(c){t._remove(c)}):this._remove(d))},f.prototype.removeAll=function(){this._reset(),this.events.fire(o.DataEvents.removeAll),this.events.fire(o.DataEvents.change)},f.prototype.exists=function(d){return!!this._pull[d]},f.prototype.getNearId=function(d){if(!this._pull[d])return this._order[0].id||""},f.prototype.getItem=function(d){return this._pull[d]},f.prototype.update=function(d,t,c){var l=this.getItem(d);if(l){if((0,u.isEqualObj)(t,l))return;t.id&&d!==t.id?((0,u.dhxWarning)("this method doesn't allow change id"),(0,u.isDebug)()):(t.parent&&l.parent&&t.parent!==l.parent&&this.move(d,-1,this,t.parent),(0,h.extend)(this._pull[d],t,!1),this.config.update&&this.config.update(this._pull[d]),c||this._onChange("update",d,this._pull[d])),this._applySmart()}else(0,u.dhxWarning)("item not found")},f.prototype.getIndex=function(d){if(!d)return-1;var t=(0,h.findIndex)(this._order,function(c){return c&&c.id.toString()===d.toString()});return this._pull[d]&&t>=0?t:void 0},f.prototype.getId=function(d){if(this._order[d])return this._order[d].id},f.prototype.getLength=function(){return this._order.length},f.prototype.isDataLoaded=function(d,t){return d===void 0&&(d=0),t===void 0&&(t=this._order.length),(0,h.isNumeric)(d)&&(0,h.isNumeric)(t)?this._order.slice(d,t).filter(function(c){return c&&c.$empty}).length===0:(this._loaded||(this._loaded=!this.find(function(c){return c.$empty})),!!this._loaded)},f.prototype.filter=function(d,t){if(this.isDataLoaded()){if(t&&t.add||(this._order=this._initOrder||this._order,this._initOrder=null),d&&typeof d!="function"){var c=d;c.by!==void 0&&c.match!==void 0&&(d=c.compare?function(l){return c.compare(l[c.by],c.match,l,c.multi)}:function(l){return l[c.by]==c.match})}this._filter=t&&t.smartFilter?d:null,this._applyFilters(d),this.events.fire(o.DataEvents.change)}else(0,u.dhxWarning)("the method doesn't work with lazyLoad")},f.prototype.find=function(d){for(var t in this._pull){var c=(0,u.findByConf)(this._pull[t],d);if(c)return c}return null},f.prototype.findAll=function(d){var t=[];for(var c in this._pull){var l=(0,u.findByConf)(this._pull[c],d);l&&t.push(l)}return t},f.prototype.sort=function(d,t){this.isDataLoaded()?(t&&t.smartSorting&&(this._sorter=d),d&&this._applySorters(d),this.events.fire(o.DataEvents.change)):(0,u.dhxWarning)("the method doesn't work with lazyLoad")},f.prototype.copy=function(d,t,c,l){var n=this;return d instanceof Array?d.map(function(s,_){return n._copy(s,t,c,l,_)}):this._copy(d,t,c,l)},f.prototype.move=function(d,t,c,l){var n=this;return d instanceof Array?d.map(function(s,_){return n._move(s,t,c,l,_)}):this._move(d,t,c,l)},f.prototype.forEach=function(d){for(var t=0;t<this._order.length;t++)d.call(this,this._order[t],t,this._order)},f.prototype.load=function(d,t){return typeof d=="string"&&(this.dataProxy=d=new i.DataProxy(d)),this.dataProxy=d,this._loader.load(d,t)},f.prototype.parse=function(d,t){return this._reset(),this._loader.parse(d,t)},f.prototype.$parse=function(d){var t=this.config.approximate;t&&(d=this._approximate(d,t.value,t.maxNum)),this._parse_data(d),this._applySmart(),this.events.fire(o.DataEvents.change,["load"]),this.events.fire(o.DataEvents.load)},f.prototype.save=function(d){typeof d=="string"&&(d=new i.DataProxy(d)),this._loader.save(d)},f.prototype.changeId=function(d,t,c){if(t===void 0&&(t=(0,h.uid)()),c||this.isDataLoaded()){var l=this.getItem(d);l?(l.id=t,(0,h.extend)(this._pull[d],l),this._pull[t]=this._pull[d],c||this._onChange("update",t,this._pull[t]),delete this._pull[d]):(0,u.dhxWarning)("item not found")}else(0,u.dhxWarning)("the method doesn't work with lazyLoad")},f.prototype.isSaved=function(){return!this._changes.order.length},f.prototype.map=function(d){for(var t=[],c=0;c<this._order.length;c++)t.push(d.call(this,this._order[c],c,this._order));return t},f.prototype.mapRange=function(d,t,c){d<0&&(d=0),t>this._order.length-1&&(t=this._order.length-1);for(var l=this._order.slice(d,t),n=[],s=d;s<=t;s++)n.push(c.call(this,this._order[s],s,l));return n},f.prototype.reduce=function(d,t){for(var c=0;c<this._order.length;c++)t=d.call(this,t,this._order[c],c);return t},f.prototype.serialize=function(d){d===void 0&&(d=o.DataDriver.json);var t=this.map(function(l){var n=x({},l);return Object.keys(n).forEach(function(s){s.startsWith("$")&&delete n[s]}),n}),c=(0,u.toDataDriver)(d);if(c)return c.serialize(t)},f.prototype.getInitialData=function(){return this._initOrder},f.prototype.setMeta=function(d,t,c){if(d){var l=this._meta.get(d);l||(l={},this._meta.set(d,l)),l[t]=c}},f.prototype.getMeta=function(d,t){var c=this._meta.get(d);return c?c[t]:null},f.prototype.getMetaMap=function(d){return this._meta.get(d)},f.prototype.setRange=function(d,t){this._range=t?[d,t]:null},f.prototype.getRawData=function(d,t,c,l){if(c=c||this._order,l===1)return c;if(this._range)if(d=this._range[0]+d,t===-1)t=this._range[1];else{var n=t-d;t=d+n>this._range[1]?this._range[1]:d+n}if(!t||d===0&&(t===-1||t===c.length))return c;if(d>=c.length)return[];(t===-1||t>c.length)&&(t=c.length);var s=c.slice(d,t);return s.filter(function(_){return _.$empty}).length!==0&&this.events.fire("dataRequest",[d,t]),s},f.prototype._add=function(d,t){if(this.isDataLoaded()){var c=this._addCore(d,t);return this._onChange("add",d.id,d),this.events.fire(o.DataEvents.afterAdd,[d]),c}(0,u.dhxWarning)("the method doesn't work with lazyLoad")},f.prototype._remove=function(d){if(this.isDataLoaded()){var t=this._pull[d];if(t){if(!this.events.fire(o.DataEvents.beforeRemove,[t]))return;this._removeCore(t.id),this._onChange("remove",d,t)}this.events.fire(o.DataEvents.afterRemove,[t])}else(0,u.dhxWarning)("the method doesn't work with lazyLoad")},f.prototype._copy=function(d,t,c,l,n){if(this.isDataLoaded()){if(!this.exists(d))return null;var s=(0,h.uid)();return n&&(t=t===-1?-1:t+n),c?c instanceof f||!l?c.exists(d)?(c.add(x(x({},(0,u.copyWithoutInner)(this.getItem(d))),{id:s}),t),s):(c.add((0,u.copyWithoutInner)(this.getItem(d)),t),d):void c.add((0,u.copyWithoutInner)(this.getItem(d)),t):(this.add(x(x({},(0,u.copyWithoutInner)(this.getItem(d))),{id:s}),t),s)}(0,u.dhxWarning)("the method doesn't work with lazyLoad")},f.prototype._move=function(d,t,c,l,n){if(this.isDataLoaded()){if(n&&(t=t===-1?-1:t+n),c&&c!==this&&this.exists(d)){var s=(0,h.copy)(this.getItem(d),!0);return c.exists(d)&&(s.id=(0,h.uid)()),l&&(s.parent=l),c.add(s,t),this.remove(d),s.id}if(this.getIndex(d)===t)return null;var _=this._order.splice(this.getIndex(d),1)[0];return t===-1&&(t=this._order.length),this._order.splice(t,0,_),this.events.fire(o.DataEvents.change,[d,"update",this.getItem(d)]),d}(0,u.dhxWarning)("the method doesn't work with lazyLoad")},f.prototype._addCore=function(d,t){var c;return this.config.init&&(d=this.config.init(d)),d.id=(c=d.id)!==null&&c!==void 0?c:(0,h.uid)(),this._pull[d.id]&&(0,u.dhxError)("Item ".concat(d.id," already exist")),this._initOrder&&this._addToOrder(this._initOrder,d,t),this._addToOrder(this._order,d,t),d.id},f.prototype._removeCore=function(d){this.getIndex(d)>=0&&(this._order=this._order.filter(function(t){return t.id!==d}),delete this._pull[d]),this._initOrder&&this._initOrder.length&&(this._initOrder=this._initOrder.filter(function(t){return t.id!==d}),delete this._pull[d])},f.prototype._parse_data=function(d){var t=this._order.length;this.config.prep&&(d=this.config.prep(d));for(var c=0,l=d;c<l.length;c++){var n=l[c];this._addCore(n,t++)}},f.prototype._approximate=function(d,t,c){for(var l=d.length,n=t.length,s=Math.floor(l/c),_=Array(Math.ceil(l/s)),v=0,m=0;m<l;m+=s){for(var y=(0,h.copy)(d[m]),C=Math.min(l,m+s),E=0;E<n;E++){for(var k=0,S=m;S<C;S++)k+=d[S][t[E]];y[t[E]]=k/(C-m)}_[v++]=y}return _},f.prototype._onChange=function(d,t,c){for(var l=0,n=this._changes.order;l<n.length;l++){var s=n[l];if(s.id===t&&!s.saving){s.error&&(s.error=!1);var _=this._changes.order.indexOf(s);return s=x(x({},s),{obj:c,status:d}),this._changes.order.splice(_,1,s),this._loader.updateChanges(this._changes),d==="remove"&&c.$emptyRow?void 0:void this.events.fire(o.DataEvents.change,[t,d,c])}}this._changes.order.push({id:t,status:d,obj:x({},c),saving:!1}),this._loader.updateChanges(this._changes),this.events.fire(o.DataEvents.change,[t,d,c])},f.prototype._addToOrder=function(d,t,c){c>=0&&d[c]?(this._pull[t.id]=t,d.splice(c,0,t)):(this._pull[t.id]=t,d.push(t))},f.prototype._applySmart=function(){this._filter&&this._applyFilters(),this._sorter&&this._applySorters()},f.prototype._applySorters=function(d){this._sort.sort(this._order,d,this._sorter),this._initOrder&&this._initOrder.length&&this._sort.sort(this._initOrder,d,this._sorter)},f.prototype._applyFilters=function(d){var t=this._filter;if(d===t&&(d=null),d||t){var c=this._order.filter(function(l){return(!d||d(l))&&(!t||t(l))});this._initOrder||(this._initOrder=this._order),this._order=c}},f}();p.DataCollection=r},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(e){for(var i,u=1,o=arguments.length;u<o;u++)for(var h in i=arguments[u])Object.prototype.hasOwnProperty.call(i,h)&&(e[h]=i[h]);return e},x.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.dataDriversPro=p.dataDrivers=void 0;var w=b(51),g=b(52),a=b(103);p.dataDrivers={json:w.JsonDriver,csv:g.CsvDriver},p.dataDriversPro=x(x({},p.dataDrivers),{xml:a.XMLDriver})},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.JsonDriver=void 0;var x=function(){function w(){}return w.prototype.toJsonArray=function(g){return this.getRows(g)},w.prototype.serialize=function(g){return g},w.prototype.getFields=function(g){return g},w.prototype.getRows=function(g){return typeof g=="string"?JSON.parse(g):g},w}();p.JsonDriver=x},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(g){for(var a,e=1,i=arguments.length;e<i;e++)for(var u in a=arguments[e])Object.prototype.hasOwnProperty.call(a,u)&&(g[u]=a[u]);return g},x.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.CsvDriver=void 0;var w=function(){function g(a){this.config=x(x({},{skipHeader:0,nameByHeader:!1,rowDelimiter:`
`,columnDelimiter:","}),a),this.config.nameByHeader&&(this.config.skipHeader=1)}return g.prototype.getFields=function(a,e){for(var i=a.trim().split(this.config.columnDelimiter),u={},o=0;o<i.length;o++)u[e?e[o]:o+1]=isNaN(Number(i[o]))?i[o]:parseFloat(i[o]);return u},g.prototype.getRows=function(a){return a.trim().split(this.config.rowDelimiter)},g.prototype.toJsonArray=function(a){var e=this,i=this.getRows(a),u=this.config.names;if(this.config.skipHeader){var o=i.splice(0,this.config.skipHeader);this.config.nameByHeader&&(u=o[0].trim().split(this.config.columnDelimiter))}return i.map(function(h){return e.getFields(h,u)})},g.prototype.serialize=function(a,e){var i=a[0]?Object.keys(a[0]).filter(function(o){return!o.startsWith("$")}).join(this.config.columnDelimiter)+this.config.columnDelimiter+this.config.rowDelimiter:"",u=this._serialize(a);return e?u:i+u},g.prototype._serialize=function(a){var e=this;return a.reduce(function(i,u){var o=Object.keys(u).reduce(function(h,r,f){return r.startsWith("$")||r==="items"?h:"".concat(h).concat(u[r]).concat(f===u.length-1?"":e.config.columnDelimiter)},"");return u.items?"".concat(i).concat(i?`
`:"").concat(o).concat(e._serialize(u.items)):"".concat(i).concat(i?e.config.rowDelimiter:"").concat(o)},"")},g}();p.CsvDriver=w},function($,p,b){var x,w=this&&this.__extends||(x=function(S,M){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var O in I)Object.prototype.hasOwnProperty.call(I,O)&&(T[O]=I[O])},x(S,M)},function(S,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function T(){this.constructor=S}x(S,M),S.prototype=M===null?Object.create(M):(T.prototype=M.prototype,new T)}),g=this&&this.__assign||function(){return g=Object.assign||function(S){for(var M,T=1,I=arguments.length;T<I;T++)for(var O in M=arguments[T])Object.prototype.hasOwnProperty.call(M,O)&&(S[O]=M[O]);return S},g.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.Grid=void 0;var a=b(0),e=b(5),i=b(2),u=b(1),o=b(18),h=b(6),r=b(7),f=b(109),d=b(14),t=b(26),c=b(8),l=b(110),n=b(3),s=b(54),_=b(25),v=b(133),m=b(134),y=b(17),C=b(135),E=b(19),k=function(S){function M(T,I){var O=S.call(this,T,I)||this;O._touch={duration:350,dblDuration:300,timer:null,start:!1},O._destructed=!1,O.config=(0,u.extend)({rowHeight:40,headerRowHeight:40,footerRowHeight:40,keyNavigation:!0,sortable:!0,columns:[],data:[],tooltip:!0,rootParent:typeof T=="string"&&T||O._uid,headerSort:!0},I),O.content=(0,v.getContent)(),O._scroll={top:0,left:0},O.config.autoWidth=O.config.autoWidth||O.config.fitToContainer,O.config.adjust=O.config.adjust||O.config.columnsAutoWidth,O.config.editable=O.config.editable||O.config.editing,O.config.leftSplit=O.config.leftSplit||O.config.splitAt,O.config.sortable&&O.config.headerSort||(O.config.sortable=!1),O.config.columns.forEach(function(R){R.format=R.format||R.dateFormat});var H=function(R,A,V){if(R&&A&&(0,c.isTooltip)(O.config,A)){var z=(0,d.toFormat)(R[A.id],A.type,A.format);A.tooltipTemplate?z=A.tooltipTemplate(z,R,A):z&&A.template&&(z=A.template(z,R,A)),z&&(0,y.tooltip)(z,{css:"dhx_grid_tooltip",node:V,htmlEnable:(0,c.isHtmlEnable)(O.config,A)})}},F=function(R,A){if(A&&(0,c.isTooltip)(O.config,A)){var V=R.target.querySelector(".dhx_grid-header-cell-text span")&&R.target.querySelector(".dhx_grid-header-cell-text span").textContent||R.target.querySelector(".dhx_grid-footer-cell-text span")&&R.target.querySelector(".dhx_grid-footer-cell-text span").textContent||"";V&&(0,y.tooltip)(V,{css:"dhx_grid_tooltip",node:R.target,htmlEnable:(0,c.isHtmlEnable)(O.config,A)})}};return O._htmlEvents={onclick:(0,i.eventHandler)(function(R){return(0,i.locate)(R)},{"dhx_grid-header-cell--sortable":function(R,A){var V,z=R.target.getAttribute("dhx_resized"),Y=O._getColumn(A);if(Y&&(0,c.isSortable)(O.config,Y)&&!z&&O.events.fire(n.GridEvents.beforeSort,[Y,O._sortDir?"asc":"desc"])){var Q=(V=(0,i.locateNodeByClassName)(R,"dhx_grid-header-cell"))===null||V===void 0?void 0:V.querySelector(".dhx_grid-header-cell-text_content").innerHTML,U=Q?Y.header.find(function(Z){return Z.text===Q}):null,K=O._sortDir==="asc"?"desc":"asc";O._sort(A,K,U==null?void 0:U.sortAs)}},"dhx_grid-expand-cell":function(R,A){R.target.classList.contains("dhx_grid-expand-cell-icon")&&O.events.fire(n.GridEvents.expand,[A])}}),onscroll:function(R){O.events.fire(n.GridEvents.scroll,[{y:R.target.scrollTop,x:R.target.scrollLeft}])},onmouseover:{".dhx_grid-cell":function(R){var A=O.data.getItem(R.composedPath()[1].getAttribute("dhx_id")),V=O._getColumn(R.target.getAttribute("dhx_col_id"));H(A,V,R.target)},".dhx_grid-cell:not(.dhx_tree-cell) .dhx_grid-cell__content, .dhx_tree-cell :not(.dhx_grid-cell__content)":function(R){var A=R.composedPath(),V=O.data.getItem(A[2].getAttribute("dhx_id")),z=O._getColumn(A[1].getAttribute("dhx_col_id"));H(V,z,R.target)},".dhx_grid-cell.dhx_tree-cell .dhx_grid-cell__content":function(R){var A=R.composedPath(),V=O.data.getItem(A[3].getAttribute("dhx_id")),z=O._getColumn(A[2].getAttribute("dhx_col_id"));H(V,z,A[2])},".dhx_span-cell:not(.dhx_grid-header-cell)":function(R){var A=O.data.getItem(R.target.getAttribute("dhx_id")),V=O._getColumn(R.target.getAttribute("dhx_col_id")),z=O.getSpan(A.id,V.id);if(A&&z&&(0,c.isTooltip)(O.config,z)){var Y=z.text||(0,d.toFormat)(A[V.id],V.type,V.format);z.tooltipTemplate?Y=z.tooltipTemplate(Y,z):V.template&&(Y=V.template(Y,A,V)),Y&&(0,y.tooltip)(Y,{css:"dhx_grid_tooltip",node:R.target,htmlEnable:!0})}},".dhx_grid-header-cell:not(.dhx_span-cell)":function(R){var A=O._getColumn(R.target.getAttribute("dhx_id"));F(R,A)},".dhx_grid-footer-cell:not(.dhx_span-cell)":function(R){var A=O._getColumn(R.target.getAttribute("dhx_id"));F(R,A)},".dhx_grid-header-cell.dhx_span-cell":function(R){var A=O._getColumn(R.target.getAttribute("dhx_id")),V=A&&A.header.find(function(Y){return!(!Y.rowspan&&!Y.colspan)});if(A&&V&&(0,c.isTooltip)(O.config,A)){var z=V.text||"";z&&(0,y.tooltip)(z,{css:"dhx_grid_tooltip",node:R.target,htmlEnable:(0,c.isHtmlEnable)(O.config,A)})}},".dhx_grid-header-cell-text_content":function(R){var A=R.composedPath(),V=O._getColumn(A[1].getAttribute("dhx_id"));if(V&&(0,c.isTooltip)(O.config,V)){var z=A[2].querySelector(".dhx_grid-header-cell-text_content")&&A[2].querySelector(".dhx_grid-header-cell-text_content").textContent||"";z&&(0,y.tooltip)(z,{css:"dhx_grid_tooltip",node:A[1],htmlEnable:(0,c.isHtmlEnable)(O.config,V)})}}}},(O.config.dragMode||O.config.dragItem)&&(r.dragManager.setItem(O._uid,O),O.config.dragItem||(O.config.dragItem="row"),O.config.dragMode||(O.config.dragMode="both")),O._init(),O.config.columns&&O._parseColumns(!0),O.config.data&&O.config.data instanceof Array&&O.config.data.length&&O.config.columns&&O.data.parse(O.config.data),O.selection=new l.Selection(O,{disabled:!O.config.selection},O.events,O._uid),O.mount(T,O._createView()),O.config.autoWidth&&O.config.autoHeight&&O._prepareData(O.config.data),(0,a.awaitRedraw)().then(function(){O.config.keyNavigation&&(O.keyManager=new o.KeyManager(function(R,A){return!(A!==O._uid||!O.events.fire(n.GridEvents.beforeKeyDown,[R]))&&(O.events.fire(n.GridEvents.afterKeyDown,[R]),!0)}),O._initHotKey(),E.focusManager.setFocusId(O._uid))}),I.autoEmptyRow&&O.data.getLength()===0&&(O._addEmptyRow(),O.paint()),O}return w(M,S),M.prototype.destructor=function(){this._destroyContent(),this.keyManager&&this.keyManager.destructor(),this.events.events={},this.events.context=null,this._activeFilters=this._filterData=this._scroll=this.content=null,this.unmount()},M.prototype.setColumns=function(T){this.config.columns=T,this._parseColumns(!0),this._adjustColumns(),this._checkFilters(),this._checkMarks(),this.paint()},M.prototype.addRowCss=function(T,I){var O=this.data.getItem(T),H=O.$css||"";H.match(new RegExp(I,"g"))||(O.$css=H+" ".concat(I),this.paint())},M.prototype.removeRowCss=function(T,I){var O=this.data.getItem(T),H=O.$css?O.$css.replace(I,""):"";O.$css=H,this.paint()},M.prototype.addCellCss=function(T,I,O){var H=this._getColumn(I);H&&(H.$cellCss[T]?H.$cellCss[T]+=H.$cellCss[T].match(new RegExp(O,"g"))?"":" ".concat(O):this.data.getItem(T)&&(H.$cellCss[T]="".concat(O," ")),this.paint())},M.prototype.removeCellCss=function(T,I,O){var H=this._getColumn(I);H&&(H.$cellCss[T]?(H.$cellCss[T]=H.$cellCss[T].replace(O,""),this.paint()):this.data.getItem(T)&&(H.$cellCss[T]=""))},M.prototype.showColumn=function(T){var I=this._getColumn(T);if(I&&I.hidden&&this.events.fire(n.GridEvents.beforeColumnShow,[I])){I.hidden=!1,this.config.$totalWidth+=I.$width;var O=this._hiddenFilters&&this._hiddenFilters[I.id];O&&(this._activeFilters[I.id]=O,delete this._hiddenFilters[I.id]),this.paint(),this._checkFilters(),this.events.fire(n.GridEvents.afterColumnShow,[I])}},M.prototype.hideColumn=function(T){var I=this._getColumn(T);if(I&&!I.hidden&&this.events.fire(n.GridEvents.beforeColumnHide,[I])){I.hidden=!0,this.config.$totalWidth-=I.$width;var O=this._activeFilters&&this._activeFilters[I.id];O&&(this._hiddenFilters||(this._hiddenFilters={}),this._hiddenFilters[I.id]=O,delete this._activeFilters[I.id],this.data.filter()),this.paint(),this._checkFilters(),this.events.fire(n.GridEvents.afterColumnHide,[I])}},M.prototype.isColumnHidden=function(T){var I=this._getColumn(T);if(I)return!!I.hidden},M.prototype.showRow=function(T){if((0,u.isDefined)(T)){var I=T.toString(),O=this.data.getItem(I);O&&O.hidden&&this.events.fire(n.GridEvents.beforeRowShow,[O])&&(this.data.update(I,{hidden:!1}),this.data.filter(function(H){return!H.hidden}),this.events.fire(n.GridEvents.afterRowShow,[O]))}},M.prototype.hideRow=function(T){if((0,u.isDefined)(T)){var I=T.toString(),O=this.data.getItem(I);O&&this.events.fire(n.GridEvents.beforeRowHide,[O])&&(this.data.update(I,{hidden:!0}),this.data.filter(function(H){return!H.hidden}),this.events.fire(n.GridEvents.afterRowHide,[O]))}},M.prototype.isRowHidden=function(T){if((0,u.isDefined)(T)){var I=this.data.getItem(T.toString());return I?!!I.hidden:void 0}},M.prototype.getScrollState=function(){return{x:this._scroll.left,y:this._scroll.top}},M.prototype.scroll=function(T,I){var O=this.getRootView().refs.grid_body.el;O.scrollLeft=typeof T=="number"?T:O.scrollLeft,O.scrollTop=typeof I=="number"?I:O.scrollTop,this.paint()},M.prototype.scrollTo=function(T,I){var O=this.selection.getCell(),H=this.config.columns.filter(function(_t){return!_t.hidden}),F=(0,u.findIndex)(H,function(_t){return _t.id==I}),R=O?O.column:this.config.columns[0],A=(0,u.findIndex)(H,function(_t){return _t.id==R.id}),V=this.config.leftSplit?(0,c.getTotalWidth)(H.slice(0,this.config.leftSplit)):0,z=(0,c.getTotalWidth)(H.slice(0,F))-(F-A<0?V:0),Y=this.data.getRawData(0,-1),Q=(0,u.findIndex)(Y,function(_t){return _t.id==T}),U=(0,c.getTotalHeight)(Y.slice(0,Q)),K=this.getScrollState(),Z=this.config.width+K.x,st=this.config.height+K.y-this.config.headerRowHeight*this.config.$headerLevel,et=U-K.y-Y[Q].$height,ot=z-K.x-H[F].$width,ut=U+2*Y[Q].$height+18-st,pt=z+2*H[F].$width+18-Z,ht=et>0&&ut<0?0:et<0?et:ut,vt=ot>0&&pt<0?0:ot<0?ot:pt;this.scroll(vt+K.x,ht+K.y)},M.prototype.adjustColumnWidth=function(T,I){I===void 0&&(I=!0);var O=this.config.columns.filter(function(R){return!R.hidden}),H=O.filter(function(R){return R.id===T}),F=this._adjustColumnsWidth(this.config.data,H,I);this.config.$totalWidth=O.reduce(function(R,A){if(F[A.id]){A.$fixed=!0;var V=A.maxWidth,z=A.minWidth,Y=F[A.id];A.$width=Y,V&&Y>V&&(A.$width=V),z&&A.$width<z&&(A.$width=z)}return R+A.$width},0),this.paint()},M.prototype.getCellRect=function(T,I){var O=this.config.columns.filter(function(V){return!V.hidden}),H=this.data.getRawData(0,-1),F=this.getSpan(T,I),R=(0,u.findIndex)(O,function(V){return V.id==I}),A=(0,u.findIndex)(H,function(V){return V.id==T});return{x:(0,c.getTotalWidth)(O.slice(0,R)),y:(0,c.getTotalHeight)(H.slice(0,A)),height:F!=null&&F.rowspan?(0,t.getHeight)(H,F.rowspan,A):H[A]?H[A].$height:0,width:F!=null&&F.colspan?(0,t.getWidth)(O,F.colspan,R):O[R]?O[R].$width:0}},M.prototype.getColumn=function(T){var I=(0,u.findIndex)(this.config.columns,function(O){return O.id==T});if(I>=0)return this.config.columns[I]},M.prototype.addSpan=function(T){this.config.spans=this.config.spans||[];var I=(0,u.findIndex)(this.config.spans,function(O){return"".concat(O.row)==="".concat(T.row)&&"".concat(O.column)==="".concat(T.column)});I>=0?this.config.spans[I]=T:(this.config.spans.push(T),this.paint())},M.prototype.getSpan=function(T,I){if(this.config.spans){var O=(0,u.findIndex)(this.config.spans,function(H){return"".concat(H.row)=="".concat(T)&&"".concat(H.column)=="".concat(I)});return this.config.spans[O]}},M.prototype.removeSpan=function(T,I){if(this.config.spans){var O=(0,u.findIndex)(this.config.spans,function(H){return"".concat(H.row)=="".concat(T)&&"".concat(H.column)=="".concat(I)});this.config.spans.splice(O,1),this.paint()}},M.prototype.editCell=function(T,I,O){var H,F=this.data.getItem(T),R=this.getColumn(I);if(F&&R){var A=R.editorType;O||(R.type==="date"&&(O="datePicker"),R.type==="boolean"&&(O="checkbox"),A&&(O=A)),this.events.fire(n.GridEvents.beforeEditStart,[F,R,O])&&(!((H=this.config.$editable)===null||H===void 0)&&H.editor||this.config.$editable&&this.config.$editable.row===T&&this.config.$editable.col===I&&this.config.$editable.editorType===O||(this.config.$editable={row:F.id,col:R.id,editorType:O},this.selection.config.disabled||this.selection.setCell(T.toString(),I.toString()),this.paint(),this.events.fire(n.GridEvents.afterEditStart,[F,R,O])))}else(0,r.dhxWarning)("item not found")},M.prototype.editEnd=function(T){this.config.$editable&&this.config.$editable.editor&&this.config.$editable.editor.endEdit(T)},M.prototype.getSortingState=function(){return{dir:this._sortDir,by:this._sortBy}},M.prototype.getHeaderFilter=function(T){var I=this,O=this.getColumn(T);if(O){var H=null;return O.header.forEach(function(F){if(F.content){var R=I.content[F.content].element[T];H=F.content==="comboFilter"?R:I.getRootView().refs["".concat(T,"_filter")].el}}),H}},M.prototype.edit=function(T,I,O){this.editCell(T,I,O)},M.prototype._createView=function(){var T=this;return(0,a.create)({render:function(I,O){return(0,s.render)(I,O,T._htmlEvents,T.selection,T._uid)}},this)},M.prototype._parseColumns=function(T){T===void 0&&(T=!1),(0,d.normalizeColumns)(this.config,T);var I=this.config.columns.filter(function(O){return!O.hidden});(0,d.countColumns)(this.config,I)},M.prototype._parseData=function(){this.config.data=this._prepareData(this.data),this._detectColsTypes(),this._checkFilters(),this._checkMarks(),this.data.filter(function(T){return!T.hidden}),this._render()},M.prototype._createCollection=function(T){this.data=new r.DataCollection({prep:T},this.events)},M.prototype._getRowIndex=function(T){return this.data.getIndex(T)},M.prototype._setEventHandlers=function(){var T=this;this.data.events.on(r.DataEvents.load,function(){T.data.filter(function(I){return I}),T._parseData(),T._checkFilters()}),this.data.events.on(r.DataEvents.change,function(I,O,H){if(O!=="setPage"){if(O!=="add"&&O!=="update"&&O!=="remove"||(T.config.data=T._prepareData(T.data)),I&&(T._filterData=T.data.map(function(R){return R})||[],T._checkFilters()),T._detectColsTypes(),T._removeMarks(),T._checkMarks(),T.config.autoEmptyRow&&(!T._activeFilters||(0,u.isEmptyObj)(T._activeFilters))){var F=T.data.find({by:"$emptyRow",match:!0});if(F){if(F.id===I)return;T.data.move(F.id,T.data.getLength()-1)}else T._addEmptyRow()}T._render()}else(0,a.awaitRedraw)().then(function(){T.scrollTo(T.data.getId(H[0]).toString(),T.config.columns[0].id.toString()),T._render()})}),this.data.events.on(r.DataEvents.removeAll,function(){T.config.columns.map(function(I){I.header.map(function(O){!O.content||O.content!=="selectFilter"&&O.content!=="comboFilter"||(I.$uniqueData=[])})})}),this.events.on(r.DragEvents.beforeDrag,function(I,O){return T.data.getItem(I.start)?T.events.fire(n.GridEvents.beforeRowDrag,[I,O]):T.config.dragItem==="column"||T.config.dragItem==="both"?T.events.fire(n.GridEvents.beforeColumnDrag,[I,O]):void 0}),this.events.on(r.DragEvents.dragStart,function(I,O){T.data.getItem(I.start)?T.events.fire(n.GridEvents.dragRowStart,[I,O]):T.config.dragItem!=="column"&&T.config.dragItem!=="both"||T.events.fire(n.GridEvents.dragColumnStart,[I,O])}),this.events.on(r.DragEvents.dragIn,function(I,O){T.data.getItem(I.start)?T.events.fire(n.GridEvents.dragRowIn,[I,O]):T.config.dragItem!=="column"&&T.config.dragItem!=="both"||T.events.fire(n.GridEvents.dragColumnIn,[I,O])}),this.events.on(r.DragEvents.dragOut,function(I,O){T.data.getItem(I.start)?T.events.fire(n.GridEvents.dragRowOut,[I,O]):T.config.dragItem!=="column"&&T.config.dragItem!=="both"||T.events.fire(n.GridEvents.dragColumnOut,[I,O])}),this.events.on(r.DragEvents.canDrop,function(I,O){T.data.getItem(I.start)?T.events.fire(n.GridEvents.canRowDrop,[I,O]):T.config.dragItem!=="column"&&T.config.dragItem!=="both"||T.events.fire(n.GridEvents.canColumnDrop,[I,O])}),this.events.on(r.DragEvents.cancelDrop,function(I,O){T.data.getItem(I.start)?T.events.fire(n.GridEvents.cancelRowDrop,[I,O]):T.config.dragItem!=="column"&&T.config.dragItem!=="both"||T.events.fire(n.GridEvents.cancelColumnDrop,[I,O])}),this.events.on(r.DragEvents.beforeDrop,function(I,O){return T.config.dragItem!=="row"||T.config.dragMode!=="both"&&T.config.dragMode!=="target"?T.config.dragItem==="column"||T.config.dragItem==="both"?T.events.fire(n.GridEvents.beforeColumnDrop,[I,O]):void 0:T.events.fire(n.GridEvents.beforeRowDrop,[I,O])}),this.events.on(r.DragEvents.afterDrop,function(I,O){var H;if(T.data.getItem(I.start)){T.events.fire(n.GridEvents.afterRowDrop,[I,O]);for(var F=T.data.getItem(I.start),R=0,A=T.config.columns;R<A.length;R++){var V=A[R];F[V.id]===void 0&&T.data.update(F.id,((H={})[V.id]=null,H),!0)}}else T.config.dragItem!=="column"&&T.config.dragItem!=="both"||T.events.fire(n.GridEvents.afterColumnDrop,[I,O]);T.config.data=T._prepareData(T.data.map(function(z){return z})),T.data.parse(T.config.data)}),this.events.on(r.DragEvents.afterDrag,function(I,O){T.data.getItem(I.start)?T.events.fire(n.GridEvents.afterRowDrag,[I,O]):T.config.dragItem!=="column"&&T.config.dragItem!=="both"||T.events.fire(n.GridEvents.afterColumnDrag,[I,O]),T.config.data=T._prepareData(T.data instanceof Array?T.data.map(function(H){return H}):T.data),T.data.parse(T.config.data)}),this.events.on(n.GridEvents.cellMouseDown,function(I,O,H){H.targetTouches?(T._touch.timer=setTimeout(function(){T._dragStart(H)},T._touch.duration),T._touch.timeStamp?(T._touch.dblDuration>=T._touch.timeStamp-+H.timeStamp.toFixed()&&((O.editable!==!1&&T.config.editable||O.editable)&&T.editCell(I.id,O.id,O.editorType),H.preventDefault(),T.events.fire(n.GridEvents.cellDblClick,[I,O,H])),T._touch.timeStamp=null):T._touch.timeStamp=+H.timeStamp.toFixed(),setTimeout(function(){T._touch.timeStamp=null},T._touch.dblDuration)):T._dragStart(H)}),this._events.on(n.GridSystemEvents.cellTouchMove,function(I,O,H){T._touch.start&&H.preventDefault(),T._clearTouchTimer()}),this._events.on(n.GridSystemEvents.cellTouchEnd,function(){T._touch.start=!1,T._clearTouchTimer()}),this.events.on(n.GridEvents.filterChange,function(I,O,H){if(I=I??"",T.config.autoEmptyRow){var F=T.data.find({by:"$emptyRow",match:!0});F&&T.data.remove(F.id)}T._activeFilters||(T._activeFilters={});var R=T._getColumn(O);for(var A in I!==""?T._activeFilters[O]={by:O,match:I,compare:T.content[H].match,multi:(R==null?void 0:R.editorType)==="multiselect"}:delete T._activeFilters[O],T.data.filter(function(V){return V}),T._activeFilters)T.data.filter(T._activeFilters[A],{add:!0})}),this.events.on(n.GridEvents.scroll,function(I){T._scroll={top:I.y,left:I.x},T.editEnd(),T.paint()}),this.events.on(n.GridEvents.cellDblClick,function(I,O){(O.editable!==!1&&T.config.editable||O.editable)&&T.editCell(I.id,O.id,O.editorType)}),this.events.on(n.GridEvents.afterEditEnd,function(I,O,H){var F,R;if(!(!((R=T.config.$editable)===null||R===void 0)&&R.editor)||T.config.$editable.col===H.id&&T.config.$editable.row===O.id){var A,V;T.config.$editable?(A=T.config.$editable.row,V=T.config.$editable.col):(A=O.id,V=H.id);var z=T.data.getItem(A);delete z.$emptyRow,I!==void 0&&T.data.update(A,g(g({},z),((F={})[V]=I,F))),T.config.$editable=null,T._checkFilters(),T.paint()}}),this.events.on(n.GridEvents.headerCellMouseDown,function(I,O){var H=O.target.getAttribute("dhx_resized");H&&T.events.fire(n.GridEvents.beforeResizeStart,[I,O])&&(0,m.startResize)(T,H.toString(),O,function(){T.paint(),T.config.$resizing=null,T.events.fire(n.GridEvents.afterResizeEnd,[I,O])}),O.targetTouches&&(T._touch.timeStamp?(T._touch.dblDuration>=T._touch.timeStamp-+O.timeStamp.toFixed()&&(O.preventDefault(),T.events.fire(n.GridEvents.headerCellDblClick,[I,O])),T._touch.timeStamp=null):T._touch.timeStamp=+O.timeStamp.toFixed(),setTimeout(function(){T._touch.timeStamp=null},T._touch.dblDuration))}),this.events.on(n.GridEvents.footerCellDblClick,function(I,O){O.targetTouches&&(T._touch.timeStamp?(T._touch.dblDuration>=T._touch.timeStamp-+O.timeStamp.toFixed()&&(O.preventDefault(),T.events.fire(n.GridEvents.footerCellDblClick,[I,O])),T._touch.timeStamp=null):T._touch.timeStamp=+O.timeStamp.toFixed(),setTimeout(function(){T._touch.timeStamp=null},T._touch.dblDuration))}),this.events.on(n.GridEvents.resize,function(){T._parseColumns(),T._checkFilters()})},M.prototype._addEmptyRow=function(){var T=this.data.getId(this.data.getLength()-1),I=this.data.getItem(T),O=this.config.columns.filter(function(H){return!H.hidden});(0,c.isRowEmpty)(I)||this.data.add(O.reduce(function(H,F){return H[F.id]="",H},{$emptyRow:!0}))},M.prototype._sort=function(T,I,O){var H=this;I?this._sortDir=I:this._sortBy===T?this._sortDir=this._sortDir==="asc"?"desc":"asc":this._sortDir="asc",this._sortBy=T,this.data.sort({by:T,dir:this._sortDir,as:O??function(F){var R=H.getColumn(T);return F&&R.type==="date"?typeof F=="string"?(0,_.stringToDate)(F,R.format).getTime():F.getTime():F?"".concat(F):""}}),this.events.fire(n.GridEvents.afterSort,[this.getColumn(T),this._sortDir])},M.prototype._clearTouchTimer=function(){this._touch.timer&&(clearTimeout(this._touch.timer),this._touch.timer=null)},M.prototype._checkFilters=function(){var T=this,I=this._filterData;if(I){this.config.columns.forEach(function(R){R.header.forEach(function(A){if(A.content&&(A.content==="selectFilter"||A.content==="comboFilter")){var V=R.header.find(function(Y){return Y.filterConfig}),z=(0,d.getUnique)(I,R.id,V?V.filterConfig.multiselection:null);R.$uniqueData&&R.$uniqueData.length>z.length?z.forEach(function(Y){R.$uniqueData.includes(Y)||R.$uniqueData.push(Y)}):R.$uniqueData=z}})});var O=function(R){var A=H.config.columns.find(function(Y){return Y.id===R}),V=A.header.find(function(Y){return!!Y.content}),z=!1;z=Array.isArray(H._activeFilters[R].match)?H._activeFilters[R].match.reduce(function(Y,Q){if(A.$uniqueData.find(function(U){return U.toString()===Q}))return!0},!1):A.$uniqueData.find(function(Y){return Y.toString()===T._activeFilters[R].match}),!V||V.content!=="selectFilter"&&V.content!=="comboFilter"||z?H.data.filter(H._activeFilters[R],{add:!0}):(delete H._activeFilters[R],H.data.filter())},H=this;for(var F in this._activeFilters)O(F)}},M.prototype._adjustColumns=function(){var T=this;if(typeof this.config.adjust=="boolean"||this.config.adjust==="data"||this.config.adjust==="header"||this.config.adjust==="footer"){if(!(H=this.config.columns.filter(function(F){return!F.hidden})).length)return;var I=this.config.data&&this.config.data.length?this.config.data:this.data.map(function(F){return F}),O=this._adjustColumnsWidth(I,H);this.config.$totalWidth=H.reduce(function(F,R){R.$fixed=!0;var A=R.maxWidth,V=R.minWidth,z=O[R.id];return R.$width=z,A&&z>A&&(R.$width=A),V&&R.$width<V&&(R.$width=V),F+R.$width},0)}else{var H;if(!(H=this.config.columns.filter(function(F){return!F.hidden&&F.adjust})).length)return;H.forEach(function(F){T.adjustColumnWidth(F.id,F.adjust)})}},M.prototype._prepareData=function(T){var I=this;return this.config.autoHeight&&(this.config.autoHeight=!1),this._adjustColumns(),T.map(function(O){return O.$height=O.height||I.config.rowHeight,O})},M.prototype._adjustColumnsWidth=function(T,I,O){var H,F,R;O===void 0&&(O=this.config.adjust);var A={};if(O==="header"||O===!0){var V=I.filter(function(vt){return vt.header});if(Z=(0,d.getMaxColsWidth)(this._prepareColumnData(V,"header"),V,{font:"bold 14.4px Arial"},"header"))for(var z=0,Y=Object.entries(Z);z<Y.length;z++){var Q=Y[z],U=Q[0],K=Q[1];A=Object.assign(A,((H={})[U]=+K+((0,c.isSortable)(this.config,this.getColumn(U))?36:16),H))}}if(O==="footer"||O===!0){var Z;if(V=I.filter(function(vt){return vt.footer}),Z=(0,d.getMaxColsWidth)(this._prepareColumnData(V,"footer"),V,{font:"bold 14.4px Arial"},"footer"))for(var st=0,et=Object.entries(Z);st<et.length;st++){var ot=et[st];U=ot[0],K=ot[1],(A[U]&&A[U]<+K+16||!A[U])&&(A=Object.assign(A,((F={})[U]=+K+16,F)))}}if((O==="data"||O===!0)&&(Z=(0,d.getMaxColsWidth)(T,I,{font:"normal 14.4px Arial"},"data")))for(var ut=0,pt=Object.entries(Z);ut<pt.length;ut++){var ht=pt[ut];U=ht[0],K=ht[1],(A[U]&&A[U]<+K+16||!A[U])&&(A=Object.assign(A,((R={})[U]=+K+16,R)))}return A},M.prototype._prepareColumnData=function(T,I){for(var O,H,F,R,A,V,z,Y,Q,U,K=[],Z=0;Z<T.length;Z++){for(var st=[],et=0;et<((H=T[et])===null||H===void 0?void 0:H[I].length);et++){var ot={};!((R=(F=T[Z])===null||F===void 0?void 0:F[I][et])===null||R===void 0)&&R.text?(ot[T[Z].id]=((V=(A=T[Z])===null||A===void 0?void 0:A[I][et])===null||V===void 0?void 0:V.text)||"",st.push(ot)):!((Y=(z=T[Z])===null||z===void 0?void 0:z[I][et])===null||Y===void 0)&&Y.content&&(ot[T[Z].id]=this.content[(U=(Q=T[Z])===null||Q===void 0?void 0:Q[I][et])===null||U===void 0?void 0:U.content].toHtml(this.getColumn(T[Z].id),this.config)||"",st.push(ot))}for(var ut=0;ut<st.length;ut++)for(var pt=0,ht=Object.entries(st[ut]);pt<ht.length;pt++){var vt=ht[pt],_t=vt[0],$t=vt[1];K[ut]=g({},K[ut])||{},K[ut]=Object.assign(K[ut],((O={})[_t]=$t,O))}}return K},M.prototype._dragStart=function(T){if(this.config.dragMode&&(this.config.dragItem==="row"||this.config.dragItem==="both")&&!this.config.$editable){var I=this._getColumn(T.target.getAttribute("dhx_col_id"));if((I==null?void 0:I.draggable)===!1)return;var O=(0,i.locateNode)(T,"dhx_id"),H=O&&O.getAttribute("dhx_id");return T.targetTouches&&(this._touch.start=!0),r.dragManager.onMouseDown(T,[H])}},M.prototype._getColumn=function(T){for(var I=0,O=this.config.columns;I<O.length;I++){var H=O[I];if(H.id==T)return H}},M.prototype._init=function(){this.events=new e.EventSystem(this),this._events=new e.EventSystem(this),this._attachDataCollection(),this.export=new f.Exporter(this),this._setEventHandlers()},M.prototype._attachDataCollection=function(){var T=this;if(this.config.data instanceof r.DataCollection)return this.data=this.config.data,void(this.config.data=this.data.serialize());this._createCollection(function(I){return I.spans&&(T.config.spans=I.spans,I=I.data),I})},M.prototype._setMarks=function(T,I){for(var O=this.data.map(function(V){return{id:V.id,data:V[T.id],row:V}}),H=this.data.map(function(V){return V[T.id]}),F=function(V){var z=I(V.data,H,V.row,T);if(z){T.$cellCss=T.$cellCss||{};var Y=(T.$cellCss[V.id]||"").split(" ");z.split(" ").map(function(Q){Y.includes(Q)||Y.push(Q)}),T.$cellCss[V.id]=Y.join(" ")}},R=0,A=O;R<A.length;R++)F(A[R])},M.prototype._checkMarks=function(){var T=this;this.config.columns.map(function(I){var O=I.mark;O&&(typeof O=="function"?T._setMarks(I,O):T._setMarks(I,function(H,F){var R=[];F.forEach(function(z){z!=null&&z!==""&&R.push(parseFloat(z))});var A=(0,u.getMinArrayNymber)(R),V=(0,u.getMaxArrayNymber)(R);return O.max&&V===parseFloat(H)?O.max:!(!O.min||A!==parseFloat(H))&&O.min}))})},M.prototype._removeMarks=function(){this.config.columns.forEach(function(T){T.mark&&(T.$cellCss={})})},M.prototype._detectColsTypes=function(){this.config.columns.forEach(function(T){return T.type?T:T.format?(T.type="number",T):void(T.type||(T.type="string"))})},M.prototype._destroyContent=function(){for(var T in this.content)T==="comboFilter"&&this.content[T].destroy()},M.prototype._render=function(){this.paint()},M.prototype._initHotKey=function(){var T=(0,C.getKeysHandlers)(this);for(var I in T)this.keyManager.addHotKey(I,T[I]);for(var I in this.config.hotkeys)this.keyManager.addHotKey(I,this.config.hotkeys[I])},M}(h.View);p.Grid=k},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(n){for(var s,_=1,v=arguments.length;_<v;_++)for(var m in s=arguments[_])Object.prototype.hasOwnProperty.call(s,m)&&(n[m]=s[m]);return n},x.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.proRender=p.render=p.getRenderConfig=void 0;var w=b(0),g=b(2),a=b(14),e=b(8),i=b(35),u=b(132),o=b(67),h=b(1),r=2;function f(n,s,_){var v=n.config,m=v.columns.filter(function(k){return!k.hidden}),y=(0,a.calculatePositions)(_.width,_.height,n._scroll,v,s),C=m.slice(y.xStart,y.xEnd),E=s.slice(y.yStart,y.yEnd);return x(x({},v),{data:s,columns:m,scroll:n._scroll,$positions:y,headerHeight:v.$headerLevel*v.headerRowHeight,footerHeight:v.$footerLevel*v.footerRowHeight,firstColId:m[0]&&m[0].id,events:n.events,_events:n._events,currentColumns:C,currentRows:E,sortBy:n._sortBy,sortDir:n._sortDir,content:n.content,gridId:n._uid})}function d(n){if(n&&(n.tagName||(n=n._parent._container),n)){var s=n.currentStyle||window.getComputedStyle(n),_=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)||0,v=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom)||0;return{width:n.clientWidth-_,height:n.clientHeight-v}}}function t(n,s){var _,v=(0,i.getCells)(n),m=(0,i.getSpans)(n),y=n.columns;if(n.$resizing){var C=(0,h.findIndex)(y,function(F){return F.id===n.$resizing}),E=(0,e.getTotalWidth)(y.slice(0,C))+y[C].$width;_=(0,w.el)(".dhx_grid-resize-line",{style:{top:0,left:E,height:n.$totalHeight}})}var k=n.selection?n.selection.toHTML():null;k=typeof k=="string"?(0,w.el)("div.dhx_selection",{".innerHTML":k}):k;var S,M=n.$positions,T={};function I(F){var R=(0,g.locate)(F,"dhx_id"),A=(0,g.locate)(F,"dhx_col_id"),V=n.currentRows.filter(function(Y){return Y.id===R})[0],z=n.currentColumns.filter(function(Y){return Y.id===A})[0];return{row:R?V:{},col:A?z:{}}}if(n.eventHandlers){for(var O in n.eventHandlers)if(n.eventHandlers.hasOwnProperty(O)){var H=n.eventHandlers[O];T[O]=(0,g.eventHandler)(function(F){return I(F)},x({},H))}}return(0,w.el)(".dhx_data-wrap",x({style:{height:n.$totalHeight,width:n.$totalWidth,"padding-left":s.x,"padding-top":s.y},role:"presentation"},T),[(0,w.el)(".dhx_grid_data",x(x({_flags:w.KEYED_LIST},(0,i.getHandlers)(M.yStart,M.xStart,n)),(S=n.data.length,{role:"rowgroup","aria-rowcount":S})),v),(0,w.el)(".dhx_span-spans",{role:"presentation"},m),(0,w.el)(".dhx_grid_selection",{_ref:"selection","aria-hidden":"true"},[k,_])])}function c(n,s,_){var v=_.height-r;return v=s?v:v-n.headerHeight,n.$footer?s?v:v-n.footerHeight:v}function l(n,s,_,v,m){_===void 0&&(_=!0),v===void 0&&(v=!1),m===void 0&&(m=!1);var y=!m&&n.$totalHeight>=s.height-n.headerRowHeight?(0,g.getScrollbarWidth)():0,C=s.width-r-y,E=n.columns.filter(function(I){return!I.hidden}),k=E.filter(function(I){return!I.width&&!I.$fixed&&(0,e.isAutoWidth)(n,I)}),S=(0,e.getTotalWidth)(E.filter(function(I){return I.width||I.$fixed||!(0,e.isAutoWidth)(n,I)})),M=k.reduce(function(I,O){return I+(O.gravity||1)},0);if(C<n.$totalWidth){var T=k.reduce(function(I,O){return I+(O.maxWidth||O.$width)},0);k.length>1&&k.forEach(function(I){var O=0,H=(O=_?Math.abs(C-T)*((I.gravity||1)/M):Math.abs(C-S)*((I.gravity||1)/M))<I.minWidth,F=O>I.maxWidth;H||F?H?(S+=I.$width-O,I.$fixed=!0):F&&(I.$width=I.maxWidth,I.$fixed=!0):I.$width=O})}else k.forEach(function(I){var O=Math.abs(C-S)*((I.gravity||1)/M),H=O<I.minWidth,F=O>I.maxWidth;H||F?H?(S+=I.$width-O,v&&(I.$fixed=!0)):F&&(I.$width=I.maxWidth,v&&(I.$fixed=!0)):I.$width=O,!_&&I.$fixed&&delete I.$fixed});_&&l(n,s,!1,v,m)}p.getRenderConfig=f,p.render=function(n,s,_,v,m){if(s._container||(s.config.width=1,s.config.height=1),n&&n.node&&n.node.parent&&n.node.parent.el){var y=d(n.node.parent.el);s.config.width=y.width,s.config.height=y.height}var C=s.config;if(!C)return(0,w.el)("div");if(!C.columns.length)return(0,w.el)(".dhx_grid",{dhx_root_id:C.rootParent});var E=s.data.getRawData(0,-1,null,2);C.columns.reduce(function(et,ot){return ot.hidden?et:ot.hidden},!0)?C.$totalHeight=0:C.$totalHeight=E.reduce(function(et,ot){return et+(ot.$height||0)},0);var k=d(s._container),S={width:(C.width?C.width:k&&k.width)||0,height:(C.height?C.height:k&&k.height)||0};(0,e.isAutoWidth)(C)&&(l(C,S),C.$totalWidth=(0,e.getTotalWidth)(C.columns.filter(function(et){return!et.hidden}))),C.width=S.width,C.height=S.height;var M=f(s,E,S);M.selection=v,M.datacollection=s.data;var T,I,O,H,F=(0,i.getShifts)(M),R=(0,e.isCssSupport)("position","sticky"),A=c(M,R,S),V={wrapper:S,sticky:R,shifts:F,gridBodyHeight:A},z=(0,o.getFixedRows)(M,x(x({},V),{name:"header",position:"top"})),Y=M.$footer?(0,o.getFixedRows)(M,x(x({},V),{name:"footer",position:"bottom"})):null,Q=M.$totalWidth+r<S.width?"dhx_grid-less-width":"",U=M.$totalHeight+r<S.height?"dhx_grid-less-height":"";if(!n.node){var K=s.getScrollState(),Z=K.x,st=K.y;(0,w.awaitRedraw)().then(function(){s.scroll(Z,st)})}return(0,w.el)(".dhx_grid.dhx_widget",x({class:(M.css||"")+(R?"":" dhx_grid_border")+(C.multiselection?" dhx_no-select--pointer":""),dhx_widget_id:m,dhx_root_id:C.rootParent},(T=M.data,I=C.columns,O=M.editable,H=M.multiselection,{role:"grid","aria-rowcount":T.length,"aria-colcount":I.filter(function(et){return!et.hidden}).length,"aria-readonly":O?"false":"true","aria-multiselectable":H?"true":"false"})),[(0,w.resizer)(function(et){return(0,e.isAutoWidth)(s.config)&&et&&(C.$totalWidth=0,l(C,S,!0,!0)),s.paint()}),(0,w.el)(".dhx_grid-content",{style:x({},S),onclick:_.onclick,onmouseover:_.onmouseover,class:"".concat(Q," ").concat(U).trim(),role:"presentation"},[R?null:z,(0,w.el)(".dhx_grid-body",{style:{height:A,width:S.width-r},onscroll:_.onscroll,_ref:"grid_body",role:"presentation"},[(0,w.el)("div",{},[R?z:null,t(M,F),R?Y:null])]),(0,u.getFixedColsHeader)(M,V),(0,u.getFixedCols)(M,V),R?null:Y])])},p.proRender=function(n,s,_,v,m){if(s._container||(s.config.width=1,s.config.height=1),n&&n.node&&n.node.parent&&n.node.parent.el){var y=d(n.node.parent.el);s.config.width=y.width,s.config.height=y.height}var C=s.config;if(!C)return(0,w.el)("div");if(!C.columns.length)return(0,w.el)(".dhx_grid",{dhx_root_id:C.rootParent});var E=s.data.getRawData(0,-1,null,2);C.columns.reduce(function(K,Z){return Z.hidden?K:Z.hidden},!0)?C.$totalHeight=0:C.$totalHeight=E.reduce(function(K,Z){return K+(Z.$height||0)},0);var k=d(s._container),S={width:(C.width?C.width:k&&k.width)||0,height:(C.height?C.height:k&&k.height)||0};(0,e.isAutoWidth)(C)&&(l(C,S,!0,!1,s.scrollView&&s.scrollView.config.enable),C.$totalWidth=(0,e.getTotalWidth)(C.columns.filter(function(K){return!K.hidden}))),C.width=S.width,C.height=S.height;var M=f(s,E,S);M.selection=v,M.datacollection=s.data;var T=(0,i.getShifts)(M),I=(0,e.isCssSupport)("position","sticky"),O=c(M,I,S),H={wrapper:S,sticky:I,shifts:T,gridBodyHeight:O},F=(0,o.getFixedRows)(M,x(x({},H),{name:"header",position:"top"})),R=M.$footer?(0,o.getFixedRows)(M,x(x({},H),{name:"footer",position:"bottom"})):null,A=M.$totalWidth+r<S.width?"dhx_grid-less-width":"",V=M.$totalHeight+r<S.height?"dhx_grid-less-height":"";if(!n.node){var z=s.getScrollState(),Y=z.x,Q=z.y;(0,w.awaitRedraw)().then(function(){s.scroll(Y,Q)})}var U=(0,w.el)("div",{},[I?F:null,t(M,T),I?R:null]);return(0,w.el)(".dhx_grid.dhx_widget",{class:(M.css||"")+(I?"":" dhx_grid_border")+(C.multiselection?" dhx_no-select--pointer":""),dhx_widget_id:m,dhx_root_id:C.rootParent,role:"grid","aria-rowcount":M.data.length,"aria-colcount":C.columns.filter(function(K){return!K.hidden}).length},[(0,w.resizer)(function(K){return(0,e.isAutoWidth)(s.config)&&K&&(C.$totalWidth=0,l(C,S,!0,!0)),s.paint()}),(0,w.el)(".dhx_grid-content",{style:x({},S),onclick:_.onclick,onmouseover:_.onmouseover,class:"".concat(A," ").concat(V).trim(),role:"presentation"},[I?null:F,(0,w.el)(".dhx_grid-body",{style:{height:O,width:S.width-r},onscroll:_.onscroll,_ref:"grid_body",role:"presentation"},[s.scrollView&&s.scrollView.config.enable?s.scrollView.render([U]):U]),(0,u.getFixedColsHeader)(M,H),(0,u.getFixedCols)(M,H),I?null:R])])}},function($,p,b){var x=this&&this.__createBinding||(Object.create?function(g,a,e,i){i===void 0&&(i=e);var u=Object.getOwnPropertyDescriptor(a,e);u&&!("get"in u?!a.__esModule:u.writable||u.configurable)||(u={enumerable:!0,get:function(){return a[e]}}),Object.defineProperty(g,i,u)}:function(g,a,e,i){i===void 0&&(i=e),g[i]=a[e]}),w=this&&this.__exportStar||function(g,a){for(var e in g)e==="default"||Object.prototype.hasOwnProperty.call(a,e)||x(a,g,e)};Object.defineProperty(p,"__esModule",{value:!0}),w(b(115),p),w(b(58),p)},function($,p,b){var x;Object.defineProperty(p,"__esModule",{value:!0}),p.SliderEvents=void 0,function(w){w.change="change",w.focus="focus",w.blur="blur",w.keydown="keydown",w.mousedown="mousedown",w.mouseup="mouseup"}(x||(p.SliderEvents=x={}))},function($,p,b){var x;Object.defineProperty(p,"__esModule",{value:!0}),p.TimepickerEvents=void 0,function(w){w.change="change",w.beforeApply="beforeApply",w.afterApply="afterApply",w.beforeClose="beforeClose",w.afterClose="afterClose",w.apply="apply",w.close="close",w.save="save"}(x||(p.TimepickerEvents=x={}))},function($,p,b){var x;Object.defineProperty(p,"__esModule",{value:!0}),p.CalendarEvents=void 0,function(w){w.change="change",w.beforeChange="beforechange",w.modeChange="modeChange",w.monthSelected="monthSelected",w.yearSelected="yearSelected",w.cancelClick="cancelClick",w.dateMouseOver="dateMouseOver",w.dateHover="dateHover"}(x||(p.CalendarEvents=x={}))},function($,p,b){var x=this&&this.__createBinding||(Object.create?function(g,a,e,i){i===void 0&&(i=e);var u=Object.getOwnPropertyDescriptor(a,e);u&&!("get"in u?!a.__esModule:u.writable||u.configurable)||(u={enumerable:!0,get:function(){return a[e]}}),Object.defineProperty(g,i,u)}:function(g,a,e,i){i===void 0&&(i=e),g[i]=a[e]}),w=this&&this.__exportStar||function(g,a){for(var e in g)e==="default"||Object.prototype.hasOwnProperty.call(a,e)||x(a,g,e)};Object.defineProperty(p,"__esModule",{value:!0}),w(b(60),p),w(b(130),p),w(b(66),p)},function($,p,b){var x,w=this&&this.__extends||(x=function(C,E){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,S){k.__proto__=S}||function(k,S){for(var M in S)Object.prototype.hasOwnProperty.call(S,M)&&(k[M]=S[M])},x(C,E)},function(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function k(){this.constructor=C}x(C,E),C.prototype=E===null?Object.create(E):(k.prototype=E.prototype,new k)}),g=this&&this.__spreadArray||function(C,E,k){if(k||arguments.length===2)for(var S,M=0,T=E.length;M<T;M++)!S&&M in E||(S||(S=Array.prototype.slice.call(E,0,M)),S[M]=E[M]);return C.concat(S||Array.prototype.slice.call(E))};Object.defineProperty(p,"__esModule",{value:!0}),p.Combobox=void 0;var a=b(1),e=b(0),i=b(5),u=b(2),o=b(125),h=b(6),r=b(7),f=b(23),d=b(61),t=b(15),c=b(129),l=b(64),n=b(27),s=b(65),_=b(66);function v(C,E){return typeof E=="function"?E(C):C+" "+l.default.selectedItems}var m=function(C){return C.icon?'<span class="'.concat(C.icon,' dhx_combobox-options__icon"></span> <span class="dhx_combobox-options__value">').concat(C.value,"</span>"):C.src?'<img src="'.concat(C.src,'" class="dhx_combobox-options__image" alt=').concat(C.value,'></img> <span class="dhx_combobox-options__value">').concat(C.value,"</span>"):'<span class="dhx_combobox-options__value">'.concat(C.value,"</span>")},y=function(C){function E(k,S){var M=C.call(this,k,(0,a.extend)({template:m,listHeight:224,itemHeight:36,disabled:!1,readOnly:!1},S))||this;M.config.itemsCount=M.config.itemsCount||M.config.showItemsCount,M.config.helpMessage=M.config.helpMessage||M.config.help,M.config.cellHeight&&M.config.itemHeight===36&&(M.config.itemHeight=M.config.cellHeight),M.config.labelInline&&(M.config.labelPosition="left"),Array.isArray(M.config.data)?(M.events=new i.EventSystem(M),M.data=new r.DataCollection({}),M.data.parse(M.config.data)):M.config.data?(M.data=M.config.data,M.events=new i.EventSystem(M),M.events.context=M):(M.events=new i.EventSystem(M),M.data=new r.DataCollection({})),M.popup=new t.Popup,M.popup.events.on(t.PopupEvents.afterShow,function(){M.paint()}),M.popup.events.on(t.PopupEvents.afterHide,function(){M.config.multiselection&&(M._state.value=""),M.paint()}),M.popup.events.on(t.PopupEvents.beforeHide,function(I){I&&M._hideOptions()}),(M.config.readonly||M.config.readOnly)&&(M.config.readOnly=M.config.readOnly||M.config.readonly,M._keyListener=new c.KeyListener),M._state={value:"",ignoreNext:!1,canDelete:!1,unselectActive:!1,currentState:_.ComboState.default},M._initHandlers(),M._createLayout(),M.config.value&&M._setValue(M.config.value,!0),M._initEvents();var T=(0,e.create)({render:function(){return M._draw()},hooks:{didRedraw:function(){M.popup.isVisible()&&(M.focus(),M._configurePopup())}}});return M.mount(k,T),M}return w(E,C),E.prototype.focus=function(){if(this.config.disabled)return!1;this.getRootView().refs.input.el.focus()},E.prototype.blur=function(){if(this.config.disabled)return!1;this.getRootView().refs.input.el.blur(),this.popup.hide()},E.prototype.enable=function(){this.config.disabled=!1,this.paint()},E.prototype.disable=function(){this.config.disabled=!0,this.paint()},E.prototype.isDisabled=function(){return this.config.disabled},E.prototype.clear=function(){if(this.config.disabled)return!1;this.list.selection.remove(),this._state.value="",this._filter(),this.paint()},E.prototype.getValue=function(k){var S=this.list.selection.getId();return k?(0,a.wrapBox)(S):Array.isArray(S)?S.join(","):S},E.prototype.setValue=function(k){return this._setValue(k)},E.prototype.destructor=function(){this.popup&&this.popup.destructor(),this.events&&this.events.clear(),this.list&&this.list.destructor(),this._helper&&this._helper.destructor(),this._layout&&this._layout.destructor(),this.config=this.events=this.list=this.popup=null,this._helper=this._keyListener=this._handlers=this._state=this._uid=this._isPopupConfiqureted=null,this.unmount()},E.prototype.setState=function(k){switch(k){case"success":this._state.currentState=_.ComboState.success;break;case"error":this._state.currentState=_.ComboState.error;break;default:this._state.currentState=_.ComboState.default}this.paint()},E.prototype._setValue=function(k,S){var M=this;if(S===void 0&&(S=!1),this.config.disabled||!this._exsistId(k))return!1;if(this._filter(),this.config.multiselection||(this.list.selection.remove(),this._state.value=""),this.config.multiselection)typeof k=="string"&&(k=k.split(",")),typeof k=="number"&&(k=[k]),k.forEach(function(O){M.list.selection.add(O,!1,!1,S)});else{var T=(0,a.unwrapBox)(k);this.list.selection.add(T,!1,!1,S);var I=this.data.getItem(T);I&&(this._state.value=this._getItemText(I))}this.paint()},E.prototype._createLayout=function(){var k=this.list=new d.List(null,{template:this.config.template,virtual:this.config.virtual,keyNavigation:!1,multiselection:this.config.multiselection,itemHeight:this.config.itemHeight,height:this.config.listHeight,data:this.data}),S=this._layout=new f.Layout(this.popup.getContainer(),{css:"dhx_combobox-options dhx_combobox__options",rows:[{id:"select-unselect-all",hidden:!this.config.multiselection||!this.config.selectAllButton},{id:"list",height:"content"},{id:"not-found",hidden:!0}],on:{click:{".dhx_combobox__action-select-all":this._handlers.selectAll}}});S.getCell("list").attach(k),this.config.multiselection&&this.config.selectAllButton&&S.getCell("select-unselect-all").attach(s.selectAllView)},E.prototype._initHandlers=function(){var k=this;this.config.helpMessage&&(this._helper=new t.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage)),this._handlers={showHelper:function(S){S.preventDefault(),S.stopPropagation(),k._helper.show(S.target,{mode:k.config.labelPosition==="left"?"bottom":"right"})},selectAll:function(){k._state.unselectActive?(k.list.selection.remove(),k.config.selectAllButton&&(k._layout.getCell("select-unselect-all").attach(s.selectAllView),k._state.unselectActive=!1)):(k.data.filter(),k.list.selection.add(),k.config.selectAllButton&&(k._layout.getCell("select-unselect-all").attach(s.unselectAllView),k._state.unselectActive=!0)),k._changePopupPosition(),k.paint()},onkeydown:function(S){S.key==="Tab"&&k.popup.isVisible()?k._hideOptions():(k.popup.isVisible()||S.which!==o.KEY_CODES.DOWN_ARROW||k._showOptions(),k.popup.isVisible()&&S.which===o.KEY_CODES.RIGHT_ARROW&&k.config.readOnly&&!k.config.multiselection&&(k.list.moveFocus(d.MOVE_DOWN),S.preventDefault()),k.popup.isVisible()&&S.which===o.KEY_CODES.LEFT_ARROW&&k.config.readOnly&&!k.config.multiselection&&(k.list.moveFocus(d.MOVE_UP),S.preventDefault()),k.popup.isVisible()&&S.which===o.KEY_CODES.DOWN_ARROW&&(k.list.moveFocus(d.MOVE_DOWN),S.preventDefault()),k.popup.isVisible()&&S.which===o.KEY_CODES.UP_ARROW&&(k.list.moveFocus(d.MOVE_UP),S.preventDefault()),k.popup.isVisible()&&S.which===o.KEY_CODES.ESC&&k._hideOptions(),k.popup.isVisible()&&S.which===o.KEY_CODES.ENTER&&(k.setValue(k.list.getFocus()),k.config.multiselection||k._hideOptions())),k.events.fire(_.ComboboxEvents.keydown,[S,k.popup.isVisible()&&k.list.getFocus()])},onkeyup:function(S){if(k.config.multiselection&&!k.config.itemsCount){if(k._state.ignoreNext)k._state.ignoreNext=!1;else if(S.which===o.KEY_CODES.BACKSPACE&&!k._state.value&&k.config.multiselection&&k.list.selection.getId().length){var M=k.list.selection.getId(),T=M[M.length-1];k.list.selection.remove(T),k._changePopupPosition(),k.paint()}}},oninput:function(S){if(!k.config.disabled){var M=S.target.value;k.events.fire(_.ComboboxEvents.input,[M]),k._state.value=M,k._filter(),M.length?k._state.canDelete=!1:(k._state.ignoreNext=!0,k._state.canDelete=!0),k.config.multiselection||(k.list.selection.remove(),k.paint()),k.popup.isVisible()||k._showOptions(),k._updatePopup()}},oninputclick:function(S){if(!k.config.disabled){if(k.focus(),S.target.classList.contains("dhx_combobox__action-remove")){var M=(0,u.locate)(S);return M?(k.list.selection.remove(M),k._changePopupPosition(),void k.paint()):void 0}if(S.target.classList.contains("dhx_combobox__action-clear-all"))return k.list.selection.getId().forEach(function(T){return k.list.selection.remove(T)}),k.config.selectAllButton&&k._state.unselectActive&&(k._layout.getCell("select-unselect-all").attach(s.selectAllView),k._state.unselectActive=!1),void k.paint();S.preventDefault(),k.popup.isVisible()?k.focus():k._showOptions()}},toggleIcon:function(){k.focus(),k.popup.isVisible()?k._hideOptions():k._showOptions()},onfocus:function(){var S;return(S=k.events)===null||S===void 0?void 0:S.fire(_.ComboboxEvents.focus,[])},onblur:function(){var S;return(S=k.events)===null||S===void 0?void 0:S.fire(_.ComboboxEvents.blur,[])}}},E.prototype._initEvents=function(){var k=this;this.data.events.on(r.DataEvents.load,function(){k.config.value&&k._setValue(k.config.value,!0)}),this.list.events.on(d.ListEvents.click,function(){k.config.multiselection||k._hideOptions(),k._changePopupPosition()}),this.list.selection.events.on(n.SelectionEvents.afterSelect,function(){var S=k.getValue(k.config.multiselection);k.events.fire(_.ComboboxEvents.change,[S]),k._updateSelectedItem(S)}),this.list.selection.events.on(n.SelectionEvents.afterUnSelect,function(){var S=k.config.multiselection;if(!k.config.readOnly||S){var M=k.getValue(S);k.events.fire(_.ComboboxEvents.change,[M]),S&&k._updateSelectedItem(M)}}),this.popup.events.on(t.PopupEvents.beforeShow,function(){if(!k.popup.isVisible()&&!k._isPopupConfiqureted)return k._configurePopup(),!1}),this.config.readOnly&&this.popup.events.on(t.PopupEvents.afterShow,function(){if(k._state.value){var S=k.list.selection.getId();k.list.setFocus(S)}else k.list.setFocus(k.data.getId(0));k._keyListener.startNewListen(function(M){return k._findBest(M)})})},E.prototype._showOptions=function(){this.events.fire(_.ComboboxEvents.beforeOpen)&&(this._state.value.length&&(this._state.canDelete=!0),this._filter(),this._configurePopup()&&(this.events.fire(_.ComboboxEvents.open),this.events.fire(_.ComboboxEvents.afterOpen)))},E.prototype._configurePopup=function(){this._isPopupConfiqureted=!0;var k=this.getRootView();return!!(k&&k.refs&&k.refs.holder)&&(this.popup.isVisible()||this._updatePopup(),!0)},E.prototype._hideOptions=function(){var k=this;this.events.fire(_.ComboboxEvents.beforeClose)&&(this.config.readOnly&&this._keyListener.endListen(),this.list.setFocus(this.data.getId(0)),this.config.multiselection||this.config.readOnly||this.list.selection.contains()||(this._state.value=""),(0,e.awaitRedraw)().then(function(){return k.popup.isVisible()&&k.popup.hide()}),this.events.fire(_.ComboboxEvents.afterClose),this.events.fire(_.ComboboxEvents.close),this._filter(),this.paint())},E.prototype._filter=function(){var k=this;if(!this.config.readOnly){if(this.data.filter(function(M){return k.config.filter?k.config.filter(M,k._state.value):(0,a.isEqualString)(k._state.value,k._getItemText(M))}),this.config.multiselection)this.list.setFocus(this.data.getId(0));else{var S=this.data.getIndex(this.list.selection.getId());this.list.setFocus(this.data.getId(S>-1?S:0))}this.data.getLength()===0?(this.config.multiselection&&this.config.selectAllButton&&this._layout.getCell("select-unselect-all").hide(),this._layout.getCell("list").hide(),this._layout.getCell("not-found").attach(s.emptyListView),this._layout.getCell("not-found").show()):(this.config.multiselection&&this.config.selectAllButton&&this._layout.getCell("select-unselect-all").show(),this._layout.getCell("not-found").isVisible()&&(this._layout.getCell("list").show(),this._layout.getCell("not-found").hide()))}},E.prototype._findBest=function(k){var S=this,M=this.data.find(function(T){return(0,a.isEqualString)(k,S._getItemText(T))});M&&this.list.selection.getId()!==M.id&&(this.list.setFocus(M.id),this.paint())},E.prototype._exsistId=function(k){var S=this;return k instanceof Array?k.every(function(M){return S.data.exists(M)}):this.data.exists(k)},E.prototype._draw=function(){if(!this.config)return(0,e.el)("div");var k=this.config,S=k.multiselection,M=k.labelPosition,T=k.hiddenLabel,I=k.required,O=k.disabled,H=k.css,F=k.helpMessage,R=k.readOnly,A=k.placeholder,V=S?null:this.data.getItem(this.list.selection.getId()),z=!this.list.selection.getId()||typeof this.list.selection.getId()=="object"&&this.list.selection.getId().length===0,Y=(0,u.getLabelStyle)(this.config);return(0,e.el)("div",{dhx_widget_id:this._uid,onkeydown:this._handlers.onkeydown,onkeyup:this._handlers.onkeyup,class:"dhx_widget dhx_combobox"+(M==="left"?" dhx_combobox--label-inline":"")+(T?" dhx_combobox--sr_only":"")+(I?" dhx_combobox--required":"")+(O?" dhx_combobox--disabled":"")+(H?" ".concat(H):"")},[Y?(0,e.el)("label.dhx_label.dhx_combobox__label",{style:Y.style,class:F?"dhx_label--with-help":"",onclick:this._handlers.oninputclick},F?[(Y.label||I)&&(0,e.el)("span.dhx_label__holder",Y.label),(0,e.el)("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper,id:"dhx_label__help_".concat(this._uid)})]:Y.label):null,(0,e.el)("div.dhx_combobox-input-box"+(O?".dhx_combobox-input-box--disabled":"")+(R?".dhx_combobox-input-box--readonly":"")+(this._state.currentState===_.ComboState.error?".dhx_combobox-input-box--state_error":"")+(this._state.currentState===_.ComboState.success?".dhx_combobox-input-box--state_success":""),{_ref:"holder"},[(0,e.el)("div.dhx_combobox-input__icon",{onclick:this._handlers.toggleIcon},[(0,e.el)("span"+(this.popup.isVisible()?".dxi.dxi-menu-up":".dxi.dxi-menu-down"))]),(0,e.el)("div.dhx_combobox-input-list-wrapper",{onclick:this._handlers.oninputclick},[(0,e.el)("ul.dhx_combobox-input-list",g(g([],this._drawSelectedItems(),!0),[(0,e.el)("li.dhx_combobox-input-list__item.dhx_combobox-input-list__item--input",[(0,e.el)("input.dhx_combobox-input",{oninput:this._handlers.oninput,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,_ref:"input",_key:this._uid,type:"text",placeHolder:z&&A?A:void 0,value:R&&V?this._getItemText(V):this._state.value,readOnly:R||O,required:I,"aria-label":R?"Select value":"Type or select value","aria-describedby":F?"dhx_label__help_".concat(this._uid):null,"aria-expanded":!0})])],!1))])])])},E.prototype._drawSelectedItems=function(){var k=this;if(!this.config.multiselection)return[];if(this.config.itemsCount){var S=this.list.selection.getId().length;return S?[(0,e.el)("li.dhx_combobox-input-list__item.dhx_combobox-tag",[(0,e.el)("span.dhx_combobox-tag__value",v(S,this.config.itemsCount)),(0,e.el)("button.dhx_button.dhx_combobox-tag__action.dhx_combobox__action-clear-all",{"aria-label":"clear all"},[(0,e.el)("span.dhx_button__icon.dxi.dxi-close-circle")])])]:[]}return this.list.selection.getId().map(function(M){var T=k.data.getItem(M);return T?(0,e.el)("li.dhx_combobox-input-list__item.dhx_combobox-tag",{dhx_id:M},[k._drawImageOrIcon(T),(0,e.el)("span.dhx_combobox-tag__value",k._getItemText(T)),(0,e.el)("button.dhx_button.dhx_button--icon.dhx_combobox-tag__action.dhx_combobox__action-remove",{type:"button","aria-label":"remove"},[(0,e.el)("span.dhx_button__icon.dxi.dxi-close-circle")])]):null})},E.prototype._drawImageOrIcon=function(k){return k.src?(0,e.el)("img.dhx_combobox-tag__image",{src:k.src,alt:""}):k.icon?(0,e.el)("span.dhx_combobox-tag__icon",{class:k.icon}):null},E.prototype._getItemText=function(k){return k?k.value:null},E.prototype._updateSelectedItem=function(k){var S;this.config.multiselection?(this.config.selectAllButton&&!this._state.unselectActive&&this.data.getLength()===k.length?(this._layout.getCell("select-unselect-all").attach(s.unselectAllView),this._state.unselectActive=!0):this.config.selectAllButton&&this._state.unselectActive&&(this._layout.getCell("select-unselect-all").attach(s.selectAllView),this._state.unselectActive=!1),this._state.value&&(this._state.value="",this._state.canDelete=k.length===0,this._filter())):this._state.value=(S=this._getItemText(this.data.getItem(k)))!==null&&S!==void 0?S:"",this.paint()},E.prototype._changePopupPosition=function(){var k=this;this.config.multiselection&&(0,e.awaitRedraw)().then(function(){k._updatePopup()})},E.prototype._updatePopup=function(){var k=this.getRootView().refs.holder.el;this.popup.getContainer().style.width=k.offsetWidth+"px";var S=this.data.getLength()*(this.config.itemHeight||36);typeof this.config.listHeight=="string"&&this.config.listHeight.includes("px")&&(this.config.listHeight=parseInt(this.config.listHeight.replace("px","")));var M=S<this.config.listHeight?S:this.config.listHeight;this.popup.getContainer().style.height=(this.config.selectAllButton&&this.config.multiselection?M+33:M)+"px",this.popup.show(k,{mode:"bottom"})},E}(h.View);p.Combobox=y},function($,p,b){var x=this&&this.__createBinding||(Object.create?function(g,a,e,i){i===void 0&&(i=e);var u=Object.getOwnPropertyDescriptor(a,e);u&&!("get"in u?!a.__esModule:u.writable||u.configurable)||(u={enumerable:!0,get:function(){return a[e]}}),Object.defineProperty(g,i,u)}:function(g,a,e,i){i===void 0&&(i=e),g[i]=a[e]}),w=this&&this.__exportStar||function(g,a){for(var e in g)e==="default"||Object.prototype.hasOwnProperty.call(a,e)||x(a,g,e)};Object.defineProperty(p,"__esModule",{value:!0}),w(b(62),p),w(b(128),p),w(b(63),p),w(b(36),p)},function($,p,b){var x,w=this&&this.__extends||(x=function(n,s){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,v){_.__proto__=v}||function(_,v){for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(_[m]=v[m])},x(n,s)},function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function _(){this.constructor=n}x(n,s),n.prototype=s===null?Object.create(s):(_.prototype=s.prototype,new _)}),g=this&&this.__assign||function(){return g=Object.assign||function(n){for(var s,_=1,v=arguments.length;_<v;_++)for(var m in s=arguments[_])Object.prototype.hasOwnProperty.call(s,m)&&(n[m]=s[m]);return n},g.apply(this,arguments)},a=this&&this.__spreadArray||function(n,s,_){if(_||arguments.length===2)for(var v,m=0,y=s.length;m<y;m++)!v&&m in s||(v||(v=Array.prototype.slice.call(s,0,m)),v[m]=s[m]);return n.concat(v||Array.prototype.slice.call(s))};Object.defineProperty(p,"__esModule",{value:!0}),p.List=p.MOVE_DOWN=p.MOVE_UP=void 0;var e=b(1),i=b(7),u=b(0),o=b(18),h=b(27),r=b(6),f=b(63),d=b(2),t=b(36),c=b(126);p.MOVE_UP=1,p.MOVE_DOWN=2;var l=function(n){function s(_,v){v===void 0&&(v={});var m=this,y=v.itemHeight||(v.virtual?37:null);y&&typeof y=="number"&&(y=y.toString()+"px"),(m=n.call(this,_,(0,e.extend)({itemHeight:y,keyNavigation:!0,editable:!1,selection:!0},v))||this)._touch={duration:350,dblDuration:300,timer:null,start:!1,timeStamp:null};var C=m.config.data;C instanceof i.DataCollection?(m.data=C,m.events=C.events):(m.data=new i.DataCollection({}),m.events=m.data.events,C&&m.data.parse(C)),m.selection=new f.Selection({disabled:!m.config.selection,multiselection:m.config.multiselection},m.data,m.events),m.config.keyNavigation&&(m.keyManager=new o.KeyManager(function(R,A){return A==m._uid&&(!m._edited||m._edited&&R.key!=="escape")}),m._initHotKey()),m.events.on(i.DataEvents.change,function(R,A,V){A==="setPage"&&m.showItem(m.data.getId(V[0])),m.paint()}),m.events.on(h.SelectionEvents.afterUnSelect,function(){return m.paint()}),m.events.on(h.SelectionEvents.afterSelect,function(R){R&&m.config.selection&&(m._focus=R),m.paint()}),m.events.on(t.ListEvents.afterEditEnd,m.editEnd.bind(m));var E=function(R){return function(A){m.data.setMeta(m.data.getItem(A.target),"drop",R),m.paint()}};m.events.on(i.DragEvents.canDrop,E(!0)),m.events.on(i.DragEvents.cancelDrop,E(!1));var k=function(R){return function(A){A.source.map(function(V){return m.data.setMeta(m.data.getItem(V),"drag",R)}),m.paint()}};m.events.on(i.DragEvents.dragStart,k(!0)),m.events.on(i.DragEvents.afterDrag,k(!1)),m._handlers={onmousedown:function(R){m._dragStart(R)},ontouchstart:function(R){m._touch.timer=setTimeout(function(){m._dragStart(R)},m._touch.duration),m._touch.timeStamp?(m._touch.dblDuration>=m._touch.timeStamp-+R.timeStamp.toFixed()&&(R.preventDefault(),m._dblClick(R)),m._touch.timeStamp=null):m._touch.timeStamp=+R.timeStamp.toFixed(),setTimeout(function(){m._touch.timeStamp=null},m._touch.dblDuration)},ontouchmove:function(R){m._touch.start&&R.preventDefault(),m._clearTouchTimer()},ontouchend:function(){m._touch.start=!1,m._clearTouchTimer()},ondragstart:function(){return!(m.config.dragMode&&!m._edited)&&null},oncontextmenu:function(R){var A=(0,d.locate)(R);A&&m.events.fire(t.ListEvents.itemRightClick,[A,R])},onclick:function(R){var A=(0,d.locate)(R);A&&(m.selection.add(A,R.ctrlKey||R.metaKey,R.shiftKey),m._focus=A,m.events.fire(t.ListEvents.click,[A,R]),m.paint())},ondblclick:function(R){m._dblClick(R)},onscroll:function(R){m.config.virtual&&(m._topOffset=R.target.scrollTop,m._visibleHeight=R.target.offsetHeight,m.paint())},onmouseover:function(R){var A=(0,d.locate)(R);A&&A!==(0,d.locate)(R.relatedTarget)&&m.events.fire(t.ListEvents.itemMouseOver,[A,R])}};var S=m.config.eventHandlers;if(S)for(var M=0,T=Object.entries(S);M<T.length;M++){var I=T[M],O=I[0],H=I[1];m._handlers[O]=(0,d.eventHandler)(function(R){return(0,d.locate)(R)},H,m._handlers[O])}m.config.dragMode&&i.dragManager.setItem(m._uid,m),m._topOffset=m._visibleHeight=0;var F=(0,u.create)({render:function(){return m._renderList()},hooks:{didMount:function(R){m.config.virtual&&(m._visibleHeight=R.node.el.offsetHeight)},didRedraw:function(R){return m._didRedraw(R)}}});return m.mount(_,F),m}return w(s,n),s.prototype._didRedraw=function(_){},s.prototype._dblClick=function(_){var v=(0,d.locate)(_);v&&(v=this.data.getItem(v).id,this.config.editable&&this.editItem(v),this.events.fire(t.ListEvents.doubleClick,[v,_]))},s.prototype._clearTouchTimer=function(){this._touch.timer&&(clearTimeout(this._touch.timer),this._touch.timer=null)},s.prototype._dragStart=function(_){var v=this;this._touch.start=!0;var m=[],y=(0,d.locateNode)(_,"dhx_id"),C=y&&y.getAttribute("dhx_id"),E=this.selection.getId();return this.config.multiselection&&E instanceof Array&&(E.map(function(k){k!==C&&v.getRootView().refs[k]&&m.push(v.getRootView().refs[k].el)}),E=a([],E,!0)),typeof E=="string"&&(E=[E]),this.config.dragMode&&!this._edited?i.dragManager.onMouseDown(_,E||[C],m):null},s.prototype.disableSelection=function(){this.selection.disable()},s.prototype.enableSelection=function(){this.selection.enable()},s.prototype.editItem=function(_){this._edited=_,this.data.getItem(this._edited)&&this.events.fire(t.ListEvents.beforeEditStart,[_])?(this._getHotkeys(),this.paint(),this.events.fire(t.ListEvents.afterEditStart,[_])):this._edited=null},s.prototype.editEnd=function(_,v){if(this._edited){if(_!==null){var m=this.data.getItem(v);this.data.update(v,g(g({},m),{value:_}))}this._edited=null,this.paint()}},s.prototype.getFocusItem=function(){return this.data.getItem(this._focus)},s.prototype.setFocus=function(_){this._focus!=_&&this.data.exists(_)&&(this._focus=_,this.showItem(_),this.events.fire(t.ListEvents.focusChange,[this.data.getIndex(this._focus),this._focus]),this.paint())},s.prototype.getFocus=function(){return this._focus},s.prototype.destructor=function(){this.events&&this.events.clear(),this.keyManager&&this.keyManager.destructor(),this.selection&&this.selection.destructor(),this.config=this.events=this.selection=this.keyManager=null,this._handlers=this._focus=this._edited=this._events=this._topOffset=this._visibleHeight=this._touch=null,this.unmount()},s.prototype.showItem=function(_){var v=this.getRootView();if(v&&v.node&&v.node.el&&_!==void 0){var m=this.getRootNode();if(m){var y=this.config.virtual,C=this.data.getIndex(_),E=Math.floor(C/m.children.length)||0,k=m.children[C-m.children.length*E];if(y||k){var S=y?parseInt(this.config.itemHeight):k.clientHeight,M=y?C*S:k.offsetTop;M>=m.scrollTop+m.clientHeight-S?m.scrollTo(0,M-m.clientHeight+S):M<m.scrollTop&&m.scrollTo(0,M)}}}},s.prototype._renderItem=function(_,v){var m=this.config.itemHeight;if(_.$empty)return(0,u.el)("li",{class:"dhx_list-item",style:{height:m}});var y=this.config.template&&this.config.template(_)||_.html,C=_.id==this._focus;if(_.id==this._edited)return(0,c.getEditor)(_,this).toHTML();var E=this.data.getMetaMap(_),k=g(g(g(g({},this._events),{class:"dhx_list-item"+(E&&E.selected?" dhx_list-item--selected":"")+(C?" dhx_list-item--focus":"")+(E&&E.drop&&!this._edited?" dhx_list-item--drophere":"")+(E&&E.drag&&!this._edited?" dhx_list-item--dragtarget":"")+(this.config.dragMode&&!this._edited?" dhx_list-item--drag":"")+(_.css?" "+_.css:""),dhx_id:_.id,_ref:_.id.toString(),style:{height:m},_key:_.id,".innerHTML":y}),this.getItemAriaAttrs(this,_)),{tabindex:C?0:-1});return y?(k[".innerHTML"]=y,(0,u.el)("li",k)):(k.class+=" dhx_list-item--text",(0,u.el)("li",k,_.text||_.value))},s.prototype._renderList=function(){var _=this,v=this._getRange(),m=this.data.getRawData(v[0],v[1]).map(function(y,C){return _._renderItem(y,C)});return this.config.virtual&&(m=a(a([(0,u.el)(".div",{style:{height:v[2]+"px"}})],m,!0),[(0,u.el)(".div",{style:{height:v[3]+"px"}})],!1)),(0,u.el)("ul.dhx_widget.dhx_list",g(g({style:{"max-height":this.config.height,position:"relative"},tabindex:0,class:(this.config.css?this.config.css:"")+(this.config.multiselection&&this.selection.getItem()?" dhx_no-select--pointer":""),dhx_widget_id:this._uid},this._handlers),this._getListAriaAttrs(this.config,this.data.getLength())),m)},s.prototype.moveFocus=function(_,v){var m=this.data.getLength();if(m){var y=this._focus,C=y?this.data.getIndex(y):-1;v=v||1,_===p.MOVE_DOWN?y=this.data.getId(Math.min(C+v,m-1)):_===p.MOVE_UP&&(y=this.data.getId(Math.max(C-v,0))),this.setFocus(y)}},s.prototype._getRange=function(){if(this.config.virtual){var _=this._visibleHeight||parseInt(this.config.height),v=parseInt(this.config.itemHeight),m=this.data.getLength(),y=this.data.getLength()*v,C=this._topOffset;C=Math.max(0,Math.min(C,y-_));var E=Math.floor(C/v),k=Math.min(m-E,Math.floor(_/v)+5);return this._topOffset=C,[E,k+E,E*v,y-v*(k+E)]}return[0,-1,0,0]},s.prototype._getHotkeys=function(){var _=this;return{arrowDown:function(v){_.moveFocus(p.MOVE_DOWN),v.preventDefault()},arrowUp:function(v){_.moveFocus(p.MOVE_UP),v.preventDefault()},escape:function(){_.editEnd(null)},enter:function(v){_.selection.add(_._focus),_.events.fire(t.ListEvents.click,[_._focus,v])},"shift+enter":function(v){_.selection.add(_._focus,!1,!0),_.events.fire(t.ListEvents.click,[_._focus,v])},"ctrl+enter":function(v){_.selection.add(_._focus,!0,!1),_.events.fire(t.ListEvents.click,[_._focus,v])},"ctrl+a":function(v){_.config.multiselection&&(v.preventDefault(),_.selection.remove(),_.data.map(function(m){return m.id}).forEach(function(m){_.config.multiselection==="ctrlClick"?_.selection.add(m,!0):_.selection.add(m)}))}}},s.prototype._initHotKey=function(){var _=this._getHotkeys();for(var v in _)this.keyManager.addHotKey(v,_[v]);for(var v in this.config.hotkeys)this.keyManager.addHotKey(v,this.config.hotkeys[v])},s.prototype.getItemAriaAttrs=function(_,v){return g(g({role:"option","aria-selected":v.$selected?"true":"false"},function(m,y){return m.config.dragMode&&!m._edited?{"aria-grabbed":(!!(y.$dragtarget&&!m._edited)).toString()}:{}}(_,v)),function(m){return m.config.editable?{"aria-roledescription":"".concat(m._edited?"Press Enter to stop editing":"Double click to edit content")}:{}}(_))},s.prototype._getListAriaAttrs=function(_,v){return{role:"listbox","aria-label":"Listbox ".concat(_.title||"",", count of options = ").concat(v,".").concat(_.editable?" Content is editable.":""),"aria-multiselectable":_.selection&&_.multiselection?"true":"false","aria-readonly":_.editable?"false":"true"}},s}(r.View);p.List=l},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.Selection=void 0;var x=b(27),w=b(7),g=function(){function a(e,i,u){var o=this;this.config=e,this.events=u,this._data=i,this._selected=[],this._data.events.on(w.DataEvents.removeAll,function(){o._selected=[]}),typeof this.config.multiselection=="string"&&(["click","ctrlClick"].includes(this.config.multiselection)||(this.config.multiselection=!1)),this._data.events.on(w.DataEvents.beforeRemove,function(h){if(o._nextSelection=null,o._selected.length===1){var r=o._data.getIndex(h.id),f=o._data.getLength();if(f>1){var d=f==r-1?r-1:r+1;o._nextSelection=o._data.getId(d)}}}),this._data.events.on(w.DataEvents.afterRemove,function(h){var r=o._selected.indexOf(h.id);r!==-1&&o._selected.splice(r,1),o._nextSelection&&(o.add(o._nextSelection),o._nextSelection=null)})}return a.prototype.enable=function(){this.config.disabled=!1},a.prototype.disable=function(){this.remove(),this.config.disabled=!0},a.prototype.getId=function(){return this.config.multiselection?this._selected:this._selected[0]},a.prototype.getItem=function(){var e=this;return this.config.multiselection?this._selected.map(function(i){return e._data.getItem(i)}):this._selected.length?this._data.getItem(this._selected[0]):null},a.prototype.contains=function(e){return e?this._selected.includes(e):this._selected.length>0},a.prototype.remove=function(e){var i=this;e?this._unselectItem(e):(this._selected.forEach(function(u){return i._unselectItem(u)}),this._selected=[])},a.prototype.add=function(e,i,u,o){var h=this;if(!this.config.disabled)if(e!==void 0){var r=this.config.multiselection;u&&this._selected.length&&r?this._addMulti(e,o):this._addSingle(e,r&&(r!=="ctrlClick"||i),o)}else{var f=this._data.serialize().filter(function(d){var t=d.id;return!h._selected.includes(t)});f.forEach(function(d){var t=d.id;h._addMulti(t,o)})}},a.prototype.destructor=function(){var e=this;this._selected.forEach(function(i){return e._unselectItem(i,!0)})},a.prototype._addMulti=function(e,i){var u,o=this._selected[this._selected.length-1],h=this._data.getIndex(o),r=this._data.getIndex(e);for(h>r&&(h=(u=[r,h])[0],r=u[1]);h<=r;h++){var f=this._data.getId(h);this._selectItem(f,i)}},a.prototype._addSingle=function(e,i,u){var o=this;i||this._selected.forEach(function(h){h!=e&&o._unselectItem(h)}),i&&this._selected.includes(e)?this._unselectItem(e,u):this._selectItem(e,u)},a.prototype._selectItem=function(e,i){var u=this._data.getItem(e);u&&!this._data.getMeta(u,"selected")&&(i||this.events.fire(x.SelectionEvents.beforeSelect,[e]))&&(this._selected.push(e),this._data.setMeta(u,"selected",!0),i||this.events.fire(x.SelectionEvents.afterSelect,[e]))},a.prototype._unselectItem=function(e,i){(i||this.events.fire(x.SelectionEvents.beforeUnSelect,[e]))&&(this._selected=this._selected.filter(function(u){return u!==e}),this._data.setMeta(this._data.getItem(e),"selected",!1),i||this.events.fire(x.SelectionEvents.afterUnSelect,[e]))},a}();p.Selection=g},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.default={notFound:"Not Found",selectAll:"Select All",unselectAll:"Unselect All",selectedItems:"selected items"}},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.emptyListView=p.unselectAllView=p.selectAllView=void 0;var x=b(0),w=b(64);p.selectAllView=function(){return(0,x.el)(".dhx_list-item.dhx_combobox-options__item.dhx_combobox-options__item--select-all.dhx_combobox__action-select-all",w.default.selectAll)},p.unselectAllView=function(){return(0,x.el)(".dhx_list-item.dhx_combobox-options__item.dhx_combobox-options__item--select-all.dhx_combobox__action-select-all",w.default.unselectAll)},p.emptyListView=function(){return(0,x.el)("ul.dhx_list",[(0,x.el)("li.dhx_list-item.dhx_combobox-options__item",{},w.default.notFound)])}},function($,p,b){var x,w;Object.defineProperty(p,"__esModule",{value:!0}),p.ComboState=p.ComboboxEvents=void 0,function(g){g.change="change",g.focus="focus",g.blur="blur",g.keydown="keydown",g.input="input",g.beforeOpen="beforeOpen",g.afterOpen="afterOpen",g.beforeClose="beforeClose",g.afterClose="afterClose",g.open="open",g.close="close"}(x||(p.ComboboxEvents=x={})),function(g){g[g.default=0]="default",g[g.error=1]="error",g[g.success=2]="success"}(w||(p.ComboState=w={}))},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(t){for(var c,l=1,n=arguments.length;l<n;l++)for(var s in c=arguments[l])Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);return t},x.apply(this,arguments)},w=this&&this.__spreadArray||function(t,c,l){if(l||arguments.length===2)for(var n,s=0,_=c.length;s<_;s++)!n&&s in c||(n||(n=Array.prototype.slice.call(c,0,s)),n[s]=c[s]);return t.concat(n||Array.prototype.slice.call(c))};Object.defineProperty(p,"__esModule",{value:!0}),p.getFixedRows=p.getFixedSpans=p.getRows=void 0;var g=b(0),a=b(26),e=b(8),i=b(3),u=2;function o(t,c,l,n){l&&(l.toLocaleLowerCase().includes("touch")?c._events.fire(l,[t,n]):c.events.fire(l,[t,n]))}function h(t,c,l){return{onclick:[o,t,l,i.GridEvents[c+"CellClick"]],onmouseover:[o,t,l,i.GridEvents[c+"CellMouseOver"]],onmousedown:[o,t,l,i.GridEvents[c+"CellMouseDown"]],ontouchstart:[o,t,l,i.GridEvents[c+"CellMouseDown"]],ondblclick:[o,t,l,i.GridEvents[c+"CellDblClick"]],oncontextmenu:[o,t,l,i.GridEvents[c+"CellRightClick"]],ontouchmove:[o,t,l,i.GridSystemEvents[c+"CellTouchMove"]],ontouchend:[o,t,l,i.GridSystemEvents[c+"CelltouchEnd"]]}}function r(t,c,l,n,s,_,v){s===void 0&&(s="");var m=c.type?"dhx_".concat(c.type,"-cell"):"dhx_string-cell",y=l.content[t.content]&&l.content[t.content].toHtml(c,l),C={};return l.columns.forEach(function(E){var k=!!l.content[E[n][v].content];C[E.id]=k&&l.content[E[n][v].content].toHtml(E,l)||E[n][v].text}),(0,g.el)(".".concat(m),{style:{class:s.trim(),padding:0}},[y&&(typeof y=="string"||typeof y=="number"?(0,g.el)("div",{class:"dhx_grid-footer-cell-text",role:"presentation",".innerHTML":c.template&&typeof y=="string"?c.template(y,C,c):y}):y)])}function f(t,c){if(!t.data||!t.columns)return[];var l=t.$positions,n=c.name,s=t.currentColumns,_=t["".concat(n,"RowHeight")]||40,v=function(m,y){var C=m.map(function(E){return E[y]||[{}]});return(0,e.transpose)(C)}(s,n);return v.map(function(m,y){return(0,g.el)(".dhx_".concat(n,"-row"),x({style:{height:_}},{role:"row","aria-rowindex":y+1}),m.map(function(C,E){var k=C.css||"",S=s[E],M=l.xStart+E+1,T="dxi dxi-sort-variant dhx_grid-sort-icon",I="none";if(t.sortBy&&"".concat(S.id)===t.sortBy&&!C.content){var O=t.sortDir||"asc";T+=" dhx_grid-sort-icon--".concat(O),k+=" dhx_grid-".concat(n,"-cell--sorted "),I=O==="asc"?"ascending":"descending"}var H=(0,e.isSortable)(t,S)&&C.text&&n!=="footer"&&C.headerSort!==!1;H&&(k+=" dhx_grid-header-cell--sortable");var F=E===0?"dhx_first-column-cell":"",R=E===s.length-1?"dhx_last-column-cell":"";C.content||(C.align?k+=" dhx_grid-header-cell--align_".concat(C.align," "):k+=" dhx_grid-header-cell--".concat(S.type==="number"||S.type==="percent"||S.type==="date"?"align_right":"align_left"," ")),k+="".concat(F," ").concat(R);var A=S.resizable!==void 0?S.resizable:t.resizable;A&&(A=(0,g.el)("div",{class:"dhx_resizer_grip_wrap","aria-hidden":"true"},[(0,g.el)("div",{class:"dhx_resizer_grip",dhx_resized:S.id,style:{height:"".concat(100*v.length,"%")}},[(0,g.el)("div",{class:"dhx_resizer_grip_line"})])]),(n==="footer"||y>0)&&(A=null)),C.align&&(k+=" dhx_align-".concat(C.align));var V=function(Q,U,K){var Z={"aria-colindex":U};return Q==="footer"||C.content?Z.role="gridcell":(Z.role="columnheader",Z["aria-sort"]=K),Z};if(C.content)return(0,g.el)(".dhx_grid-".concat(n,"-cell.dhx_grid-custom-content-cell"),x(x({class:k.trim(),dhx_id:S.id,_key:E,style:{width:S.$width,height:n==="footer"?_+u/2+"px":_+"px"}},h(S,n,t)),V(n,M,I)),[r(C,S,t,n,"",0,y),A||null]);var z,Y="dhx_grid-header-cell-text_content";return t.autoHeight&&(Y+=" dhx_grid-header-cell-text_content-auto-height"),(0,g.el)(".dhx_grid-".concat(n,"-cell"),x(x({class:k.trim(),dhx_id:S.id,_key:E,style:{width:S.$width,height:n==="footer"?_+u/2+"px":_+"px"}},h(S,n,t)),V(n,M,I)),[(0,g.el)("div.dhx_grid-header-cell-text",{role:"presentation"},[(0,g.el)("span",x(x({class:Y},(z=C.text,H?{role:"button","aria-label":"Sort by ".concat(z)}:{})),{style:{lineHeight:"".concat(_,"px")},".innerHTML":C.text})),A||null]),H&&(0,g.el)("div",{class:T,"aria-hidden":"true"})])}))})}function d(t,c){var l=t.columns,n=(0,e.transpose)(l.map(function(y){return y[c.name]||[]})),s=t["".concat(c.name,"RowHeight")]||40,_=c.name,v=t.$positions,m=0;return n.map(function(y,C){return m=0,(0,g.el)(".dhx_span-row",{style:{top:s*C+"px",height:s},class:"dhx_header-row","aria-hidden":"true"},y.map(function(E,k){var S=l[k];v.xStart,m+=S.hidden?0:S.$width;var M=k===0?"dhx_first-column-cell":"",T=k===l.length-1||(E.colspan||0)+(k-1)>=l.length-1?"dhx_last-column-cell":"",I=s;E.rowspan&&(I=I*E.rowspan-1);var O=(0,e.isSortable)(t,S)&&E.rowspan&&E.text&&c.name!=="footer",H="dxi dxi-sort-variant dhx_grid-sort-icon";t.sortBy&&"".concat(S.id)===t.sortBy&&!E.content&&(H+=" dhx_grid-sort-icon--".concat(t.sortDir||"asc"));var F=S.align?"dhx_align-".concat(S.align):S.type!=="number"&&S.type!=="percent"&&S.type!=="date"||E.colspan?"dhx_align-left":"dhx_align-right",R="dhx_grid-header-cell ".concat(M," ").concat(T," ").concat(E.rowspan?"dhx_span-cell__rowspan":""," ").concat(E.align?"dhx_align-".concat(E.align):F," ").concat(E.css?E.css:"");O&&(R+=" dhx_grid-header-cell--sortable"),E.content||(E.align?R+=" dhx_grid-header-cell--align_".concat(E.align," "):R+=" dhx_grid-header-cell--".concat(S.type==="number"||S.type==="percent"||S.type==="date"?"align_right":"align_left"," "));var A=null;E.content&&((A=r(E,S,t,_,R,0,C)).attrs.style=x(x({},A.attrs.style),{width:"100%",borderRight:"0"}));var V="";m-S.$width>0&&(V="1px solid #e4e4e4");var z="dhx_grid-header-cell-text_content";return t.autoHeight&&(z+=" dhx_grid-header-cell-text_content-auto-height"),E.colspan||E.rowspan?(0,g.el)(".dhx_span-cell",x({style:{width:(0,a.getWidth)(l,E.colspan,k),height:_==="footer"?I+u/2:I,left:m-S.$width,borderLeft:V,top:s*C},class:R.trim(),dhx_id:S.id},h(S,_,t)),[A||E.rowspan?(0,g.el)("div.dhx_grid-header-cell-text",{role:"presentation"},[(0,g.el)("span",{class:z,".innerHTML":E.text})]):(0,g.el)("span",{class:z,".innerHTML":E.text}),O&&(0,g.el)("div",{class:H})]):null}).filter(function(E){return E}))})}p.getRows=f,p.getFixedSpans=d,p.getFixedRows=function(t,c){var l,n=f(t,c),s=d(t,c),_=null;c.name!=="footer"||c.sticky||(_=t.leftSplit>=0&&f(x(x({},t),{currentColumns:t.columns.slice(0,t.leftSplit),$positions:x(x({},t.$positions),{xStart:0,xEnd:t.leftSplit})}),c));var v,m,y=((l={position:"sticky"})[c.position]=0,l);return c.sticky||(y.left=-t.scroll.left,v=-t.scroll.left,y.position="relative"),(0,g.el)(".dhx_".concat(c.name,"-wrapper"),{class:c.sticky?"":"dhx_compatible-".concat(c.name),style:x(x({},y),{left:c.sticky?v:0,height:c.name==="footer"?t[c.name+"Height"]+u/2:t[c.name+"Height"],width:c.sticky?t.$totalWidth:c.wrapper.width-u}),role:"presentation"},[(0,g.el)(".dhx_grid-".concat(c.name),{style:{height:c.name==="footer"?t[c.name+"Height"]+u/2:t[c.name+"Height"],left:v,paddingLeft:c.shifts.x,width:t.$totalWidth},role:"presentation"},[(0,g.el)(".dhx_".concat(c.name,"-rows"),x({},(m=w([],n,!0).length,{role:"rowgroup","aria-rowcount":m})),w([],n,!0)),(0,g.el)(".dhx_".concat(c.name,"-spans"),{style:{marginLeft:-c.shifts.x},class:"dhx_".concat(c.name,"-rows"),role:"presentation"},s),_&&(0,g.el)(".dhx_".concat(c.name,"-fixed-cols"),{style:{position:"absolute",top:0,left:t.scroll.left+"px",height:"100%"}},_)]),(0,g.el)("div",{style:{width:t.$totalWidth},role:"presentation"})])}},function($,p,b){var x,w=this&&this.__extends||(x=function(r,f){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,t){d.__proto__=t}||function(d,t){for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(d[c]=t[c])},x(r,f)},function(r,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function d(){this.constructor=r}x(r,f),r.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}),g=this&&this.__assign||function(){return g=Object.assign||function(r){for(var f,d=1,t=arguments.length;d<t;d++)for(var c in f=arguments[d])Object.prototype.hasOwnProperty.call(f,c)&&(r[c]=f[c]);return r},g.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.Toolbar=void 0;var a=b(1),e=b(0),i=b(2),u=b(17),o=b(48),h=function(r){function f(d,t){var c=r.call(this,d,(0,a.extend)({navigationType:"click"},t))||this;return c._currentRoot=null,c.mount(d,(0,e.create)({render:function(){return c._draw(d)}})),c}return w(f,r),f.prototype.getState=function(d){if(!(0,a.isDefined)(d)||this.data.getItem(d)){var t={};for(var c in this.data.eachChild(this.data.getRoot(),function(l){l.twoState&&!l.group?t[l.id]=l.active:l.type!=="input"&&l.type!=="selectButton"||(t[l.id]=l.value)},!1),this._groups)this._groups[c].active&&(t[c]=this._groups[c].active);return d?t[d]:t}},f.prototype.setState=function(d){for(var t in d)if(this._groups&&this._groups[t])this._groups[t].active&&(this.data.update(this._groups[t].active,{active:!1}),this._groups[t].active=d[t],this.data.update(d[t],{active:!0}));else{var c=this.data.getItem(t);c.type==="input"||c.type==="selectButton"?this.data.update(t,{value:d[t]}):this.data.update(t,{active:d[t]})}},f.prototype._customHandlers=function(){var d=this;return{input:function(t){var c=(0,i.locate)(t);d.data.update(c,{value:t.target.value})},tooltip:function(t){var c=(0,i.locateNode)(t);if(c){var l=c.getAttribute("dhx_id"),n=d.data.getItem(l);n.tooltip&&(0,u.tooltip)(n.tooltip,{node:c,position:u.Position.bottom})}}}},f.prototype._getFactory=function(){return(0,o.createFactory)({widget:this,defaultType:"navItem",allowedTypes:["button","imageButton","selectButton","navItem","menuItem","separator","spacer","title","input","customHTML","datePicker","customHTMLButton"],widgetName:"toolbar"})},f.prototype._draw=function(d){var t=this,c=this.data.getLength()?this.data.reduce(function(l,n){switch(n.type){case"title":return l||20;case"button":return n.size==="small"&&(!l||l<=28)?28:l||32;default:return 32}},0)+24:null;return(0,e.el)("nav.dhx_widget.dhx_toolbar",{style:{height:c},class:this.config.css?this.config.css:""},[(0,e.el)("ul.dhx_navbar.dhx_navbar--horizontal",g(g({dhx_widget_id:this._uid,tabindex:0},function(l){return{role:"toolbar","aria-label":l||""}}(d)),{onclick:this._handlers.onclick,onmousedown:this._handlers.onmousedown,oninput:this._handlers.input,onmouseover:this._handlers.tooltip,_hooks:{didInsert:function(l){l.el.addEventListener("keyup",function(n){if(n.which===9){var s=(0,i.locateNode)(document.activeElement);if(s){var _=s.getAttribute("dhx_id"),v=t.data.getItem(_);v.tooltip&&(0,u.tooltip)(v.tooltip,{node:s,position:u.Position.bottom,force:!0})}}},!0)}}}),this.data.map(function(l){return t._factory(l)},this.data.getRoot(),!1))])},f.prototype._getMode=function(d,t){return d.id===t?"bottom":"right"},f.prototype._close=function(d){this._activePosition=null,this._currentRoot=null,r.prototype._close.call(this,d)},f.prototype._setRoot=function(d){this.data.getParent(d)===this.data.getRoot()&&(this._currentRoot=d)},f}(o.Navbar);p.Toolbar=h},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.Block=p.SplitResult=void 0;var x,w=b(11),g=b(9),a=b(37);(function(i){i[i.invalidNode=0]="invalidNode",i[i.offsetStart=1]="offsetStart",i[i.offsetEnd=2]="offsetEnd",i[i.complete=3]="complete"})(x||(p.SplitResult=x={}));var e=function(){function i(u,o){this.style=o||w.emptyStyle,u&&u.length!==0?this.textNodes=u:this.clear()}return i.prototype.clear=function(){this.textNodes=[new a.TextNode("",w.emptyStyle)]},i.prototype.isEmpty=function(){return this.textNodes.length===1&&this.textNodes[0].isEmpty()},i.prototype.splitTextNode=function(u,o){var h=this.textNodes[u];if(!h)return x.invalidNode;if(o===0)return x.offsetStart;if(o>=h.text.length)return x.offsetEnd;var r=h.text.slice(0,o),f=h.text.slice(o),d=new a.TextNode(f,h.style);return h.text=r,this.textNodes.splice(u+1,0,d),x.complete},i.prototype.removeNodes=function(u,o){return o?u===0||(this.textNodes=this.textNodes.slice(0,u),!1):u===this.textNodes.length-1||(this.textNodes=this.textNodes.slice(u+1),!1)},i.prototype.offsetToNodePosition=function(u){if(u===0)return{textIndex:0,offset:0};for(var o=this.textNodes,h=0;h<o.length;h++){var r=o[h].text.length;if(u<=r)return{textIndex:h,offset:u};u-=r}},i.prototype.nodePositionToOffset=function(u,o){for(var h=0;h<u;h++)o+=this.textNodes[h].text.length;return o},i.prototype.getBlockEnd=function(){return{textIndex:this.textNodes.length-1,offset:this.textNodes[this.textNodes.length-1].text.length}},i.prototype.balance=function(){for(var u=this.textNodes,o=u.length,h=1;h<u.length;)(0,g.isEqual)(u[h-1].style,u[h].style)?(u[h-1].text+=u[h].text,u.splice(h,1)):h++;return o!==u.length},i}();p.Block=e},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.serializer=void 0;var x=b(4);function w(o){var h=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);return h?"rgb(".concat(parseInt(h[1],16),", ").concat(parseInt(h[2],16),", ").concat(parseInt(h[3],16),")"):o}function g(o,h){h===void 0&&(h=!1);var r="";for(var f in o)switch(f){case x.Modifier.background:r+="background: ".concat(w(o[f]),";");break;case x.Modifier.color:r+="color: ".concat(w(o[f]),";");break;case x.Modifier.fontFamily:r+="font-family: ".concat(o[f],";");break;case x.Modifier.fontSize:r+="font-size: ".concat(o[f],";")}return h?r:r?' style="'.concat(r,'"'):""}function a(o,h,r){return o.length===0&&r.trim()===""&&o.push("span"),o.reduce(function(f,d,t){return f+(t===0?"<".concat(d).concat(h,">"):"<".concat(d,">"))},"")+r+o.reduceRight(function(f,d){return f+"</".concat(d,">")},"")}function e(o){return o.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>").replace(/[ ]{2,}/g,function(h){return" "+function(r,f){for(var d="";f--;)d+=r;return d}("&nbsp;",h.length-1)})}function i(o,h){h===void 0&&(h=!1);var r=o.style,f=o.text,d=[];if(r[x.Modifier.underline]&&d.push("u"),r[x.Modifier.strike]&&d.push("s"),r[x.Modifier.bold]&&d.push("strong"),r[x.Modifier.italic]&&d.push("i"),h)return{tags:d,inline:g(r,!0),text:e(f)};var t=g(r);return t&&d.length===0&&d.push("span"),a(d,t,e(f))}function u(o){var h="",r=o.style,f=o.textNodes,d=[];o.style[x.Modifier.blockquote]&&d.push("blockquote"),d.push(r[x.Modifier.style]||"p");var t=r[x.Modifier.align]?"text-align: ".concat(r[x.Modifier.align],";"):"";if(f.length===1&&!f[0].style[x.Modifier.link]){var c=i(f[0],!0);d.push.apply(d,c.tags);var l=c.inline;return(l||t)&&(h=' style="'.concat(l).concat(t,'"')),a(d,h,c.text)}return t&&(h=' style="'.concat(t,'"')),a(d,h,function(n){for(var s,_="",v="",m="",y=0,C=n;y<C.length;y++){var E=C[y];E.style.link?s===E.style.link?(v+=i(E),m+=E.text.replace(/"/g,"'")):(v=i(E),m=E.text.replace(/"/g,"'")):(s&&(_+=a(["a"],' href="'.concat(s,'" title="').concat(m,'"'),v)),_+=i(E)),s=E.style.link}return s&&(_+=a(["a"],' href="'.concat(s,'" title="').concat(m,'"'),v)),_}(f))}p.serializer=function(o){return o.reduce(function(h,r){return h+u(r)},"")}},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.cssManager=p.CssManager=void 0;var x=b(1),w=function(){function g(){this._classes={};var a=document.createElement("style");a.id="dhx_generated_styles",this._styleCont=document.head.appendChild(a)}return g.prototype.update=function(){this._styleCont.innerHTML!==this._generateCss()&&(document.head.appendChild(this._styleCont),this._styleCont.innerHTML=this._generateCss())},g.prototype.remove=function(a){delete this._classes[a],this.update()},g.prototype.add=function(a,e,i){i===void 0&&(i=!1);var u=this._toCssString(a),o=this._findSameClassId(u);return o&&e&&e!==o?(this._classes[e]=this._classes[o],e):o||this._addNewClass(u,e,i)},g.prototype.get=function(a){if(this._classes[a]){for(var e={},i=0,u=this._classes[a].split(";");i<u.length;i++){var o=u[i];if(o){var h=o.split(":");e[h[0]]=h[1]}}return e}return null},g.prototype.destructor=function(){this._classes=this._styleCont=null},g.prototype._findSameClassId=function(a){for(var e in this._classes)if(a===this._classes[e])return e;return null},g.prototype._addNewClass=function(a,e,i){var u=e||"dhx_generated_class_".concat((0,x.uid)());return this._classes[u]=a,i||this.update(),u},g.prototype._toCssString=function(a){var e="";for(var i in a){var u=a[i],o=i.replace(/[A-Z]{1}/g,function(h){return"-".concat(h.toLowerCase())});e+="".concat(o,":").concat(u,";")}return e},g.prototype._generateCss=function(){var a="";for(var e in this._classes){var i=this._classes[e];a+=".".concat(e,"{").concat(i,`}
`)}return a},g}();p.CssManager=w,p.cssManager=new w},function($,p,b){b(73),b(74),b(75),b(76),b(77),b(162),$.exports=b(78)},function($,p){Object.values=Object.values?Object.values:function(b){var x=Object.prototype.toString.call(b);if(b==null)throw new TypeError("Cannot convert undefined or null to object");if(~["[object String]","[object Object]","[object Array]","[object Function]"].indexOf(x)){if(Object.keys)return Object.keys(b).map(function(a){return b[a]});var w=[];for(var g in b)b.hasOwnProperty(g)&&w.push(b[g]);return w}return[]},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(b){for(var x=[],w=1;w<arguments.length;w++)x[w-1]=arguments[w];if(b==null)throw new TypeError("Cannot convert first argument to object");for(var g=Object(b),a=0;a<x.length;a++){var e=x[a];if(e!=null)for(var i=Object.keys(Object(e)),u=0,o=i.length;u<o;u++){var h=i[u],r=Object.getOwnPropertyDescriptor(e,h);r!==void 0&&r.enumerable&&(g[h]=e[h])}}return g}})},function($,p){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(b,x){if(this==null)throw new TypeError('"this" is null or not defined');var w=Object(this),g=w.length>>>0;if(g===0)return!1;for(var a,e,i=0|x,u=Math.max(i>=0?i:g-Math.abs(i),0);u<g;){if((a=w[u])===(e=b)||typeof a=="number"&&typeof e=="number"&&isNaN(a)&&isNaN(e))return!0;u++}return!1},configurable:!0,writable:!0}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(b){if(this==null)throw new TypeError('"this" is null or not defined');var x=Object(this),w=x.length>>>0;if(typeof b!="function")throw new TypeError("predicate must be a function");for(var g=arguments[1],a=0;a<w;){var e=x[a];if(b.call(g,e,a,x))return e;a++}},configurable:!0,writable:!0}),Array.prototype.findIndex||(Array.prototype.findIndex=function(b){if(this==null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof b!="function")throw new TypeError("predicate must be a function");for(var x,w=Object(this),g=w.length>>>0,a=arguments[1],e=0;e<g;e++)if(x=w[e],b.call(a,x,e,w))return e;return-1})},function($,p){String.prototype.includes||(String.prototype.includes=function(b,x){return typeof x!="number"&&(x=0),!(x+b.length>this.length)&&this.indexOf(b,x)!==-1}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,configurable:!0,writable:!0,value:function(b,x){return x=x||0,this.indexOf(b,x)===x}}),String.prototype.padStart||(String.prototype.padStart=function(b,x){return b|=0,x=String(x||" "),this.length>b?String(this):((b-=this.length)>x.length&&(x+=x.repeat(b/x.length)),x.slice(0,b)+String(this))}),String.prototype.padEnd||(String.prototype.padEnd=function(b,x){return b|=0,x=String(x||" "),this.length>b?String(this):((b-=this.length)>x.length&&(x+=x.repeat(b/x.length)),String(this)+x.slice(0,b))})},function($,p){if(Element&&!Element.prototype.matches){var b=Element.prototype;b.matches=b.matchesSelector||b.mozMatchesSelector||b.msMatchesSelector||b.oMatchesSelector||b.webkitMatchesSelector}if("classList"in SVGElement.prototype||Object.defineProperty(SVGElement.prototype,"classList",{get:function(){var a=this;return{contains:function(e){return a.className.baseVal.split(" ").indexOf(e)!==-1},add:function(e){return a.setAttribute("class",a.getAttribute("class")+" "+e)},remove:function(e){var i=a.getAttribute("class").replace(new RegExp("(\\s|^)".concat(e,"(\\s|$)"),"g"),"$2");a.classList.contains(e)&&a.setAttribute("class",i)},toggle:function(e){this.contains(e)?this.remove(e):this.add(e)}}},configurable:!0}),!Object.entries){var x=Function.bind.call(Function.call,Array.prototype.reduce),w=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),g=Function.bind.call(Function.call,Array.prototype.concat);Object.entries=function(a){return x(Object.keys(a),function(e,i){return g(e,typeof i=="string"&&w(a,i)?[[i,a[i]]]:[])},[])}}Event.prototype.composedPath||(Event.prototype.composedPath=function(){if(this.path)return this.path;var a=this.target;for(this.path=[];a.parentNode!==null;)this.path.push(a),a=a.parentNode;return this.path.push(document,window),this.path})},function($,p){Math.sign=Math.sign||function(b){return(b=+b)==0||isNaN(b)?b:b>0?1:-1}},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.i18n=p.Richtext=void 0;var x=b(79);b(80);var w=b(81);Object.defineProperty(p,"Richtext",{enumerable:!0,get:function(){return w.Richtext}});var g=b(16),a=window;p.i18n=a.dhx&&a.dhx.i18n?a.dhx.i18:{},p.i18n.setLocale=x.setLocale,p.i18n.richtext=p.i18n.richtext||g.default},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.setLocale=void 0,p.setLocale=function(x,w){var g=this[x];if(g)for(var a in w)g[a]=w[a]}},function($,p,b){b.r(p)},function($,p,b){var x,w=this&&this.__extends||(x=function(E,k){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,M){S.__proto__=M}||function(S,M){for(var T in M)Object.prototype.hasOwnProperty.call(M,T)&&(S[T]=M[T])},x(E,k)},function(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function S(){this.constructor=E}x(E,k),E.prototype=k===null?Object.create(k):(S.prototype=k.prototype,new S)}),g=this&&this.__assign||function(){return g=Object.assign||function(E){for(var k,S=1,M=arguments.length;S<M;S++)for(var T in k=arguments[S])Object.prototype.hasOwnProperty.call(k,T)&&(E[T]=k[T]);return E},g.apply(this,arguments)},a=this&&this.__spreadArray||function(E,k,S){if(S||arguments.length===2)for(var M,T=0,I=k.length;T<I;T++)!M&&T in k||(M||(M=Array.prototype.slice.call(k,0,T)),M[T]=k[T]);return E.concat(M||Array.prototype.slice.call(k))};Object.defineProperty(p,"__esModule",{value:!0}),p.Richtext=void 0;var e=b(1),i=b(0),u=b(5),o=b(2),h=b(6),r=b(23),f=b(11),d=b(89),t=b(90),c=b(9),l=b(95),n=b(45),s=b(31),_=b(96),v=b(44),m=b(153),y=b(4),C=function(E){function k(S,M){var T,I=E.call(this,S,(0,e.extend)({mode:"classic",toolbarBlocks:[y.RTEToolbarBlock.undo,y.RTEToolbarBlock.style,y.RTEToolbarBlock.decoration,y.RTEToolbarBlock.color,y.RTEToolbarBlock.align,y.RTEToolbarBlock.link]},M))||this,O=(0,e.extend)(g({},f.defaultStyleCommon),I.config.defaultStyle||{});I._defaultStyles=O;var H=I.config.toolbarBlocks.indexOf(y.RTEToolbarBlock.default);H!==-1&&(T=I.config.toolbarBlocks).splice.apply(T,a([H,1],f.defaultBlocks,!1)),I._initContainer=(0,o.toNode)(S),I.events=new u.EventSystem(I);var F=function(){return I._editorView.getRootView()};return I._composition={active:!1,initSelection:null},I._compositionEventsDestructor=(0,d.listenCompositionEvents)(I.events,function(){return I._editor.selection.isActive()}),I._editor=new m.Editor({events:I.events,uid:I._uid,getRootView:F,repaint:function(){return I._editorView.paint()},defaultStyle:O}),I._toolbarHelper=new _.RichTextToolbarHelper(I,I._editor,{defaultStyle:O}),I.toolbar=I._toolbarHelper.toolbar,I._linkEditor=new t.LinkEditor(null,{events:I.events,editor:I._editor,getRootView:F}),I._initHandlers(),I._initUI(I._initContainer),I._initEvents(),I}return w(k,E),k.prototype.getRootView=function(){return this._layout.getRootView()},k.prototype.setValue=function(S,M){M===void 0&&(M="html"),this.events.fire(y.RichTextEvents.action,[y.Action.parse,{value:S,mode:M},!1])},k.prototype.getValue=function(S){return S===void 0&&(S="html"),this._editor.serialize(S)},k.prototype.getStats=function(S){var M=S?this._editor.selection.getSelectedText():this.getValue("text");return(0,n.getStats)(M,this.config.customStats)},k.prototype.destructor=function(){this._compositionEventsDestructor(),this._editor.selection.destructor(),this.toolbar.destructor(),this.unmount()},k.prototype.fullScreen=function(){var S;this.toolbar.data.exists("fullscreen")&&this.toolbar.data.update("fullscreen",{icon:"dxi dxi-arrow-collapse",$fullscreen:!0}),document.body.classList.add("dhx_richtext--fullscreen","dhx_widget--fullscreen"),this._initContainer=((S=this.getRootView().node.parent)===null||S===void 0?void 0:S.el)||this._initContainer,this.getRootView().mount(document.body)},k.prototype.exitFullScreen=function(){this.toolbar.data.exists("fullscreen")&&this.toolbar.data.update("fullscreen",{icon:"dxi dxi-arrow-expand",$fullscreen:!1}),document.body.classList.remove("dhx_richtext--fullscreen","dhx_widget--fullscreen"),this.getRootView().mount(this._initContainer)},k.prototype.getEditorAPI=function(){var S=this;return{getSelection:function(){return S._editor.selection.get()},setSelection:function(M){S._editor.selection.set(M),S._restoreFocus()},getPosition:function(M){return S._editor.selection.getPosition(M)},getModel:function(){return S._editor.blocks.map(function(M){return{style:g({},M.style),textNodes:M.textNodes.map(function(T){return{style:g({},T.style),text:T.text}})}})},setModel:function(M,T){S.events.fire(y.RichTextEvents.action,[y.Action.parse,{value:M,mode:"inner"},!1]),T&&S._editor.selection.set(T)},add:function(M,T){T&&S._editor.selection.set(T),S.events.fire(y.RichTextEvents.action,[y.Action.innerAdd,M,!0])},remove:function(M){M&&S._editor.selection.set(M),S.events.fire(y.RichTextEvents.action,[y.Action.remove,!0,!0])},update:function(M,T){T&&S._editor.selection.set(T),S.events.fire(y.RichTextEvents.action,[y.Action.update,{modifier:M.modifier,modifierValue:M.value}])}}},k.prototype._initUI=function(S){var M=this,T=this._layout=new r.Layout(S,{css:"dhx_richtext dhx_richtext--mode_"+this.config.mode,cols:[{css:"dhx_toolbar__height-holder",rows:[{id:"toolbar",on:{click:function(){return M._restoreFocus()}},css:"dhx_richtext__toolbar-holder",height:"content"},{id:"editor",css:"dhx_richtext__editor-holder"}]}]});this._editorView=(0,h.toViewLike)((0,i.create)({render:function(){return M._draw()},hooks:{didRedraw:function(){M._editor.selection.isActive()&&(M._editor.selection.update()||M._restoreFocus())}}})),T.getCell("editor").attach(this._editorView),T.getCell("toolbar").attach(this.toolbar)},k.prototype._initHandlers=function(){var S=this;this._handlers={oninput:function(M){M.preventDefault(),M.data&&!M.isComposing&&S.events.fire(y.RichTextEvents.action,["add",M.data])},onkeydown:function(M){if(!(S._composition.active||S._linkEditor.isVisible()&&!S._editor.selection.isActive())){var T=(0,v.keyToOperation)(M);T&&S.events.fire(y.RichTextEvents.action,[T.action,T.data])}},onpaste:function(M){S.events.fire(y.RichTextEvents.action,[y.Action.paste,M,!1])},oncut:function(M){S.events.fire(y.RichTextEvents.action,[y.Action.cut,M,!1])},oncopy:function(M){S.events.fire(y.RichTextEvents.action,[y.Action.copy,M,!1])},ondrop:function(M){M.preventDefault()},ondragstart:function(M){M.preventDefault()}}},k.prototype._initEvents=function(){var S=this;this.events.on(y.RichTextEvents.selectionRefresh,function(){return S._scrollHelper.update()}),this.events.on(y.RichTextEvents.action,function(M,T,I){S._editor.manager.execute({action:M,data:T})&&(S.events.fire(y.RichTextEvents.change,[M,S._editor.manager.canUndo(),S._editor.manager.canRedo()]),S._editorView.paint()),I&&S._restoreFocus()}),this.events.on(y.RichTextEvents.compositionStart,function(){S._composition.active=!0,S._composition.initSelection=S._editor.selection.get()}),this.events.on(y.RichTextEvents.compositionEnd,function(M){S._editor.selection.set(S._composition.initSelection),S.events.fire(y.RichTextEvents.action,[y.Action.add,M,!0]),S._composition.active=!1,S._composition.initSelection=null})},k.prototype._restoreFocus=function(){var S=this;this._restoreFocusTimeout&&clearTimeout(this._restoreFocusTimeout),this._restoreFocusTimeout=setTimeout(function(){S._scrollHelper.saveScrollTop(),S._editorView.getRootView().refs.editor.el.focus(),S._scrollHelper.restoreScrollTop();var M=S._editor.selection.refresh();S._restoreFocusTimeout=null,M||S._restoreFocus()},25)},k.prototype._draw=function(){var S=this,M=this._linkEditor.getCurrentLinkRef(),T=(0,c.getLinkRefer)(),I=null,O=[];return(0,i.el)(".dhx_richtext__overflow-wrapper",{_hooks:this.config.mode==="document"&&{didInsert:function(H){S._scrollHelper=(0,l.createScrollHelper)(H.el)}}},[(0,i.el)(".dhx_richtext__editor.dhx_richtext-editor",g({dhx_widget_id:this._uid,_ref:"editor",contentEditable:"true",role:"textbox","data-gramm":"false",spellcheck:"false",_hooks:this.config.mode!=="document"&&{didInsert:function(H){S._scrollHelper=(0,l.createScrollHelper)(H.el),H.el.addEventListener("beforeinput",S._handlers.oninput);var F=(0,s.toCSSVariables)(g(g({},f.defaultStyleCommon),S.config.defaultStyle||{}));Object.entries(F).forEach(function(R){var A=R[0],V=R[1];H.el.style.setProperty(A,V)})}}},this._handlers),this._editor.blocks.map(function(H,F){return O.length&&(O=[],I=null),(0,s.blockquoteWrapper)(H.style,F)((0,s.blockStyleToTag)(H.style),{style:(0,s.calcBlockStyle)(H.style),dhx_offset:F},H.textNodes.map(function(R,A){var V=(0,c.getTextHash)(F,A),z=A===H.textNodes.length-1;if(!R.style.link)return I=R.style.link,S._renderTextNode(R,V,z);if(I!==R.style.link){O=[S._renderTextNode(R,V,z)],I=R.style.link;var Y=T();return(0,i.el)("a",{href:R.style.link,class:Y===M?"dhx--link_edited":"",_ref:Y},O)}O.push(S._renderTextNode(R,V,z))}))}))])},k.prototype._renderTextNode=function(S,M,T){var I=S.text,O=I.endsWith(`
`)&&T,H=(0,s.calcTextNodeStyle)(S.style,this._defaultStyles);return(0,i.el)("span",{_ref:M,dhx_offset:M,style:H},I.length===0?[(0,i.el)("br")]:O?[I+`
`]:I)},k}(h.View);p.Richtext=C},function($,p,b){(function(x){var w=x!==void 0&&x||typeof self<"u"&&self||window,g=Function.prototype.apply;function a(e,i){this._id=e,this._clearFn=i}p.setTimeout=function(){return new a(g.call(setTimeout,w,arguments),clearTimeout)},p.setInterval=function(){return new a(g.call(setInterval,w,arguments),clearInterval)},p.clearTimeout=p.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(w,this._id)},p.enroll=function(e,i){clearTimeout(e._idleTimeoutId),e._idleTimeout=i},p.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},p._unrefActive=p.active=function(e){clearTimeout(e._idleTimeoutId);var i=e._idleTimeout;i>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},i))},b(83),p.setImmediate=typeof self<"u"&&self.setImmediate||x!==void 0&&x.setImmediate||this&&this.setImmediate,p.clearImmediate=typeof self<"u"&&self.clearImmediate||x!==void 0&&x.clearImmediate||this&&this.clearImmediate}).call(this,b(22))},function($,p,b){(function(x,w){(function(g,a){if(!g.setImmediate){var e,i,u,o,h,r=1,f={},d=!1,t=g.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(g);c=c&&c.setTimeout?c:g,{}.toString.call(g.process)==="[object process]"?e=function(s){w.nextTick(function(){n(s)})}:function(){if(g.postMessage&&!g.importScripts){var s=!0,_=g.onmessage;return g.onmessage=function(){s=!1},g.postMessage("","*"),g.onmessage=_,s}}()?(o="setImmediate$"+Math.random()+"$",h=function(s){s.source===g&&typeof s.data=="string"&&s.data.indexOf(o)===0&&n(+s.data.slice(o.length))},g.addEventListener?g.addEventListener("message",h,!1):g.attachEvent("onmessage",h),e=function(s){g.postMessage(o+s,"*")}):g.MessageChannel?((u=new MessageChannel).port1.onmessage=function(s){n(s.data)},e=function(s){u.port2.postMessage(s)}):t&&"onreadystatechange"in t.createElement("script")?(i=t.documentElement,e=function(s){var _=t.createElement("script");_.onreadystatechange=function(){n(s),_.onreadystatechange=null,i.removeChild(_),_=null},i.appendChild(_)}):e=function(s){setTimeout(n,0,s)},c.setImmediate=function(s){typeof s!="function"&&(s=new Function(""+s));for(var _=new Array(arguments.length-1),v=0;v<_.length;v++)_[v]=arguments[v+1];var m={callback:s,args:_};return f[r]=m,e(r),r++},c.clearImmediate=l}function l(s){delete f[s]}function n(s){if(d)setTimeout(n,0,s);else{var _=f[s];if(_){d=!0;try{(function(v){var m=v.callback,y=v.args;switch(y.length){case 0:m();break;case 1:m(y[0]);break;case 2:m(y[0],y[1]);break;case 3:m(y[0],y[1],y[2]);break;default:m.apply(a,y)}})(_)}finally{l(s),d=!1}}}}})(typeof self>"u"?x===void 0?this:x:self)}).call(this,b(22),b(84))},function($,p){var b,x,w=$.exports={};function g(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function e(c){if(b===setTimeout)return setTimeout(c,0);if((b===g||!b)&&setTimeout)return b=setTimeout,setTimeout(c,0);try{return b(c,0)}catch{try{return b.call(null,c,0)}catch{return b.call(this,c,0)}}}(function(){try{b=typeof setTimeout=="function"?setTimeout:g}catch{b=g}try{x=typeof clearTimeout=="function"?clearTimeout:a}catch{x=a}})();var i,u=[],o=!1,h=-1;function r(){o&&i&&(o=!1,i.length?u=i.concat(u):h=-1,u.length&&f())}function f(){if(!o){var c=e(r);o=!0;for(var l=u.length;l;){for(i=u,u=[];++h<l;)i&&i[h].run();h=-1,l=u.length}i=null,o=!1,function(n){if(x===clearTimeout)return clearTimeout(n);if((x===a||!x)&&clearTimeout)return x=clearTimeout,clearTimeout(n);try{return x(n)}catch{try{return x.call(null,n)}catch{return x.call(this,n)}}}(c)}}function d(c,l){this.fun=c,this.array=l}function t(){}w.nextTick=function(c){var l=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)l[n-1]=arguments[n];u.push(new d(c,l)),u.length!==1||o||e(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},w.title="browser",w.browser=!0,w.env={},w.argv=[],w.version="",w.versions={},w.on=t,w.addListener=t,w.once=t,w.off=t,w.removeListener=t,w.removeAllListeners=t,w.emit=t,w.prependListener=t,w.prependOnceListener=t,w.listeners=function(c){return[]},w.binding=function(c){throw new Error("process.binding is not supported")},w.cwd=function(){return"/"},w.chdir=function(c){throw new Error("process.chdir is not supported")},w.umask=function(){return 0}},function($,p,b){/**
* Copyright (c) 2017, Leon Sorokin
* All rights reserved. (MIT Licensed)
*
* domvm.js (DOM ViewModel)
* A thin, fast, dependency-free vdom view layer
* @preserve https://github.com/leeoniya/domvm (v3.2.6, micro build)
*/$.exports=function(){var x=1,w=2,g=3,a=4,e=5,i=typeof window<"u",u=(i?window:{}).requestAnimationFrame,o={};function h(){}var r=Array.isArray;function f(D){return D!=null}function d(D){return D!=null&&D.constructor===Object}function t(D,P,j,N){D.splice.apply(D,[j,N].concat(P))}function c(D){var P=typeof D;return P==="string"||P==="number"}function l(D){return typeof D=="function"}function n(D){return typeof D=="object"&&l(D.then)}function s(D){for(var P=arguments,j=1;j<P.length;j++)for(var N in P[j])D[N]=P[j][N];return D}function _(D,P,j){for(var N;N=P.shift();)P.length===0?D[N]=j:D[N]=D=D[N]||{}}function v(D,P){for(var j=[],N=P;N<D.length;N++)j.push(D[N]);return j}function m(D,P){for(var j in D)if(D[j]!==P[j])return!1;return!0}function y(D,P){var j=D.length;if(P.length!==j)return!1;for(var N=0;N<j;N++)if(D[N]!==P[N])return!1;return!0}function C(D){if(!u)return D;var P,j,N;function L(){P=0,D.apply(j,N)}return function(){j=this,N=arguments,P||(P=u(L))}}function E(D,P,j){return function(){return D.apply(j,P)}}function k(D){var P,j,N=D.slice(),L=[];L.push(0);for(var B=0,G=D.length;B<G;++B){var tt=L[L.length-1];if(D[tt]<D[B])N[B]=tt,L.push(B);else{for(P=0,j=L.length-1;P<j;){var X=(P+j)/2|0;D[L[X]]<D[B]?P=X+1:j=X}D[B]<D[L[P]]&&(P>0&&(N[B]=L[P-1]),L[P]=B)}}for(j=L[(P=L.length)-1];P-- >0;)L[P]=j,j=N[j];return L}function S(D,P){var j,N=0,L=P.length-1;if(L<=2147483647)for(;N<=L;){if(P[j=N+L>>1]===D)return j;P[j]<D?N=j+1:L=j-1}else for(;N<=L;){if(P[j=Math.floor((N+L)/2)]===D)return j;P[j]<D?N=j+1:L=j-1}return N==P.length?null:N}function M(D){return D[0]==="o"&&D[1]==="n"}function T(D){return D[0]==="_"}function I(D){return D==="style"}function O(D){D&&D.el&&D.el.offsetHeight}function H(D){return D.node!=null&&D.node.el!=null}function F(D,P){switch(P){case"value":case"checked":case"selected":return!0}return!1}function R(D){for(D=D||o;D.vm==null&&D.parent;)D=D.parent;return D.vm}function A(){}var V=A.prototype={constructor:A,type:null,vm:null,key:null,ref:null,data:null,hooks:null,ns:null,el:null,tag:null,attrs:null,body:null,flags:0,_class:null,_diff:null,_dead:!1,_lis:!1,idx:null,parent:null};function z(D){var P=new A;return P.type=w,P.body=D,P}var Y={},Q=/\[(\w+)(?:=(\w+))?\]/g;function U(D){var P,j,N,L,B=Y[D];if(B==null)for(Y[D]=B={tag:(P=D.match(/^[-\w]+/))?P[0]:"div",id:(j=D.match(/#([-\w]+)/))?j[1]:null,class:(N=D.match(/\.([-\w.]+)/))?N[1].replace(/\./g," "):null,attrs:null};L=Q.exec(D);)B.attrs==null&&(B.attrs={}),B.attrs[L[1]]=L[2]||"";return B}var K=1,Z=2,st=4,et=8;function ot(D,P,j,N){var L=new A;L.type=x,f(N)&&(L.flags=N),L.attrs=P;var B=U(D);if(L.tag=B.tag,B.id||B.class||B.attrs){var G=L.attrs||{};if(B.id&&!f(G.id)&&(G.id=B.id),B.class&&(L._class=B.class,G.class=B.class+(f(G.class)?" "+G.class:"")),B.attrs)for(var tt in B.attrs)f(G[tt])||(G[tt]=B.attrs[tt]);L.attrs=G}var X=L.attrs;return f(X)&&(f(X._key)&&(L.key=X._key),f(X._ref)&&(L.ref=X._ref),f(X._hooks)&&(L.hooks=X._hooks),f(X._data)&&(L.data=X._data),f(X._flags)&&(L.flags=X._flags),f(L.key)||(f(L.ref)?L.key=L.ref:f(X.id)?L.key=X.id:f(X.name)&&(L.key=X.name+(X.type==="radio"||X.type==="checkbox"?X.value:"")))),j!=null&&(L.body=j),L}function ut(D,P,j){_(D,["refs"].concat(P.split(".")),j)}function pt(D){for(;D=D.parent;)D.flags|=K}function ht(D,P,j,N){if(D.type!==e&&D.type!==a){D.parent=P,D.idx=j,D.vm=N,D.ref!=null&&ut(R(D),D.ref,D);var L=D.hooks,B=N&&N.hooks;(L&&(L.willRemove||L.didRemove)||B&&(B.willUnmount||B.didUnmount))&&pt(D),r(D.body)&&vt(D)}}function vt(D){for(var P=D.body,j=0;j<P.length;j++){var N=P[j];N===!1||N==null?P.splice(j--,1):r(N)?t(P,N,j--,1):(N.type==null&&(P[j]=N=z(""+N)),N.type===w?N.body==null||N.body===""?P.splice(j--,1):j>0&&P[j-1].type===w?(P[j-1].body+=N.body,P.splice(j--,1)):ht(N,D,j,null):ht(N,D,j,null))}}var _t={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,order:!0,lineClamp:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function $t(D,P){return isNaN(P)||_t[D]?P:P+"px"}function Le(D,P){var j=(D.attrs||o).style,N=P?(P.attrs||o).style:null;if(j==null||c(j))D.el.style.cssText=j;else{for(var L in j){var B=j[L];(N==null||B!=null&&B!==N[L])&&(D.el.style[L]=$t(L,B))}if(N)for(var G in N)j[G]==null&&(D.el.style[G]="")}}var Ft=[];function ft(D,P,j,N,L){if(D!=null){var B=j.hooks[P];if(B){if(P[0]!=="d"||P[1]!=="i"||P[2]!=="d")return B(j,N);L?O(j.parent)&&B(j,N):Ft.push([B,j,N])}}}function It(D){var P;if(Ft.length)for(O(D.node);P=Ft.shift();)P[0](P[1],P[2])}var Ot=i?document:null;function $e(D){for(;D._node==null;)D=D.parentNode;return D._node}function Fe(D,P){return P!=null?Ot.createElementNS(P,D):Ot.createElement(D)}function Ve(D){return Ot.createTextNode(D)}function Be(D){return Ot.createComment(D)}function Dt(D){return D.nextSibling}function ze(D){return D.previousSibling}function se(D){var P=D.vm,j=P!=null&&ft(P.hooks,"willUnmount",P,P.data),N=ft(D.hooks,"willRemove",D);if((D.flags&K)===K&&r(D.body))for(var L=0;L<D.body.length;L++)se(D.body[L]);return j||N}function Vt(D,P,j){var N=P._node,L=N.vm;if(r(N.body))if((N.flags&K)===K)for(var B=0;B<N.body.length;B++)Vt(P,N.body[B].el);else Bt(N);delete P._node,D.removeChild(P),ft(N.hooks,"didRemove",N,null,j),L!=null&&(ft(L.hooks,"didUnmount",L,L.data,j),L.node=null)}function Rt(D,P){var j=P._node;if(!j._dead){var N=se(j);N!=null&&n(N)?(j._dead=!0,N.then(E(Vt,[D,P,!0]))):Vt(D,P)}}function Bt(D){for(var P=D.body,j=0;j<P.length;j++){var N=P[j];delete N.el._node,N.vm!=null&&(N.vm.node=null),r(N.body)&&Bt(N)}}function Pt(D){var P=D.el;if(D.flags&K){var j=P.firstChild;do{var N=Dt(j);Rt(P,j)}while(j=N)}else r(D.body)&&Bt(D),P.textContent=null}function mt(D,P,j){var N=P._node,L=P.parentNode!=null,B=P!==j&&L?null:N.vm;B!=null&&ft(B.hooks,"willMount",B,B.data),ft(N.hooks,L?"willReinsert":"willInsert",N),D.insertBefore(P,j),ft(N.hooks,L?"didReinsert":"didInsert",N),B!=null&&ft(B.hooks,"didMount",B,B.data)}function ae(D,P,j){mt(D,P,j?Dt(j):null)}var zt={};function We(D){s(zt,D)}function Ge(D){var P=this,j=P,N=v(arguments,1).concat(j,j.data);do{var L=P.onemit,B=L?L[D]:null;if(B){B.apply(P,N);break}}while(P=P.parent());zt[D]&&zt[D].apply(P,N)}var Wt=h;function Ye(D){Wt=D.onevent||Wt,D.onemit&&We(D.onemit)}function le(D,P,j){D[P]=j}function ce(D,P,j,N,L){var B=D.apply(L,P.concat([j,N,L,L.data]));L.onevent(j,N,L,L.data,P),Wt.call(null,j,N,L,L.data,P),B===!1&&(j.preventDefault(),j.stopPropagation())}function qe(D){var P,j,N=$e(D.target),L=R(N),B=D.currentTarget._node.attrs["on"+D.type];if(r(B))ce(P=B[0],j=B.slice(1),D,N,L);else for(var G in B)if(D.target.matches(G)){var tt=B[G];r(tt)?(P=tt[0],j=tt.slice(1)):(P=tt,j=[]),ce(P,j,D,N,L)}}function Ue(D,P,j,N){if(j!==N){var L=D.el;j==null||l(j)?le(L,P,j):N==null&&le(L,P,qe)}}function de(D,P,j){P[0]==="."&&(P=P.substr(1),j=!0),j?D.el[P]="":D.el.removeAttribute(P)}function Xe(D,P,j,N,L){var B=D.el;j==null?!L&&de(D,P,!1):D.ns!=null?B.setAttribute(P,j):P==="class"?B.className=j:P==="id"||typeof j=="boolean"||N?B[P]=j:P[0]==="."?B[P.substr(1)]=j:B.setAttribute(P,j)}function Gt(D,P,j){var N=D.attrs||o,L=P.attrs||o;if(N!==L){for(var B in N){var G=N[B],tt=F(D.tag,B),X=tt?D.el[B]:L[B];G===X||(I(B)?Le(D,P):T(B)||(M(B)?Ue(D,B,G,X):Xe(D,B,G,tt,j)))}for(var B in L)!(B in N)&&!T(B)&&de(D,B,F(D.tag,B)||M(B))}}function Yt(D,P,j,N){return D.type===a&&(P=D.data,j=D.key,N=D.opts,D=D.view),new jt(D,P,j,N)}function ue(D){for(var P=0;P<D.body.length;P++){var j=D.body[P],N=j.type;if(N<=g)mt(D.el,xt(j));else if(N===a)N=(L=Yt(j.view,j.data,j.key,j.opts)._redraw(D,P,!1)).node.type,mt(D.el,xt(L.node));else if(N===e){var L;(L=j.vm)._redraw(D,P),N=L.node.type,mt(D.el,L.node.el)}}}function xt(D,P){return D.el==null&&(D.type===x?(D.el=P||Fe(D.tag,D.ns),D.attrs!=null&&Gt(D,o,!0),(D.flags&et)===et&&D.body.body(D),r(D.body)?ue(D):D.body!=null&&D.body!==""&&(D.el.textContent=D.body)):D.type===w?D.el=P||Ve(D.body):D.type===g&&(D.el=P||Be(D.body))),D.el._node=D,D.el}function Ke(D,P){return P[D.idx+1]}function Je(D,P){return P[D.idx-1]}function Ze(D){return D.parent}window.lisMove=fe;var qt=1,At=2;function he(D,P,j,N,L,B,G,tt){return function(X,ct,rt,it,wt,lt){var at,gt;if(it[N]!=null){if((at=it[N]._node)==null)return void(it[N]=D(it[N]));if(Ze(at)!==X)return gt=D(it[N]),at.vm!=null?at.vm.unmount(!0):Rt(ct,it[N]),void(it[N]=gt)}if(it[L]==wt)return At;if(it[L].el==null)j(ct,xt(it[L]),it[N]),it[L]=P(it[L],rt);else if(it[L].el===it[N])it[L]=P(it[L],rt),it[N]=D(it[N]);else{if(lt||at!==it[G])return lt&&it[N]!=null?fe(D,P,j,N,L,ct,rt,at,it):qt;gt=it[N],it[N]=D(gt),tt(ct,gt,it[B]),it[B]=gt}}}function fe(D,P,j,N,L,B,G,tt,X){if(tt._lis)j(B,X[L].el,X[N]),X[L]=P(X[L],G);else{var ct=S(tt.idx,X.tombs);tt._lis=!0;var rt=D(X[N]);j(B,X[N],ct!=null?G[X.tombs[ct]].el:ct),ct==null?X.tombs.push(tt.idx):X.tombs.splice(ct,0,tt.idx),X[N]=rt}}var pe=he(Dt,Ke,mt,"lftSib","lftNode","rgtSib","rgtNode",ae),Qe=he(ze,Je,ae,"rgtSib","rgtNode","lftSib","lftNode",mt);function tn(D,P){var j=P.body,N=D.el,L=D.body,B={lftNode:L[0],rgtNode:L[L.length-1],lftSib:(j[0]||o).el,rgtSib:(j[j.length-1]||o).el};t:for(;;){for(;;){var G=pe(D,N,L,B,null,!1);if(G===qt)break;if(G===At)break t}for(;;){var tt=Qe(D,N,L,B,B.lftNode,!1);if(tt===qt)break;if(tt===At)break t}en(D,N,L,B);break}}function en(D,P,j,N){for(var L=Array.prototype.slice.call(P.childNodes),B=[],G=0;G<L.length;G++){var tt=L[G]._node;tt.parent===D&&B.push(tt.idx)}for(var X=k(B).map(function(rt){return B[rt]}),ct=0;ct<X.length;ct++)j[X[ct]]._lis=!0;for(N.tombs=X;pe(D,P,j,N,null,!0)!==At;);}function _e(D){return D.el._node.parent!==D.parent}function nn(D,P,j){return P[j]}function on(D,P,j){for(;j<P.length;j++){var N=P[j];if(N.vm!=null){if(D.type===a&&N.vm.view===D.view&&N.vm.key===D.key||D.type===e&&N.vm===D.vm)return N}else if(!_e(N)&&D.tag===N.tag&&D.type===N.type&&D.key===N.key&&(D.flags&~K)==(N.flags&~K))return N}return null}function rn(D,P,j){return P[P._keys[D.key]]}function Ht(D,P){ft(P.hooks,"willRecycle",P,D);var j=D.el=P.el,N=P.body,L=D.body;if(j._node=D,D.type!==w||L===N){D.attrs==null&&P.attrs==null||Gt(D,P,!1);var B=r(N),G=r(L),tt=(D.flags&et)===et;B?G||tt?sn(D,P):L!==N&&(L!=null?j.textContent=L:Pt(P)):G?(Pt(P),ue(D)):L!==N&&(j.firstChild?j.firstChild.nodeValue=L:j.textContent=L),ft(P.hooks,"didRecycle",P,D)}else j.nodeValue=L}function sn(D,P){var j=D.body,N=j.length,L=P.body,B=L.length,G=(D.flags&et)===et,tt=(D.flags&Z)===Z,X=(D.flags&st)===st,ct=!tt&&D.type===x,rt=!0,it=X?rn:tt||G?nn:on;if(X){for(var wt={},lt=0;lt<L.length;lt++)wt[L[lt].key]=lt;L._keys=wt}if(ct&&N===0)return Pt(P),void(G&&(D.body=[]));var at,gt,xn=0,be=!1,yt=0;if(G)var we={key:null},ke=Array(N);for(lt=0;lt<N;lt++){if(G){var Zt=!1,Qt=null;rt&&(X&&(we.key=j.key(lt)),at=it(we,L,yt)),at!=null?(gt=at.idx,(Qt=j.diff(lt,at))===!0?((dt=at).parent=D,dt.idx=lt,dt._lis=!1):Zt=!0):Zt=!0,Zt&&(ht(dt=j.tpl(lt),D,lt),dt._diff=Qt??j.diff(lt),at!=null&&Ht(dt,at)),ke[lt]=dt}else{var dt,St=(dt=j[lt]).type;if(St<=g)(at=rt&&it(dt,L,yt))&&(Ht(dt,at),gt=at.idx);else if(St===a){if(at=rt&&it(dt,L,yt)){gt=at.idx;var te=at.vm._update(dt.data,D,lt)}else te=Yt(dt.view,dt.data,dt.key,dt.opts)._redraw(D,lt,!1);St=te.node.type}else if(St===e){var bn=H(dt.vm);St=(te=dt.vm._update(dt.data,D,lt,bn)).node.type}}if(!X&&at!=null&&(gt===yt?++yt===B&&N>B&&(at=null,rt=!1):be=!0,B>100&&be&&++xn%10==0))for(;yt<B&&_e(L[yt]);)yt++}G&&(D.body=ke),ct&&tn(D,P)}function jt(D,P,j,N){var L=this;L.view=D,L.data=P,L.key=j,N&&(L.opts=N,L.config(N));var B=d(D)?D:D.call(L,L,P,j,N);l(B)?L.render=B:(L.render=B.render,L.config(B)),L._redrawAsync=C(function(G){return L.redraw(!0)}),L._updateAsync=C(function(G){return L.update(G,!0)}),L.init&&L.init.call(L,L,L.data,L.key,N)}var Ut=jt.prototype={constructor:jt,_diff:null,init:null,view:null,key:null,data:null,state:null,api:null,opts:null,node:null,hooks:null,onevent:h,refs:null,render:null,mount:an,unmount:ln,config:function(D){var P=this;D.init&&(P.init=D.init),D.diff&&(P.diff=D.diff),D.onevent&&(P.onevent=D.onevent),D.hooks&&(P.hooks=s(P.hooks||{},D.hooks)),D.onemit&&(P.onemit=s(P.onemit||{},D.onemit))},parent:function(){return R(this.node.parent)},root:function(){for(var D=this.node;D.parent;)D=D.parent;return D.vm},redraw:function(D){var P=this;return D?P._redraw(null,null,H(P)):P._redrawAsync(),P},update:function(D,P){var j=this;return P?j._update(D,null,null,H(j)):j._updateAsync(D),j},_update:dn,_redraw:cn,_redrawAsync:null,_updateAsync:null};function an(D,P){var j=this;return P?(Pt({el:D,flags:0}),j._redraw(null,null,!1),D.nodeName.toLowerCase()!==j.node.tag?(xt(j.node),mt(D.parentNode,j.node.el,D),D.parentNode.removeChild(D)):mt(D.parentNode,xt(j.node,D),D)):(j._redraw(null,null),D&&mt(D,j.node.el)),D&&It(j),j}function ln(D){var P=this,j=P.node;Rt(j.el.parentNode,j.el),D||It(P)}function ge(D,P,j,N){return j!=null&&(j.body[N]=P,P.idx=N,P.parent=j,P._lis=!1),D}function cn(D,P,j){var N,L,B=D==null,G=this,tt=G.node&&G.node.el&&G.node.el.parentNode,X=G.node;if(G.diff!=null&&(N=G._diff,G._diff=L=G.diff(G,G.data),X!=null)){var ct=r(N)?y:m;if(N===L||ct(N,L))return ge(G,X,D,P)}tt&&ft(G.hooks,"willRedraw",G,G.data);var rt=G.render.call(G,G,G.data,N,L);if(rt===X)return ge(G,X,D,P);if(G.refs=null,G.key!=null&&rt.key!==G.key&&(rt.key=G.key),G.node=rt,D?(ht(rt,D,P,G),D.body[P]=rt):X&&X.parent?(ht(rt,X.parent,X.idx,G),X.parent.body[X.idx]=rt):ht(rt,null,null,G),j!==!1)if(X)if(X.tag!==rt.tag||X.key!==rt.key){X.vm=rt.vm=null;var it=X.el.parentNode,wt=Dt(X.el);Rt(it,X.el),mt(it,xt(rt),wt),X.el=rt.el,rt.vm=G}else Ht(rt,X);else xt(rt);return tt&&ft(G.hooks,"didRedraw",G,G.data),B&&tt&&It(G),G}function dn(D,P,j,N){var L=this;return D!=null&&L.data!==D&&(ft(L.hooks,"willUpdate",L,D),L.data=D),L._redraw(P,j,N)}function ve(D,P,j,N){var L,B;return j==null?d(P)?L=P:B=P:(L=P,B=j),ot(D,L,B,N)}var me="http://www.w3.org/2000/svg";function un(D,P,j,N){var L=ve(D,P,j,N);return L.ns=me,L}function hn(D){var P=new A;return P.type=g,P.body=D,P}function Xt(D,P,j,N){this.view=D,this.data=P,this.key=j,this.opts=N}function fn(D,P,j,N){return new Xt(D,P,j,N)}function Kt(D){this.vm=D}function pn(D){return new Kt(D)}function _n(D){var P=new A;return P.type=x,P.el=P.key=D,P}function gn(D,P){var j=D.length,N={items:D,length:j,key:function(L){return P.key(D[L],L)},diff:function(L,B){var G=P.diff(D[L],L);if(B==null)return G;var tt=B._diff;return(G===tt||r(tt)?y(G,tt):m(G,tt))||G},tpl:function(L){return P.tpl(D[L],L)},map:function(L){return P.tpl=L,N},body:function(L){for(var B=Array(j),G=0;G<j;G++){var tt=N.tpl(G);tt._diff=N.diff(G),B[G]=tt,ht(tt,L,G)}L.body=B}};return N}Xt.prototype={constructor:Xt,type:a,view:null,data:null,key:null,opts:null},Kt.prototype={constructor:Kt,type:e,vm:null};var Jt={config:Ye,ViewModel:jt,VNode:A,createView:Yt,defineElement:ve,defineSvgElement:un,defineText:z,defineComment:hn,defineView:fn,injectView:pn,injectElement:_n,lazyList:gn,FIXED_BODY:Z,DEEP_REMOVE:K,KEYED_LIST:st,LAZY_LIST:et};function vn(D,P){mn(this,D,P)}function mn(D,P,j){if(P.type!=null){if(D.vm!=null)return;ht(P,D.parent,D.idx,null),D.parent.body[D.idx]=P,Ht(P,D),j&&O(P),It(R(P))}else{var N=Object.create(D);N.attrs=s({},D.attrs);var L=s(D.attrs,P);if(D._class!=null){var B=L.class;L.class=B!=null&&B!==""?D._class+" "+B:D._class}Gt(D,N),j&&O(D)}}function ye(D,P){var j=D.body;if(r(j))for(var N=0;N<j.length;N++){var L=j[N];L.vm!=null?P.push(L.vm):ye(L,P)}return P}function xe(D){var P,j,N=arguments,L=N.length;if(L>1){var B=1;d(N[1])&&(j=N[1],B=2),P=L===B+1&&(c(N[B])||r(N[B])||j&&(j._flags&et)===et)?N[B]:v(N,B)}return ot(D,j,P)}function yn(){var D=xe.apply(null,arguments);return D.ns=me,D}return V.patch=vn,Ut.emit=Ge,Ut.onemit=null,Ut.body=function(){return ye(this.node,[])},Jt.defineElementSpread=xe,Jt.defineSvgElementSpread=yn,Jt}()},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.getMarginSize=p.getBlockRange=void 0,p.getBlockRange=function(x,w,g){return g===void 0&&(g=!0),g?{min:x.left+window.pageXOffset,max:w.right+window.pageXOffset}:{min:x.top+window.pageYOffset,max:w.bottom+window.pageYOffset}},p.getMarginSize=function(x,w){return x&&(x.type==="space"||x.type==="wide"&&w)?10:0}},function($,p,b){var x,w=this&&this.__extends||(x=function(i,u){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var r in h)Object.prototype.hasOwnProperty.call(h,r)&&(o[r]=h[r])},x(i,u)},function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function o(){this.constructor=i}x(i,u),i.prototype=u===null?Object.create(u):(o.prototype=u.prototype,new o)});Object.defineProperty(p,"__esModule",{value:!0}),p.ProLayout=void 0;var g=b(38),a=b(88),e=function(i){function u(o,h){return i.call(this,o,h)||this}return w(u,i),u.prototype._createCell=function(o){var h;return o.rows||o.cols||o.views?(o.parent=this._root,h=new u(this,o)):h=new a.ProCell(this,o),this._root._all[h.id]=h,o.init&&o.init(h,o),h},u}(g.Layout);p.ProLayout=e},function($,p,b){var x,w=this&&this.__extends||(x=function(o,h){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,f){r.__proto__=f}||function(r,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(r[d]=f[d])},x(o,h)},function(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function r(){this.constructor=o}x(o,h),o.prototype=h===null?Object.create(h):(r.prototype=h.prototype,new r)}),g=this&&this.__assign||function(){return g=Object.assign||function(o){for(var h,r=1,f=arguments.length;r<f;r++)for(var d in h=arguments[r])Object.prototype.hasOwnProperty.call(h,d)&&(o[d]=h[d]);return o},g.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.ProCell=void 0;var a=b(1),e=b(0),i=b(24),u=function(o){function h(r,f){var d=o.call(this,r,f)||this;return d.scrollView=new i.ScrollView(function(){return d._getFirstRootView()}),d}return w(h,o),h.prototype._getFirstRootView=function(r){return r===void 0&&(r=this),r.getParent()&&r.getParent().getRootView()?r.getParent().getRootView():this._getFirstRootView(r.getParent())},h.prototype.toVDOM=function(r){var f;if(this.config===null&&(this.config={}),!this.config.hidden){var d,t=this._calculateStyle(),c=(0,a.isDefined)(this.config.padding)?isNaN(Number(this.config.padding))?{padding:this.config.padding}:{padding:"".concat(this.config.padding,"px")}:"",l=this.config.full||this.config.html?t:g(g({},t),c);if(!this.config.html)if(this._ui){var n=this._ui.getRootView();n.render&&(n=(0,e.inject)(n)),d=n?[this.scrollView.render(n)]:n||null}else d=r?this.scrollView.render([r]):r||null;var s=!this.config.resizable||this._isLastCell()||this.config.collapsed?null:(0,e.el)(".dhx_layout-resizer."+(this._isXDirection()?"dhx_layout-resizer--x":"dhx_layout-resizer--y"),g(g({},this._resizerHandlers),{_ref:"resizer_"+this._uid}),[(0,e.el)("span.dhx_layout-resizer__icon",{class:"dxi "+(this._isXDirection()?"dxi-dots-vertical":"dxi-dots-horizontal")})]),_={};if(this.config.on)for(var v in this.config.on)_["on"+v]=this.config.on[v];var m="",y=this.config.cols||this.config.rows;if(this.config.type&&y)switch(this.config.type){case"line":m=" dhx_layout-line";break;case"wide":m=" dhx_layout-wide";break;case"space":m=" dhx_layout-space"}var C=(0,e.el)(".dhx_layout-cell-content",{".innerHTML":this.config.html,_key:"".concat(this._uid,"_html"),style:c}),E=(0,e.el)("div",g(g(((f={_key:this._uid,_ref:this._uid})["aria-label"]=this.config.id?"tab-content-"+this.config.id:null,f),_),{class:this._getCss(!1)+(this.config.css?" "+this.config.css:"")+(this.config.collapsed?" dhx_layout-cell--collapsed":"")+(this.config.resizable?" dhx_layout-cell--resizable":"")+(this.config.type&&!this.config.full?m:""),style:l}),this.config.full?[(0,e.el)("div",{tabindex:this.config.collapsable?"0":"-1",class:"dhx_layout-cell-header"+(this._isXDirection()?" dhx_layout-cell-header--col":" dhx_layout-cell-header--row")+(this.config.collapsable?" dhx_layout-cell-header--collapseble":"")+(this.config.collapsed?" dhx_layout-cell-header--collapsed":"")+(((this.getParent()||{}).config||{}).isAccordion?" dhx_layout-cell-header--accordion":""),style:{height:this.config.headerHeight},onclick:this._handlers.toggle,onkeydown:this._handlers.enterCollapse},[this.config.headerIcon&&(0,e.el)("span.dhx_layout-cell-header__icon",{class:this.config.headerIcon}),this.config.headerImage&&(0,e.el)(".dhx_layout-cell-header__image-wrapper",[(0,e.el)("img",{src:this.config.headerImage,class:"dhx_layout-cell-header__image"})]),this.config.header&&(0,e.el)("h3.dhx_layout-cell-header__title",this.config.header),this.config.collapsable?(0,e.el)("div.dhx_layout-cell-header__collapse-icon",{class:this._getCollapseIcon()}):(0,e.el)("div.dhx_layout-cell-header__collapse-icon",{class:"dxi dxi-empty"})]),this.config.collapsed?null:(0,e.el)("div",{style:g(g({},c),{height:"calc(100% - ".concat(this.config.headerHeight||37,"px)")}),".innerHTML":this.config.html,class:this._getCss(!0)+" dhx_layout-cell-content"+(this.config.type?m:"")},d)]:!this.config.html||this.config.rows&&this.config.cols&&this.config.views?d:[this.config.collapsed?null:this.scrollView&&this.scrollView.config.enable?this.scrollView.render([C],this._uid):C]);return s?[E,s]:E}},h}(b(39).Cell);p.ProCell=u},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.listenCompositionEvents=void 0;var x=b(4);p.listenCompositionEvents=function(w,g){var a=function(u){g()&&w.fire(x.RichTextEvents.compositionStart)},e=function(u){g()&&w.fire(x.RichTextEvents.compositionEnd,[u.data])},i=function(u){g()&&w.fire(x.RichTextEvents.compositionUpdate,[u.data])};return document.addEventListener("compositionstart",a),document.addEventListener("compositionend",e),document.addEventListener("compositionupdate",i),function(){document.removeEventListener("compositionstart",a),document.removeEventListener("compositionend",e),document.removeEventListener("compositionupdate",i)}}},function($,p,b){var x,w=this&&this.__extends||(x=function(c,l){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var _ in s)Object.prototype.hasOwnProperty.call(s,_)&&(n[_]=s[_])},x(c,l)},function(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function n(){this.constructor=c}x(c,l),c.prototype=l===null?Object.create(l):(n.prototype=l.prototype,new n)}),g=this&&this.__assign||function(){return g=Object.assign||function(c){for(var l,n=1,s=arguments.length;n<s;n++)for(var _ in l=arguments[n])Object.prototype.hasOwnProperty.call(l,_)&&(c[_]=l[_]);return c},g.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.LinkEditor=void 0;var a=b(0),e=b(2),i=b(6),u=b(17),o=b(15),h=b(44),r=b(16),f=b(4),d=b(9),t=function(c){function l(n,s){var _=c.call(this,n,s)||this;return _._events=s.events,_._editor=s.editor,_._getParentView=s.getRootView,_._popup=new o.Popup,_._initEvents(),_._handlers={onclick:{".dhx_richtext-linkeditor--handler_apply":function(){return _._apply()},".dhx_richtext-linkeditor--handler_unlink, .dhx_richtext-linkeditor--handler_unlink *":function(){_._events.fire(f.RichTextEvents.action,[f.Action.update,{modifier:f.Modifier.link,modifierValue:void 0},!0]),_._popup.hide()},".dhx_richtext-linkeditor--handler_edit, .dhx_richtext-linkeditor--handler_edit *":function(){_._editMode=!0,_.paint(),setTimeout(function(){return _.focus()},10)}},onmouseover:function(v){var m=(0,e.locateNode)(v,"dhx_id");m&&(0,u.tooltip)(r.default[m.getAttribute("dhx_id")],{node:m,position:u.Position.bottom})},oninput:function(v){var m=v.target.value;v.target.classList.contains("link-input")?!_._link&&m?(_._link=m,_.paint()):m?_._link=m:(_._link=m,_.paint()):_._text=m},onkeydown:function(v){v.which===h.Key.enter&&_._link&&_._apply(),v.which===h.Key.esc&&_._popup.hide()}},_.mount(null,(0,a.create)({render:function(){return _._draw()}})),_._popup.attach(_),_}return w(l,c),l.prototype.isVisible=function(){return this._popup.isVisible()},l.prototype.show=function(n,s){var _=this;this._popup.show(n,{mode:s,centering:!0}),setTimeout(function(){return _.focus()},10)},l.prototype.hide=function(){this._popup.hide()},l.prototype.get=function(){return{link:this._link,text:this._text}},l.prototype.getCurrentLinkRef=function(){return this._currentLinkRef},l.prototype.set=function(n,s){this._editMode=!n,this._link=n||"",this._text=s||"",this._initText=this._text,this.paint()},l.prototype.focus=function(){var n=this.getRootView().refs;n&&n.linkInput&&n.linkInput.el.focus()},l.prototype._destroyCurrentLinkRef=function(){this._currentLinkRef&&(this._getParentView().refs[this._currentLinkRef].patch({class:""}),this._currentLinkRef=null)},l.prototype._initEvents=function(){var n=this;this._popup.events.on(o.PopupEvents.beforeHide,function(s,_){return!s||!n._getParentView().node.el.contains(_.target)}),this._popup.events.on(o.PopupEvents.afterHide,function(){return n._destroyCurrentLinkRef()}),this._popup.events.on(o.PopupEvents.afterShow,function(){var s=n._editor.selection.get().left,_=(0,d.getTextHash)(s.blockIndex,s.textIndex),v=n._getParentView().refs[_];v.parent.patch({class:"dhx--link_edited"}),n._currentLinkRef=v.parent.ref}),this._events.on(f.RichTextEvents.selectionChange,function(s){var _=s.range,v=s.left,m=n._editor.blocks[v.blockIndex].textNodes[v.textIndex];n.isVisible()&&n.hide(),m.style.link&&!_&&n._show()}),this._events.on(f.RichTextEvents.showLinkEditor,function(){return n._show()}),this._events.on(f.RichTextEvents.change,function(){if(n.isVisible()){var s=n._editor.selection.get(),_=s.left,v=s.range;if(!n._editor.blocks[_.blockIndex].textNodes[_.textIndex].style.link||v)n.hide();else{var m=n._editor.getLinkInfo(),y=m.link,C=m.text;n.set(y,C)}}})},l.prototype._draw=function(){return(0,a.el)(".dhx_richtext-linkeditor ".concat(this._drawViewMode()?".dhx_richtext-linkeditor--mode_view":""),g({},this._handlers),this._editMode?this._drawEditMode():this._drawViewMode())},l.prototype._drawEditMode=function(){return[(0,a.el)(".dhx_richtext-linkeditor__inputs",[(0,a.el)(".dhx_form-group.dhx_form-group--type_inline.dhx_richtext-linkeditor__input",[(0,a.el)(".dhx_label",r.default.text),(0,a.el)("input.dhx_input.text-input",{value:this._text,_key:"textInput",_ref:"textInput"})]),(0,a.el)(".dhx_form-group.dhx_form-group--type_inline.dhx_richtext-linkeditor__input",[(0,a.el)(".dhx_label",r.default.link),(0,a.el)("input.dhx_input.link-input",{value:this._link,_key:"linkInput",_ref:"linkInput"})]),(0,a.el)(".dhx_richtext_apply",[(0,a.el)("button.dhx_richtext-linkeditor--handler_apply.dhx_button.dhx_button--size_medium.dhx_button--view_flat.dhx_button--color_primary",{disabled:!this._link},r.default.apply)])])]},l.prototype._drawViewMode=function(){return[(0,a.el)("a.dhx_richtext-linkeditor__link",{href:this._link,target:"_blank"},this._link),(0,a.el)(".dhx_richtext-linkeditor__controls",[(0,a.el)("button.dhx_richtext-linkeditor--handler_edit.dhx_button.dhx_button--icon.dhx_button--size_medium.dhx_button--view_link.dhx_button--color_secondary",{dhx_id:"edit"},[(0,a.el)("span.dhx_button__icon.dxi.dxi-pencil")]),(0,a.el)("button.dhx_richtext-linkeditor--handler_unlink.dhx_button.dhx_button--icon.dhx_button--size_medium.dhx_button--view_link.dhx_button--color_secondary",{dhx_id:"removeLink"},[(0,a.el)("span.dhx_button__icon.dxi.dxi-link-variant-off")])])]},l.prototype._modifyLink=function(n){return n.startsWith("#")||n.slice(0,4).toLowerCase()==="http"?n:"http://"+n},l.prototype._apply=function(){var n=this._modifyLink(this._link),s=this._text,_=!s.trim();(this._initText!==this._text||_)&&this._editor.updateLinkText(_?n:s),n&&this._events.fire(f.RichTextEvents.action,[f.Action.update,{modifier:f.Modifier.link,modifierValue:n},!0]),this.hide()},l.prototype._show=function(){var n=this._editor.getLinkInfo(),s=n.link,_=n.text,v=this._editor.selection.get().left,m=(0,d.getTextHash)(v.blockIndex,v.textIndex),y=this._getParentView().refs[m];if(s){if(y.parent.ref===this._currentLinkRef)return;this.set(s,_),this.show(y.parent.el,u.Position.bottom)}else this.set(null,this._editor.selection.getSelectedText()),this.show(y.el,u.Position.bottom)},l}(i.View);p.LinkEditor=t},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.message=void 0;var x=b(1),w=b(2),g=b(30),a=new WeakMap,e=new Map;function i(o,h){var r=document.createElement("div");return r.setAttribute("data-position",h),r.className="dhx_message-container dhx_message-container--"+h+(o===document.body?" dhx_message-container--in-body":""),r}function u(o,h){h&&clearTimeout(a.get(o));var r=o.parentNode,f=r.getAttribute("data-position"),d=r.parentNode,t=e.get(d);if(t){var c=t[f];if(c){var l=c.stack,n=l.indexOf(o);return n!==-1?(r.removeChild(o),l.splice(n,1),void(l.length===0&&d.removeChild(r))):void 0}}}p.message=function(o){var h;typeof o=="string"&&(o={text:o}),o.position=o.position||g.MessageContainerPosition.topRight;var r=document.createElement("div");r.className="dhx_widget dhx_message "+(o.css||""),r.setAttribute("role","alert");var f=o.text&&(0,x.uid)();f&&r.setAttribute("aria-describedby",f),o.html?r.innerHTML=o.html:r.innerHTML='<span class="dhx_message__text" id='.concat(f,">").concat(o.text,`</span>
		`).concat(o.icon?'<span class="dhx_message__icon dxi '.concat(o.icon,'"></span>'):"");var d=o.node?(0,w.toNode)(o.node):document.body;getComputedStyle(d).position==="static"&&(d.style.position="relative");var t=e.get(d);t?t[o.position]||(t[o.position]={stack:[],container:i(d,o.position)}):e.set(d,((h={})[o.position]={stack:[],container:i(d,o.position)},h));var c=e.get(d)[o.position],l=c.stack,n=c.container;if(l.length===0&&d.appendChild(n),l.push(r),n.appendChild(r),o.expire){var s=setTimeout(function(){return u(r)},o.expire);a.set(r,s)}r.onclick=function(){return u(r,!0)}}},function($,p,b){(function(x){Object.defineProperty(p,"__esModule",{value:!0}),p.alert=void 0;var w=b(40),g=b(41),a=b(1);p.alert=function(e){var i=e.buttons&&e.buttons[0]?e.buttons[0]:w.default.apply,u=(0,g.blockScreen)(e.blockerCss);return new x(function(o){var h="dhx_alert__".concat((0,a.uid)(),"_content"),r="dhx_alert__".concat((0,a.uid)(),"_header"),f=document.createElement("div");f.setAttribute("role","alert"),f.setAttribute("aria-modal","true"),e.text&&f.setAttribute("aria-describedby",h),e.header&&f.setAttribute("aria-labelledby",r),f.className="dhx_widget dhx_alert "+(e.css||"");var d=function(c){c.key!=="Escape"&&c.key!=="Esc"||(t(c),o(!1))};function t(c){c.preventDefault(),u(),document.body.removeChild(f),document.removeEventListener("keydown",d)}f.innerHTML=`
			`.concat(e.header?"<div id=".concat(r,' class="dhx_alert__header"> ').concat(e.header," </div>"):"",`
			`).concat(e.text?"<div id=".concat(h,' class="dhx_alert__content">').concat(e.text,"</div>"):"",`
			<div class="dhx_alert__footer `).concat(e.buttonsAlignment?"dhx_alert__footer--"+e.buttonsAlignment:"",`">
				<button type="button" aria-label="confirm" class="dhx_alert__apply-button dhx_button dhx_button--view_flat dhx_button--color_primary dhx_button--size_medium">`).concat(i,`</button>
			</div>`),document.body.appendChild(f),f.querySelector(".dhx_alert__apply-button").focus(),f.querySelector("button").addEventListener("click",function(c){t(c),o(!0)}),document.addEventListener("keydown",d)})}}).call(this,b(10))},function($,p,b){(function(x){Object.defineProperty(p,"__esModule",{value:!0}),p.confirm=void 0;var w=b(40),g=b(41),a=b(1);p.confirm=function(e){e.buttonsAlignment=e.buttonsAlignment||"right";var i=e.buttons&&e.buttons[1]?e.buttons[1]:w.default.apply,u=e.buttons&&e.buttons[0]?e.buttons[0]:w.default.reject,o=(0,g.blockScreen)(e.blockerCss);return new x(function(h){var r=document.createElement("div");r.setAttribute("role","alertdialog"),r.setAttribute("aria-modal","true");var f,d=e.header&&(0,a.uid)(),t=e.header&&(0,a.uid)();t&&r.setAttribute("aria-describedby",t),d&&r.setAttribute("aria-labelledby",d);var c=function(s){o(),r.removeEventListener("click",l),document.removeEventListener("keydown",n),document.body.removeChild(r),h(s)},l=function(s){s.target.tagName==="BUTTON"&&c(s.target.classList.contains("dhx_alert__confirm-aply"))},n=function(s){s.key==="Escape"||s.key==="Esc"?(r.querySelector(".dhx_alert__confirm-aply").focus(),c(s.target.classList.contains("dhx_alert__confirm-reject"))):s.key==="Tab"&&(f==="aply"?(f="reject",r.querySelector(".dhx_alert__confirm-reject").focus()):(f="aply",r.querySelector(".dhx_alert__confirm-aply").focus()),s.preventDefault())};r.className="dhx_widget dhx_alert dhx_alert--confirm"+(e.css?" "+e.css:""),r.innerHTML=`
		`.concat(e.header?'<div class="dhx_alert__header" id='.concat(d,"> ").concat(e.header," </div>"):"",`
		`).concat(e.text?'<div class="dhx_alert__content" id='.concat(t,">").concat(e.text,"</div>"):"",`
			<div class="dhx_alert__footer `).concat(e.buttonsAlignment?"dhx_alert__footer--"+e.buttonsAlignment:"",`">
				<button type="button" aria-label="reject" class="dhx_alert__confirm-reject dhx_button dhx_button--view_link dhx_button--color_primary dhx_button--size_medium">`).concat(u,`</button>
				<button type="button"  aria-label="aply"class="dhx_alert__confirm-aply dhx_button dhx_button--view_flat dhx_button--color_primary dhx_button--size_medium">`).concat(i,`</button>
			</div>`),document.body.appendChild(r),f="aply",r.querySelector(".dhx_alert__confirm-aply").focus(),r.addEventListener("click",l),document.addEventListener("keydown",n)})}}).call(this,b(10))},function($,p,b){var x,w=this&&this.__extends||(x=function(f,d){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,c){t.__proto__=c}||function(t,c){for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(t[l]=c[l])},x(f,d)},function(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function t(){this.constructor=f}x(f,d),f.prototype=d===null?Object.create(d):(t.prototype=d.prototype,new t)}),g=this&&this.__assign||function(){return g=Object.assign||function(f){for(var d,t=1,c=arguments.length;t<c;t++)for(var l in d=arguments[t])Object.prototype.hasOwnProperty.call(d,l)&&(f[l]=d[l]);return f},g.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.Popup=void 0;var a=b(1),e=b(0),i=b(5),u=b(2),o=b(6),h=b(43),r=function(f){function d(t){t===void 0&&(t={});var c=f.call(this,null,(0,a.extend)({},t))||this,l=c._popup=document.createElement("div");return l.className="dhx_widget dhx_popup"+(c.config.css?" "+c.config.css:""),l.style.position="absolute",l.setAttribute("role","dialog"),l.setAttribute("aria-modal","true"),l.setAttribute("aria-live","polite"),c.mount(l,(0,e.create)({render:function(){return c.toVDOM()}})),c._clickEvent=function(n){return c.events.fire(h.PopupEvents.click,[n])},c.events=t.events||new i.EventSystem(c),c._isActive=!1,c}return w(d,f),d.prototype.show=function(t,c,l){var n=this;c===void 0&&(c={}),this.events.fire(h.PopupEvents.beforeShow,[t])&&(t=(0,u.toNode)(t),this._isActive?this._setPopupSize(t,c):(l&&this.attach(l),this._popup.style.left="0",this._popup.style.top="0",(0,e.awaitRedraw)().then(function(){n._setPopupSize(t,c),n._popup.style.position="fixed",document.body.appendChild(n._popup),n._isActive=!0}).then(function(){n._popup.style.position="absolute",n.events.fire(h.PopupEvents.afterShow,[t]),n._outerClickDestructor=n._detectOuterClick(t)})))},d.prototype.hide=function(){this._hide(!1,null)},d.prototype.isVisible=function(){return this._isActive},d.prototype.attach=function(t,c){return this._html=null,typeof t=="object"?this._ui=t:typeof t=="string"?this._ui=new window.dhx[t](null,c):typeof t=="function"&&(t.prototype instanceof o.View?this._ui=new t(null,c):this._ui={getRootView:function(){return t(c)}}),this.paint(),this._ui},d.prototype.attachHTML=function(t){this._html=t,this.paint()},d.prototype.getWidget=function(){return this._ui},d.prototype.getContainer=function(){return this.getRootView().refs.content.el},d.prototype.toVDOM=function(){var t;return this._html?t=(0,e.el)(".dhx_popup__inner-html-content",{".innerHTML":this._html}):(t=this._ui?this._ui.getRootView():null)&&t.render&&(t=(0,e.inject)(t)),(0,e.el)("div",{class:"dhx_popup-content",tabindex:0,onclick:this._clickEvent,_key:this._uid,_ref:"content"},[t])},d.prototype.destructor=function(){this.hide(),this._outerClickDestructor&&this._outerClickDestructor(),this._popup=null},d.prototype._setPopupSize=function(t,c,l){var n=this;l===void 0&&(l=3);var s=this._popup.getBoundingClientRect(),_=s.width,v=s.height;if(this._timeout&&(clearTimeout(this._timeout),this._timeout=null),!l||_!==0&&v!==0){var m=(0,u.fitPosition)(t,g(g({centering:!0,mode:"bottom"},c),{width:_,height:v})),y=m.left,C=m.top;if(this._popup.style.left=y,this._popup.style.top=C,c.indent&&c.indent!==0)switch(c.mode){case"top":this._popup.style.top=parseInt(this._popup.style.top.slice(0,-2),null)-parseInt(c.indent.toString(),null)+"px";break;case"bottom":default:this._popup.style.top=parseInt(this._popup.style.top.slice(0,-2),null)+parseInt(c.indent.toString(),null)+"px";break;case"left":this._popup.style.left=parseInt(this._popup.style.left.slice(0,-2),null)-parseInt(c.indent.toString(),null)+"px";break;case"right":this._popup.style.left=parseInt(this._popup.style.left.slice(0,-2),null)+parseInt(c.indent.toString(),null)+"px"}}else this._timeout=setTimeout(function(){n._isActive&&(n._setPopupSize(t,c,l-1),n._timeout=null)})},d.prototype._detectOuterClick=function(t){var c=this,l=function(n){for(var s=n.target;s;){if(s===t||s===c._popup)return;s=s.parentNode}c._hide(!0,n)&&document.removeEventListener("mousedown",l)};return document.addEventListener("mousedown",l),function(){return document.removeEventListener("mousedown",l)}},d.prototype._hide=function(t,c){if(this._isActive)return!!this.events.fire(h.PopupEvents.beforeHide,[t,c])&&(document.body.removeChild(this._popup),this._isActive=!1,this._outerClickDestructor&&(this._outerClickDestructor(),this._outerClickDestructor=null),this.events.fire(h.PopupEvents.afterHide,[c]),!0)},d}(o.View);p.Popup=r},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.createScrollHelper=void 0,p.createScrollHelper=function(x){var w=x.scrollHeight,g=x.scrollTop;return{update:function(){var a=x.scrollHeight;a>w&&(x.scrollTop+=a-w),w=a},saveScrollTop:function(){g=x.scrollTop},restoreScrollTop:function(){x.scrollTop=g}}}},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(c){for(var l,n=1,s=arguments.length;n<s;n++)for(var _ in l=arguments[n])Object.prototype.hasOwnProperty.call(l,_)&&(c[_]=l[_]);return c},x.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.RichTextToolbarHelper=void 0;var w=b(97),g=b(2),a=b(48),e=b(15),i=b(151),u=b(11),o=b(9),h=b(16),r=b(4),f=b(45),d=b(31),t=function(){function c(l,n,s){var _=this;this._parent=l,this._editor=n,this._config=s;var v=s.defaultStyle;this.colorpicker=new w.Colorpicker(""),this._colorpickerPopup=new e.Popup,this._colorpickerPopup.attach(this.colorpicker),this._statsPopup=new e.Popup,this._parent.events.on(r.RichTextEvents.change,function(){_._statsPopup.isVisible()&&_._statsPopup.hide()});var m=l.config.toolbarBlocks,y=m===void 0?[]:m;this.toolbar=new i.Toolbar("",{css:"dhx_widget--bordered dhx_widget--bg_gray"}),this.toolbar.data.parse((0,u.getToolbarData)(y,v)),this._defaultToolbarState={};for(var C=0,E=y;C<E.length;C++)switch(E[C]){case r.RTEToolbarBlock.align:this._defaultToolbarState[r.Modifier.align]=v[r.Modifier.align];break;case r.RTEToolbarBlock.color:this._defaultToolbarState[r.Modifier.color]=v[r.Modifier.color],this._defaultToolbarState[r.Modifier.background]=v[r.Modifier.background];break;case r.RTEToolbarBlock.decoration:this._defaultToolbarState[r.Modifier.bold]=v[r.Modifier.bold],this._defaultToolbarState[r.Modifier.italic]=v[r.Modifier.italic],this._defaultToolbarState[r.Modifier.underline]=v[r.Modifier.underline],this._defaultToolbarState[r.Modifier.strike]=v[r.Modifier.strike];break;case r.RTEToolbarBlock.style:this._defaultToolbarState[r.Modifier.style]=v[r.Modifier.style],this._defaultToolbarState[r.Modifier.fontFamily]=v[r.Modifier.fontFamily],this._defaultToolbarState[r.Modifier.fontSize]=v[r.Modifier.fontSize],this._defaultToolbarState[r.Modifier.blockquote]=v[r.Modifier.blockquote]}this._initEvents()}return c.prototype._initEvents=function(){var l=this;this._parent.events.on(r.RichTextEvents.selectionChange,function(){l._updateState()}),this._parent.events.on(r.RichTextEvents.change,function(n,s,_){var v;!((v=l._parent.config.toolbarBlocks)===null||v===void 0)&&v.includes(r.RTEToolbarBlock.undo)&&l._updateUndoRedoState(s,_),n!==r.Action.update&&l._updateState()}),this.colorpicker.events.on(w.ColorpickerEvents.change,function(n){l._colorpickerPopup.hide(),l._parent.events.fire(r.RichTextEvents.action,[r.Action.update,{modifier:l._colorpickerTarget,modifierValue:n},!0]),l.toolbar.data.update(l._colorpickerTarget,{html:l._colorpickerTarget===r.Modifier.color?(0,o.textColor)(n):(0,o.textSelectColor)(n)})}),this.toolbar.events.on(a.NavigationBarEvents.click,function(n,s){return l._toolbarAction(n,s)})},c.prototype._toolbarAction=function(l,n){var s=this.toolbar.data.getItem(l),_=!s.active;switch(l=l.toString()){case"bold":this._parent.events.fire(r.RichTextEvents.action,[r.Action.update,{modifier:r.Modifier.bold,modifierValue:_},!0]),this.toolbar.data.update("bold",{active:_});break;case"underline":this._parent.events.fire(r.RichTextEvents.action,[r.Action.update,{modifier:r.Modifier.underline,modifierValue:_},!0]),this.toolbar.data.update("underline",{active:_});break;case"italic":this._parent.events.fire(r.RichTextEvents.action,[r.Action.update,{modifier:r.Modifier.italic,modifierValue:_},!0]),this.toolbar.data.update("italic",{active:_});break;case"strike":this._parent.events.fire(r.RichTextEvents.action,[r.Action.update,{modifier:r.Modifier.strike,modifierValue:_},!0]),this.toolbar.data.update("strike",{active:_});break;case"color":case"background":this._colorpickerTarget=l===r.Modifier.background?r.Modifier.background:r.Modifier.color;var v=this._getColorState(this._colorpickerTarget);this.colorpicker.setValue(v),this.colorpicker.paint(),this._colorpickerPopup.show((0,g.locateNode)(n.target,"dhx_id"),{mode:"bottom"});break;case"link":n.stopPropagation(),this._parent.events.fire(r.RichTextEvents.showLinkEditor);break;case"redo":this._parent.events.fire(r.RichTextEvents.action,[r.Action.redo,null,!0]);break;case"undo":this._parent.events.fire(r.RichTextEvents.action,[r.Action.undo,null,!0]);break;case"clear-style":this._parent.events.fire(r.RichTextEvents.action,[r.Action.clear,null,!0]);break;case"blockquote":this._parent.events.fire(r.RichTextEvents.action,[r.Action.update,{modifier:r.Modifier.blockquote,modifierValue:_},!0]),this.toolbar.data.update("blockquote",{active:_});break;case"fullscreen":s.$fullscreen?this._parent.exitFullScreen():this._parent.fullScreen();break;case"stats":var m=(0,g.locateNode)(n),y=this._editor.selection.get().range;this._statsPopup.attach((0,f.statsRenderer)(this._parent.getStats(y),this._parent.config.customStats)),this._statsPopup.show(m,{mode:"bottom",centering:!0});break;default:var C=(0,o.actionIdToModifierValue)(l)||"";switch(!0){case(0,o.startsWith)(l,"font-size"):if(C==="size")return;this._parent.events.fire(r.RichTextEvents.action,[r.Action.update,{modifier:r.Modifier.fontSize,modifierValue:C+"px"},!0]),this.toolbar.data.update(r.Modifier.fontSize,{value:C+"px"});break;case(0,o.startsWith)(l,"align"):this._parent.events.fire(r.RichTextEvents.action,[r.Action.update,{modifier:r.Modifier.align,modifierValue:C},!0]),this.toolbar.data.update("align-left",{active:C==="left"}),this.toolbar.data.update("align-right",{active:C==="right"}),this.toolbar.data.update("align-center",{active:C==="center"});break;case(0,o.startsWith)(l,"style"):if(C==="style")return;this._parent.events.fire(r.RichTextEvents.action,[r.Action.update,{modifier:r.Modifier.style,modifierValue:C},!0]),this.toolbar.data.update(r.Modifier.style,{value:h.default[C]});break;case(0,o.startsWith)(l,"font"):if(C==="family")return;this._parent.events.fire(r.RichTextEvents.action,[r.Action.update,{modifier:r.Modifier.fontFamily,modifierValue:(0,o.actionIdToModifierValue)(l)},!0]),this.toolbar.data.update(r.Modifier.fontFamily,{value:C})}}},c.prototype._updateState=function(){var l,n=this._getCommonModifiers();for(var s in n)if(this.toolbar.data.getItem(s))switch(s){case r.Modifier.align:this.toolbar.data.update("align-left",{active:n[s]==="left"}),this.toolbar.data.update("align-right",{active:n[s]==="right"}),this.toolbar.data.update("align-center",{active:n[s]==="center"});break;case r.Modifier.style:!((l=this._parent.config.toolbarBlocks)===null||l===void 0)&&l.includes(r.RTEToolbarBlock.style)&&this.toolbar.data.update(s,{value:h.default[n[s]]});break;case r.Modifier.blockquote:this.toolbar.data.update("blockquote",{active:n[s]});break;case r.Modifier.color:this.toolbar.data.update(s,{html:(0,o.textColor)(n[s])});break;case r.Modifier.background:this.toolbar.data.update(s,{html:(0,o.textSelectColor)(n[s])});break;case r.Modifier.fontFamily:case r.Modifier.fontSize:this.toolbar.data.update(s,{value:n[s]});break;case r.Modifier.italic:case r.Modifier.bold:case r.Modifier.underline:case r.Modifier.strike:this.toolbar.data.update(s,{active:n[s]})}},c.prototype._updateUndoRedoState=function(l,n){l?this.toolbar.enable("undo"):this.toolbar.disable("undo"),n?this.toolbar.enable("redo"):this.toolbar.disable("redo")},c.prototype._getCommonModifiers=function(){var l,n,s=this;return this._editor.eachSelectedNode(function(_,v){if(v)if(l){var m=(0,d.getComputedNodeStyle)(_,v,s._defaultToolbarState);for(var y in l)l[y]!==m[y]&&delete l[y]}else l=(0,d.getComputedNodeStyle)(_,v,s._defaultToolbarState)}),this._editor.eachSelectedBlock(function(_){if(n){var v=(0,d.getComputedBlockStyle)(_,s._defaultToolbarState);for(var m in n)n[m]!==v[m]&&delete n[m]}else n=(0,d.getComputedBlockStyle)(_,s._defaultToolbarState)}),x(x(x({},this._config.defaultStyle),n),l)},c.prototype._getColorState=function(l){var n,s=this._config.defaultStyle[l],_=!0;return this._editor.eachSelectedNode(function(v){var m=v.style[l]||s;n?_=_&&n===m:n=m}),_?n:s},c}();p.RichTextToolbarHelper=t},function($,p,b){var x=this&&this.__createBinding||(Object.create?function(a,e,i,u){u===void 0&&(u=i);var o=Object.getOwnPropertyDescriptor(e,i);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(a,u,o)}:function(a,e,i,u){u===void 0&&(u=i),a[u]=e[i]}),w=this&&this.__exportStar||function(a,e){for(var i in a)i==="default"||Object.prototype.hasOwnProperty.call(e,i)||x(e,a,i)};Object.defineProperty(p,"__esModule",{value:!0}),p.locale=void 0,w(b(98),p),w(b(47),p),w(b(46),p),w(b(32),p);var g=b(33);Object.defineProperty(p,"locale",{enumerable:!0,get:function(){return g.default}})},function($,p,b){var x,w=this&&this.__extends||(x=function(y,C){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,k){E.__proto__=k}||function(E,k){for(var S in k)Object.prototype.hasOwnProperty.call(k,S)&&(E[S]=k[S])},x(y,C)},function(y,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function E(){this.constructor=y}x(y,C),y.prototype=C===null?Object.create(C):(E.prototype=C.prototype,new E)}),g=this&&this.__spreadArray||function(y,C,E){if(E||arguments.length===2)for(var k,S=0,M=C.length;S<M;S++)!k&&S in C||(k||(k=Array.prototype.slice.call(C,0,S)),k[S]=C[S]);return y.concat(k||Array.prototype.slice.call(C))};Object.defineProperty(p,"__esModule",{value:!0}),p.Colorpicker=void 0;var a=b(0),e=b(5),i=b(2),u=b(6),o=b(1),h=b(32),r=b(46),f=b(33),d=b(47),t=b(42),c=b(17),l=b(99),n=b(100),s=b(18),_=b(19),v=b(1),m=function(y){function C(E,k){var S=y.call(this,E,k)||this;S._setPaletteGrip=function(T){var I=S.getRootView().refs.picker_palette.el.getBoundingClientRect(),O=T.targetTouches?T.targetTouches[0].clientX:T.clientX,H=(T.targetTouches?T.targetTouches[0].clientY:T.clientY)-I.top,F=O-I.left,R=(0,n.calculatePaletteGrip)(I,H,F),A=R.s,V=R.v;S._pickerState.hsv.s=A,S._pickerState.hsv.v=V,S.paint()},S._setRangeGrip=function(T){var I=S.getRootView().refs.hue_range.el.getBoundingClientRect(),O=(T.targetTouches?T.targetTouches[0].clientX:T.clientX)-I.left,H=(0,n.calculateRangeGrip)(I,O),F=H.h,R=H.rangeLeft;S._pickerState.hsv.h=F,S._pickerState.rangeLeft=R,S.paint()},S._onColorClick=function(T,I){S._selected=I.data.color.toUpperCase(),S.events.fire(d.ColorpickerEvents.change,[S._selected]),S.events.fire(d.ColorpickerEvents.colorChange,[S._selected])},S._container=E,S.config=(0,o.extend)({css:"",grayShades:!0,pickerOnly:!1,paletteOnly:!1,customColors:[],palette:r.palette,width:"238px",mode:"palette"},S.config),S.config.palette||(S.config.palette=r.palette),S.config.customColors&&(S.config.customColors=S.config.customColors.map(function(T){return T.toUpperCase()})),S._pickerState={hsv:{h:0,s:1,v:1},customHex:""},S.events=new e.EventSystem(S),S._setHandlers(),S._keyManager=new s.KeyManager(function(T,I){return I===S._uid}),S._initHotKey();var M=(0,a.create)({render:function(){return S._getContent()}});return S.mount(S._container,M),S}return w(C,y),C.prototype.destructor=function(){this.events&&this.events.clear(),this.config=this.events=this._selected=this._handlers=this._pickerState=this._inputTimeout=null,this.unmount()},C.prototype.clear=function(){this._selected="",this.events.fire(d.ColorpickerEvents.change,[this._selected]),this.paint()},C.prototype.setValue=function(E){(this._focusColor(E)||_.focusManager.getFocusId()===this._uid)&&(this.paint(),this.events.fire(d.ColorpickerEvents.change,[this._selected]),this.events.fire(d.ColorpickerEvents.colorChange,[this._selected]))},C.prototype.setFocus=function(E){this._focusColor(E)&&this.paint()},C.prototype.getValue=function(){return this._selected||""},C.prototype.getCustomColors=function(){return this.config.customColors},C.prototype.setCustomColors=function(E){this.config.customColors=E.map(function(k){return k.toUpperCase()}),this.paint()},C.prototype.setCurrentMode=function(E){E!=="palette"&&E!=="picker"||(this.config.mode=E,this.events.fire(d.ColorpickerEvents.modeChange,[E]),this.events.fire(d.ColorpickerEvents.viewChange,[E]),this.paint())},C.prototype.getCurrentMode=function(){return this.config.mode},C.prototype.getView=function(){return this.getCurrentMode()},C.prototype.setView=function(E){this.setCurrentMode(E)},C.prototype.focusValue=function(E){this.setFocus(E)},C.prototype._setHandlers=function(){var E=this;this._handlers={click:{".dhx_palette__cell":this._onColorClick},mousedown:function(k){E._pickerMove(k)},touchstart:function(k){E._pickerMove(k)},buttonsClick:function(k){E.setCurrentMode("palette"),k!=="cancel"?k!=="apply"||E.config.customColors.includes(E._pickerState.background)||(E.setValue(E._pickerState.background),E.events.fire(d.ColorpickerEvents.apply,[]),E.events.fire(d.ColorpickerEvents.selectClick,[])):E.events.fire(d.ColorpickerEvents.cancelClick,[])},customColorClick:function(){E.setView("picker")},oninput:function(k){E._inputTimeout&&clearTimeout(E._inputTimeout),E._inputTimeout=setTimeout(function(){var S=k.target.value;S.indexOf("#")===-1&&(S="#".concat(S)),E._pickerState.customHex=S,(0,h.isHex)(S)&&(E._pickerState.hsv=(0,h.HexToHSV)(S),E.paint())},100)},contextmenu:{".dhx_palette__cell":function(k,S){k.preventDefault();var M=E.config.customColors.indexOf(S.data.color);M!==-1&&E._removeCustomColor(M),E.paint()}},mouseover:{".dhx_palette__cell":function(k){k.target&&(0,t.tooltip)(f.default.rightClickToDelete,{node:k.target,position:c.Position.bottom})},".dhx_colorpicker-custom-colors__picker":function(k){k.target&&(0,t.tooltip)(f.default.addNewColor,{node:k.target,position:c.Position.bottom})}}},this.events.on(d.ColorpickerEvents.change,function(){E.paint()}),this.events.on(d.ColorpickerEvents.colorChange,function(){E.paint()})},C.prototype._pickerMove=function(E){var k=(0,i.locate)(E);this._pickerState.customHex="",k==="picker_palette"?this._setPaletteGrip(E):this._setRangeGrip(E);var S=k==="picker_palette"?this._setPaletteGrip:this._setRangeGrip,M=E.targetTouches?"touchmove":"mousemove",T=E.targetTouches?"touchend":"mouseup";document.addEventListener(M,S),document.addEventListener(T,function(){document.removeEventListener(M,S)}),this.paint()},C.prototype._focusColor=function(E){if(E===void 0||E.length<4)return!1;var k=E.toUpperCase();if(!(0,h.isHex)(k))return!1;var S=this.config.palette.reduce(function(I,O){return I||(O.forEach(function(H){H.toUpperCase()!==k||(I=!0)}),I)},!1),M=r.grayShades.includes(k);if(!S&&!M){var T=this.getCustomColors();T.includes(k.toUpperCase())||T.push(k.toUpperCase())}return this._selected=k||null,this._pickerState.hsv=(0,h.HexToHSV)(k),!0},C.prototype._removeCustomColor=function(E){this.config.customColors.splice(E,1)},C.prototype._getCells=function(E,k){var S=this;return k===void 0&&(k=""),E.reduce(function(M,T){var I=(S._selected||"").toUpperCase()===T.toUpperCase()?"dhx_palette__cell--selected":"";return M.push((0,a.el)(".dhx_palette__cell",{class:"".concat(I," ").concat(k),_data:{color:T},style:"background:".concat(T),tabindex:0})),M},[])},C.prototype._getGrayShades=function(){return(0,a.el)(".dhx_palette__row",this._getCells(r.grayShades))},C.prototype._getPalette=function(){var E=this;return this.config.palette.reduce(function(k,S){return k.push((0,a.el)(".dhx_palette__col",E._getCells(S))),k},[])},C.prototype._getContent=function(){var E;return E=this.config.pickerOnly?[(0,l.getPicker)(this,this._pickerState,this._handlers)]:this.config.mode==="palette"?g(g([this.config.grayShades&&this._getGrayShades()],this._getPalette(),!0),[!this.config.paletteOnly&&(0,a.el)(".dhx_colorpicker-custom-colors",{onmouseover:this._handlers.mouseover},[(0,a.el)(".dhx_colorpicker-custom-colors__header",[f.default.customColors]),(0,a.el)(".dhx_palette--custom.dhx_palette__row",g(g([],this._getCells(this.config.customColors,"dhx_custom-color__cell"),!0),[(0,a.el)(".dhx_colorpicker-custom-colors__picker",{class:"dxi dxi-plus",onclick:this._handlers.customColorClick,onmouseover:this._handlers.mouseover,tabindex:0})],!1))])],!1):[(0,l.getPicker)(this,this._pickerState,this._handlers)],(0,a.el)(".dhx_widget.dhx_colorpicker",{class:this.config.css,style:{width:this.config.width},dhx_widget_id:this._uid},[(0,a.el)(".dhx_palette",{onclick:this._handlers.click,oncontextmenu:this._handlers.contextmenu},E)])},C.prototype._initHotKey=function(){var E=this,k={enter:function(M){(0,i.locateNodeByClassName)(M,"dhx_palette__cell")&&(E._selected=(0,v.rgbToHex)(M.target.style.background),E.events.fire(d.ColorpickerEvents.change,[E._selected]),E.events.fire(d.ColorpickerEvents.colorChange,[E._selected])),(0,i.locateNodeByClassName)(M,"dhx_colorpicker-custom-colors__picker")&&E.setCurrentMode("picker")}};for(var S in k)this._keyManager.addHotKey(S,k[S])},C}(u.View);p.Colorpicker=m},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.calculatePaletteGrip=p.getPicker=void 0;var x=b(32),w=b(0),g=b(33);p.getPicker=function(a,e,i){var u=(0,x.HSVtoRGB)(e.hsv);e.background=(0,x.RGBToHex)(u);var o=(0,x.RGBToHex)((0,x.HSVtoRGB)({h:e.hsv.h,s:1,v:1})),h=a.getRootView(),r=h.refs?h.refs.picker_palette.el.getBoundingClientRect():{height:200,width:218,x:0,y:0},f=r.height-2,d=r.width-2,t=f-e.hsv.v*f-4,c=e.hsv.s*d-4,l=r.width-6,n=l-(360-e.hsv.h)/360*l,s=(0,x.isHex)(e.customHex)?e.customHex.replace("#",""):e.background.replace("#","");return(0,w.el)(".dhx_colorpicker-picker",{},[(0,w.el)(".dhx_colorpicker-picker__palette",{style:{height:132,background:o},onmousedown:i.mousedown,ontouchstart:i.touchstart,dhx_id:"picker_palette",_ref:"picker_palette"},[(0,w.el)(".dhx_palette_grip",{style:{top:t,left:c},tabindex:0})]),(0,w.el)(".dhx_colorpicker-hue-range",{style:{height:16},onmousedown:i.mousedown,ontouchstart:i.touchstart,dhx_id:"hue_range",_key:"hue_range",_ref:"hue_range"},[(0,w.el)(".dhx_colorpicker-hue-range__grip",{style:{left:n},tabindex:0})]),(0,w.el)(".dhx_colorpicker-value",[(0,w.el)(".dhx_colorpicker-value__color",{style:{background:e.background}}),(0,w.el)(".dhx_colorpicker-value__input__wrapper",[(0,w.el)("input",{class:"dhx_colorpicker-value__input",value:s,oninput:i.oninput,maxlength:"7",_key:"hex_input","aria-label":"type color in HEX format"})])]),(0,w.el)(".dhx_colorpicker-picker__buttons",[!a.config.pickerOnly&&(0,w.el)("button",{class:"dhx_button dhx_button--size_medium dhx_button--view_link dhx_button--color_primary",onclick:[i.buttonsClick,"cancel"]},g.default.cancel),(0,w.el)("button",{class:"dhx_button dhx_button--size_medium dhx_button--view_flat dhx_button--color_primary",onclick:[i.buttonsClick,"apply"]},g.default.select)])])},p.calculatePaletteGrip=function(a,e,i){var u=a.refs.picker_palette.el.getBoundingClientRect(),o=u.height,h=u.width;e=e<0?0:e>o?o:e,i=i<0?0:i>h?h:i;var r=Math.round(i/(h/100)),f=100-Math.round(e/(o/100));this._pickerState.hsv.s=r/100,this._pickerState.hsv.v=f/100}},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.calculateRangeGrip=p.calculatePaletteGrip=void 0,p.calculatePaletteGrip=function(x,w,g){var a=x.height,e=x.width;return w=w<0?0:w>a?a:w,g=g<0?0:g>e?e:g,{s:Math.round(g/(e/100))/100,v:(100-Math.round(w/(a/100)))/100}},p.calculateRangeGrip=function(x,w){var g=x.width;return w=w<0?0:w>g?g:w,{h:Math.round(w/g*360),rangeLeft:w}}},function($,p,b){var x,w=this&&this.__extends||(x=function(t,c){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,n){l.__proto__=n}||function(l,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(l[s]=n[s])},x(t,c)},function(t,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function l(){this.constructor=t}x(t,c),t.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}),g=this&&this.__assign||function(){return g=Object.assign||function(t){for(var c,l=1,n=arguments.length;l<n;l++)for(var s in c=arguments[l])Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);return t},g.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.Navbar=void 0;var a=b(1),e=b(0),i=b(5),u=b(2),o=b(18),h=b(6),r=b(7),f=b(28),d=function(t){function c(l,n){var s=t.call(this,l,n)||this;return s._isContextMenu=!1,s._documentHaveListener=!1,s.config=(0,a.extend)({rootId:typeof l=="string"&&l||s._uid},n),s._rootItem={},Array.isArray(s.config.data)?(s.events=new i.EventSystem(s),s.data=new r.TreeCollection({rootId:s.config.rootId},s.events)):s.config.data&&s.config.data.events?(s.data=s.config.data,s.events=s.data.events,s.events.context=s):(s.events=new i.EventSystem(s),s.data=new r.TreeCollection({rootId:s.config.rootId},s.events)),s._documentClick=function(_){if(s._documentHaveListener){var v=(0,u.locateNode)(_),m=s.data.getRoot(),y=v&&v.getAttribute("dhx_id"),C=s.data.getParent(y),E="ontouchstart"in window||navigator.msMaxTouchPoints;document.removeEventListener("mousedown",s._documentClick),s._documentHaveListener=!1,((!E||v)&&s._isContextMenu||m!==C&&C&&s.data.getItem(y))&&C&&s.data.getItem(y)||s._close(_)}},s._currentRoot=s.data.getRoot(),s._factory=s._getFactory(),s._initHandlers(),s._keyManager=new o.KeyManager(function(_,v){return v===s._uid}),s._initEvents(),Array.isArray(s.config.data)&&s.data.parse(s.config.data),s}return w(c,t),c.prototype.paint=function(){t.prototype.paint.call(this),this._isContextMenu&&!this._vpopups&&this._init(),this._vpopups&&this._vpopups.redraw()},c.prototype.disable=function(l){var n=this;l!==void 0?this._setProp(l,"disabled",!0):this.data.forEach(function(s){var _=s.id;return n._setProp(_,"disabled",!0)})},c.prototype.enable=function(l){var n=this;l!==void 0?this._setProp(l,"disabled",!1):this.data.forEach(function(s){var _=s.id;return n._setProp(_,"disabled",!1)})},c.prototype.isDisabled=function(l){var n=this.data.getItem(l);if(n)return n.disabled||!1},c.prototype.show=function(l){var n=this;l!==void 0?this._setProp(l,"hidden",!1):this.data.forEach(function(s){var _=s.id;return n._setProp(_,"hidden",!1)})},c.prototype.hide=function(l){var n=this;l!==void 0?this._setProp(l,"hidden",!0):this.data.forEach(function(s){var _=s.id;return n._setProp(_,"hidden",!0)})},c.prototype.destructor=function(){this.events.clear(),this._keyManager&&this._keyManager.destructor(),this._vpopups&&this._vpopups.node&&this._vpopups.unmount(),this.unmount()},c.prototype.select=function(l,n){var s=this;if(n===void 0&&(n=!0),!l)throw new Error("Function argument cannot be empty, for more info check documentation https://docs.dhtmlx.com");n&&this.unselect(),this.data.update(l,{active:!0}),this.data.eachParent(l,function(_){s.data.update(_.id,{active:!0})})},c.prototype.unselect=function(l){var n=this;l?(this.data.update(l,{active:!1}),this.data.eachChild(l,function(s){n.data.update(s.id,{active:!1})})):this.data.forEach(function(s){n.data.update(s.id,{active:!1})})},c.prototype.isSelected=function(l){if(l&&this.data.getItem(l))return!!this.data.getItem(l).active},c.prototype.getSelected=function(){var l=[];return this.data.forEach(function(n){n.active&&l.push(n.id)}),l},c.prototype._customHandlers=function(){return{}},c.prototype._close=function(l){var n=this;this._popupActive&&this.events.fire(f.NavigationBarEvents.beforeHide,[this._activeMenu,l])&&(this._activeParents&&this._activeParents.forEach(function(s){return n.data.exists(s)&&n.data.update(s,{$activeParent:!1})}),this.config.navigationType==="click"&&(this._isActive=!1),clearTimeout(this._currentTimeout),this._popupActive=!1,this._activeMenu=null,this._vpopups.node&&this._vpopups.unmount(),this._vpopups=null,this.events.fire(f.NavigationBarEvents.afterHide,[l]),this.paint())},c.prototype._init=function(){var l=this;this._vpopups=(0,e.create)({render:function(){return(0,e.el)("div",{dhx_widget_id:l._uid,class:"".concat(l._isContextMenu?" dhx_context-menu":""," ").concat(l.config.css?l.config.css.split(" ").map(function(n){return n+"--context-menu"}).join(" "):""),onmousemove:l._handlers.onmousemove,onmouseleave:l._handlers.onmouseleave,onclick:l._handlers.onclick,onmousedown:l._handlers.onmousedown},l._drawPopups())}}),this._vpopups.mount(document.body)},c.prototype._initHandlers=function(){var l=this;this._isActive=this.config.navigationType!=="click",this._handlers=g({onmousemove:function(n){if(l._isActive){var s=(0,u.locateNode)(n);if(s){var _=s.getAttribute("dhx_id");if(l._activeMenu!==_){if(l.data.haveItems(_)){l._vpopups||l._init();var v=(0,u.getRealPosition)(s);l.data.update(_,{$position:v},!1)}l._activeItemChange(_,n)}}}},onmouseleave:function(n){if(l.config.navigationType!=="click"){if(l._popupActive){var s=(0,u.locateNode)(n,"dhx_id","relatedTarget");if(s){var _=s.getAttribute("dhx_id");l.data.getItem(_)||l._close(n)}else l._close(n)}l._activeItemChange(null,n)}},onclick:function(n){var s=(0,u.locateNode)(n);if(s){var _=s.getAttribute("dhx_id");if(!l.isDisabled(_)){var v=l.data.getItem(_);if(!v.multiClick)if(l.data.haveItems(_)){if(l._vpopups||l._init(),_===l._currentRoot)return;l._isActive||(l._isActive=!0),l._setRoot(_);var m=(0,u.getRealPosition)(s);l.data.update(_,{$position:m},!1),l._activeItemChange(_,n),l.events.fire(f.NavigationBarEvents.click,[_,n])}else switch(v.type){case"input":case"title":break;case"menuItem":case"selectButton":l._onMenuItemClick(_,n);break;case"imageButton":case"button":case"customButton":case"customHTML":case"navItem":v.twoState&&l.data.update(v.id,{active:!v.active}),l.events.fire(f.NavigationBarEvents.click,[_,n]),l._close(n);break;default:l._close(n)}}}},onmousedown:function(n){var s=(0,u.locateNode)(n);if(s){var _=s.getAttribute("dhx_id");if(l.data.getItem(_).multiClick){var v,m=365,y=function(){l.events.fire(f.NavigationBarEvents.click,[_,n]),m>50&&(m-=55),v=setTimeout(y,m)},C=function(){clearTimeout(v),document.removeEventListener("mouseup",C)};y(),document.addEventListener("mouseup",C)}}}},this._customHandlers())},c.prototype._initEvents=function(){var l=this,n=null;this.data.events.on(f.DataEvents.change,function(){l.paint(),n&&clearTimeout(n),n=setTimeout(function(){var s={};l.data.eachChild(l.data.getRoot(),function(_){_.group&&(_.twoState=!0,function(v,m){v[m.group]?(m.active&&(v[m.group].active=m.id),v[m.group].elements.push(m.id)):v[m.group]={active:m.active?m.id:null,elements:[m.id]}}(s,_))},!0),l._groups=s,l._resetHotkeys(),n=null,l.paint()},100)}),this.events.on(f.NavigationBarEvents.click,function(s){var _=l.data.getItem(s),v=l.data.getItem(_.parent);if(v&&v.type==="selectButton"&&l.data.update(_.parent,{value:_.value,icon:_.icon}),_.group){var m=l._groups[_.group];m.active&&l.data.update(m.active,{active:!1}),m.active=_.id,l.data.update(_.id,{active:!0})}}),this.events.on(f.NavigationBarEvents.inputChange,function(s,_){l.data.update(s,{value:_})}),this._customInitEvents()},c.prototype._getMode=function(l,n,s){return l.parent===n?"bottom":"right"},c.prototype._drawMenuItems=function(l,n){var s=this;return n===void 0&&(n=!0),this.data.map(function(_){return s._factory(_,n)},l,!1)},c.prototype._setRoot=function(l){},c.prototype._getParents=function(l,n){var s=[],_=!1,v=this.data.getItem(l),m=v&&v.disabled;return this.data.eachParent(l,function(y){y.id===n?(s.push(y.id),_=!0):_||s.push(y.id)},!m),this._isContextMenu&&this._activePosition&&s.push(n),s},c.prototype._listenOuterClick=function(){this._documentHaveListener||(document.addEventListener("mousedown",this._documentClick,!0),this._documentHaveListener=!0)},c.prototype._customInitEvents=function(){},c.prototype._drawPopups=function(){var l=this,n=this._activeMenu;if(!this._isContextMenu&&!n)return null;var s=this.getRootNode(),_=s&&s.offsetParent&&s.offsetParent.offsetParent,v=null;_&&_.classList.contains("dhx_popup--window")&&_.classList.contains("dhx_popup--window_active")&&(v=2147483647);var m=this._currentRoot;if(this._isContextMenu&&!this._activePosition)return null;var y=this._getParents(n,m);return this._activeParents=y,y.forEach(function(C){return l.data.exists(C)&&l.data.update(C,{$activeParent:!0},!1)}),y.map(function(C){if(!l.data.haveItems(C))return null;var E=l.data.getItem(C)||l._rootItem;return l._popupActive=!0,(0,e.el)("ul",g({class:"dhx_widget dhx_menu"+(l.config.menuCss?" "+l.config.menuCss:""),_key:C,_hooks:{didInsert:function(k){var S=k.el.getBoundingClientRect(),M=S.width,T=S.height,I=l._isContextMenu&&l._activePosition&&C===m?l._activePosition:E.$position,O=l._getMode(E,m,I===l._activePosition),H=(0,u.calculatePosition)(I,{mode:O,width:M,height:T});E.$style=g(g({},H),{zIndex:l._activePosition&&l._activePosition.zIndex||v}),k.patch({style:E.$style})},didRecycle:function(k,S){if(l._isContextMenu&&l._activePosition&&C===m){var M=S.el.getBoundingClientRect(),T=M.width,I=M.height,O=(0,u.calculatePosition)(l._activePosition,{mode:l._getMode(E,m,!0),width:T,height:I});E.$style=g(g({},O),{zIndex:l._activePosition.zIndex||v}),S.patch({style:E.$style})}}},tabindex:0,style:E.$style||{position:"absolute"}},function(k){return{role:"menu","aria-labeledby":k.id,"aria-live":"polite"}}(E)),l._drawMenuItems(C))}).reverse()},c.prototype._onMenuItemClick=function(l,n){var s=this.data.getItem(l);s.disabled||(s.twoState&&this.data.update(s.id,{active:!s.active}),this.events.fire(f.NavigationBarEvents.click,[l,n]),this._close(n))},c.prototype._activeItemChange=function(l,n){var s=this;if(this._activeParents){var _=this._getParents(l,this._currentRoot);this._activeParents.forEach(function(v){s.data.exists(v)&&!_.includes(v)&&s.data.update(v,{$activeParent:!1},!1)})}l&&!this._documentHaveListener&&this._listenOuterClick(),l&&this.data.haveItems(l)?(this._activeMenu===l&&this._popupActive||this.events.fire(f.NavigationBarEvents.openMenu,[l]),clearTimeout(this._currentTimeout),this.paint()):(clearTimeout(this._currentTimeout),this._currentTimeout=setTimeout(function(){return s.paint()},400)),this._activeMenu=l},c.prototype._resetHotkeys=function(){var l=this;this._keyManager.removeHotKey(null,this),this.data.map(function(n){n.hotkey&&l._keyManager.addHotKey(n.hotkey,function(){return l._onMenuItemClick(n.id,null)})})},c.prototype._setProp=function(l,n,s){var _,v=this;Array.isArray(l)?l.forEach(function(m){var y;return v.data.update(m,((y={})[n]=s,y))}):this.data.update(l,((_={})[n]=s,_))},c}(h.View);p.Navbar=d},function($,p,b){(function(x){var w=this&&this.__assign||function(){return w=Object.assign||function(i){for(var u,o=1,h=arguments.length;o<h;o++)for(var r in u=arguments[o])Object.prototype.hasOwnProperty.call(u,r)&&(i[r]=u[r]);return i},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.Loader=void 0;var g=b(13),a=b(12),e=function(){function i(u,o){this._parent=u,this._changes=o}return i.prototype.load=function(u,o){var h=this;if(!u.config||this._parent.events.fire(a.DataEvents.beforeLazyLoad,[]))return this._parent.loadData=u.load().then(function(r){return r?h.parse(r,o):[]}).catch(function(r){h._parent.events.fire(a.DataEvents.loadError,[r])})},i.prototype.parse=function(u,o){var h=this;if(o===void 0&&(o=a.DataDriver.json),o!=="json"||(0,g.hasJsonOrArrayStructure)(u)||this._parent.events.fire(a.DataEvents.loadError,["Uncaught SyntaxError: Unexpected end of input"]),!((u=(o=(0,g.toDataDriver)(o)).toJsonArray(u))instanceof Array)){var r=u.total_count-1,f=u.from;if(u=u.data,this._parent.getLength()!==0)return u.forEach(function(l,n){var s=f+n,_=h._parent.getId(s);if(_){var v=h._parent.getItem(_);v&&v.$empty&&(h._parent.changeId(_,l.id,!0),h._parent.update(l.id,w(w({},l),{$empty:void 0}),!0))}else(0,g.dhxWarning)("item not found")}),this._parent.events.fire(a.DataEvents.afterLazyLoad,[f,u.length]),this._parent.events.fire(a.DataEvents.change),u;for(var d=[],t=0,c=0;t<=r;t++)t>=f&&t<=f+u.length-1?(d.push(u[c]),c++):d.push({$empty:!0});u=d}return this._parent.getInitialData()&&this._parent.removeAll(),this._parent.$parse(u),u},i.prototype.save=function(u){for(var o=this,h=function(t){if(t.saving||t.pending)(0,g.dhxWarning)("item is saving");else{var c=r._findPrevState(t.id);if(c&&c.saving){var l=new x(function(n,s){c.promise.then(function(){t.pending=!1,n(o._setPromise(t,u))}).catch(function(_){o._removeFromOrder(c),o._setPromise(t,u),(0,g.dhxWarning)(_),s(_)})});r._addToChain(l),t.pending=!0}else r._setPromise(t,u)}},r=this,f=0,d=this._changes.order;f<d.length;f++)h(d[f]);this._changes.order.length&&this._parent.saveData.then(function(){o._saving=!1})},i.prototype.updateChanges=function(u){this._changes=u},i.prototype._setPromise=function(u,o){var h,r=this;switch(u.status){case"remove":h="delete";break;case"add":h="insert";break;default:h=u.status}return u.promise=o.save(u.obj,h),u.promise.then(function(){r._removeFromOrder(u)}).catch(function(f){u.saving=!1,u.error=!0,(0,g.dhxError)(f)}),u.saving=!0,this._saving=!0,this._addToChain(u.promise),u.promise},i.prototype._addToChain=function(u){this._parent.saveData&&this._saving?this._parent.saveData=this._parent.saveData.then(function(){return u}):this._parent.saveData=u},i.prototype._findPrevState=function(u){for(var o=0,h=this._changes.order;o<h.length;o++){var r=h[o];if(r.id===u)return r}return null},i.prototype._removeFromOrder=function(u){this._changes.order=this._changes.order.filter(function(o){return!(0,g.isEqualObj)(o,u)})},i}();p.Loader=e}).call(this,b(10))},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.XMLDriver=void 0;var x=b(104);function w(a,e){e=e||{};var i=a.attributes;if(i&&i.length)for(var u=0;u<i.length;u++)e[i[u].name]=i[u].value;var o=a.childNodes;for(u=0;u<o.length;u++)if(o[u].nodeType===1){var h=o[u].tagName;e[h]?(typeof e[h].push!="function"&&(e[h]=[e[h]]),e[h].push(w(o[u],{}))):e[h]=w(o[u],{})}return e}var g=function(){function a(){}return a.prototype.toJsonArray=function(e){return this.getRows(e)},a.prototype.toJsonObject=function(e){var i;return typeof e=="string"&&(i=this._fromString(e)),w(i)},a.prototype.serialize=function(e){return(0,x.jsonToXML)(e)},a.prototype.getFields=function(e){return e},a.prototype.getRows=function(e){if(typeof e=="string"&&(e=this._fromString(e)),e){var i=e.childNodes&&e.childNodes[0]&&e.childNodes[0].childNodes;return i&&i.length?this._getRows(i):null}return[]},a.prototype._getRows=function(e){for(var i=[],u=0;u<e.length;u++)e[u].tagName==="item"&&i.push(this._nodeToJS(e[u]));return i},a.prototype._fromString=function(e){try{return new DOMParser().parseFromString(e,"text/xml")}catch{return null}},a.prototype._nodeToJS=function(e){var i={};if(this._haveAttrs(e))for(var u=e.attributes,o=0;o<u.length;o++){var h=u[o],r=h.name,f=h.value;i[r]=this._toType(f)}if(e.nodeType===3)return i.value=i.value||this._toType(e.textContent),i;var d=e.childNodes;if(d)for(o=0;o<d.length;o++){var t=d[o],c=t.tagName;c&&(c==="items"&&t.childNodes?i[c]=this._getRows(t.childNodes):this._haveAttrs(t)?i[c]=this._nodeToJS(t):i[c]=this._toType(t.textContent))}return i},a.prototype._toType=function(e){return e==="false"||e==="true"?e==="true":isNaN(e)?e:Number(e)},a.prototype._haveAttrs=function(e){return e.attributes&&e.attributes.length},a}();p.XMLDriver=g},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.jsonToXML=void 0;var x=4;function w(a){return" ".repeat(a)}function g(a,e){e===void 0&&(e=x);var i=w(e)+`<item>
`;for(var u in a)Array.isArray(a[u])?(i+=w(e+x)+"<".concat(u,`>
`),i+=a[u].map(function(o){return g(o,e+2*x)}).join(`
`)+`
`,i+=w(e+x)+"</".concat(u,`>
`)):i+=w(e+x)+"<".concat(u,">").concat(a[u],"</").concat(u,`>
`);return i+=w(e)+"</item>"}p.jsonToXML=function(a,e){e===void 0&&(e="root");for(var i=`<?xml version="1.0" encoding="iso-8859-1"?>
<`.concat(e,">"),u=0;u<a.length;u++)i+=`
`+g(a[u]);return i+`
</`.concat(e,">")}},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.Sort=void 0;var x=b(13),w=function(){function g(){}return g.prototype.sort=function(a,e,i){this._createSorter(e),i===e&&(e=null),(i||e)&&this._sort(a,i,e)},g.prototype._createSorter=function(a){var e=this;a&&!a.rule&&(a.rule=function(i,u){var o=e._checkVal(a.as,i[a.by]),h=e._checkVal(a.as,u[a.by]);return(0,x.naturalCompare)(o.toString(),h.toString())})},g.prototype._checkVal=function(a,e){return a?a.call(this,e):e},g.prototype._sort=function(a,e,i){var u=this,o={asc:1,desc:-1};return a.sort(function(h,r){var f=0;return e&&(f=e.rule.call(u,h,r)*(o[e.dir]||o.asc)),f===0&&i&&(f=i.rule.call(u,h,r)*(o[i.dir]||o.asc)),f})},g}();p.Sort=w},function($,p,b){var x,w=this&&this.__extends||(x=function(f,d){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,c){t.__proto__=c}||function(t,c){for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(t[l]=c[l])},x(f,d)},function(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function t(){this.constructor=f}x(f,d),f.prototype=d===null?Object.create(d):(t.prototype=d.prototype,new t)}),g=this&&this.__spreadArray||function(f,d,t){if(t||arguments.length===2)for(var c,l=0,n=d.length;l<n;l++)!c&&l in d||(c||(c=Array.prototype.slice.call(d,0,l)),c[l]=d[l]);return f.concat(c||Array.prototype.slice.call(d))};Object.defineProperty(p,"__esModule",{value:!0}),p.TreeCollection=void 0;var a=b(1),e=b(49),i=b(20),u=b(13),o=b(12);function h(f,d,t,c){c!==void 0&&c!==-1&&f[t]&&f[t][c]?f[t].splice(c,0,d):(f[t]||(f[t]=[]),f[t].push(d))}var r=function(f){function d(t,c){var l,n=f.call(this,t,c)||this;n._childs={};var s=n._root=t&&t.rootId||"_ROOT_"+(0,a.uid)();return n._childs=((l={})[s]=[],l),n._initChilds=null,n}return w(d,f),d.prototype.add=function(t,c,l){var n=this;if(c===void 0&&(c=-1),l===void 0&&(l=this._root),this.events.fire(o.DataEvents.beforeAdd,[t]))return typeof t!="object"&&(t={value:t}),Array.isArray(t)?t.map(function(s,_){return n._add(s,c,l,_)}):this._add(t,c,l)},d.prototype.getRoot=function(){return this._root},d.prototype.getParent=function(t,c){if(c===void 0&&(c=!1),!this._pull[t])return null;var l=this._pull[t].parent;return c?this._pull[l]:l},d.prototype.getItems=function(t){return this._childs&&this._childs[t]?this._childs[t]:[]},d.prototype.getLength=function(t){return t===void 0&&(t=this._root),this._childs[t]?this._childs[t].length:null},d.prototype.removeAll=function(t){var c;if(t){if(this._childs[t])for(var l=0,n=g([],this._childs[t],!0);l<n.length;l++){var s=n[l];this.remove(s.id)}}else{f.prototype.removeAll.call(this);var _=this._root;this._initChilds=null,this._childs=((c={})[_]=[],c)}},d.prototype.getIndex=function(t){var c=this.getParent(t);return c&&this._childs[c]?(0,a.findIndex)(this._childs[c],function(l){return l.id===t}):-1},d.prototype.sort=function(t){var c=this;if(t){for(var l in this._childs)this._sort.sort(this._childs[l],t);if(this._initChilds&&Object.keys(this._initChilds).length)for(var l in this._initChilds)this._sort.sort(this._initChilds[l],t)}else this._childs={},this._parse_data(Object.keys(this._pull).map(function(n){return c._pull[n]})),this._filters&&this.filter(this._filters.filters,this._filters.config);this.events.fire(o.DataEvents.change)},d.prototype.filter=function(t,c){var l=this;if(c===void 0&&(c={}),t){if(this._initChilds||(this._initChilds=this._childs),c.type=c.type||o.TreeFilterType.all,this._filters={filters:{},config:c},typeof t!="function")if(t.by)this._filters.filters[t.by]=t;else for(var n in t)this._filters.filters[n]=t[n];else this._filters.filters=t;var s={};this._recursiveFilter(this._filters.filters,c,this._root,0,s),Object.keys(s).forEach(function(_){for(var v=l.getParent(_),m=l.getItem(_);v;)s[v]||(s[v]=[]),m&&!s[v].find(function(y){return y.id===m.id})&&s[v].push(m),m=l.getItem(v),v=l.getParent(v)}),this._childs=s,this.events.fire(o.DataEvents.change)}else this.restoreOrder()},d.prototype.restoreOrder=function(){this._initChilds&&(this._childs=this._initChilds,this._initChilds=null),this.events.fire(o.DataEvents.change)},d.prototype.copy=function(t,c,l,n){var s=this;return l===void 0&&(l=this),n===void 0&&(n=this._root),t instanceof Array?t.map(function(_,v){return s._copy(_,c,l,n,v)}):this._copy(t,c,l,n)},d.prototype.move=function(t,c,l,n){var s=this;return l===void 0&&(l=this),n===void 0&&(n=this._root),t instanceof Array?t.map(function(_,v){return s._move(_,c,l,n,v)}):this._move(t,c,l,n)},d.prototype.forEach=function(t,c,l){if(c===void 0&&(c=this._root),l===void 0&&(l=1/0),this.haveItems(c)&&!(l<1))for(var n=this._childs[c],s=0;s<n.length;s++)t.call(this,n[s],s,n),this.haveItems(n[s].id)&&this.forEach(t,n[s].id,--l)},d.prototype.eachChild=function(t,c,l,n){if(l===void 0&&(l=!0),n===void 0&&(n=function(){return!0}),this.haveItems(t))for(var s=0;s<this._childs[t].length;s++)c.call(this,this._childs[t][s],s),l&&n(this._childs[t][s])&&this.eachChild(this._childs[t][s].id,c,l,n)},d.prototype.getNearId=function(t){return t},d.prototype.loadItems=function(t,c){var l=this;c===void 0&&(c=o.DataDriver.json);var n=this.config.autoload+"?id="+t;new i.DataProxy(n).load().then(function(s){s=(c=(0,u.toDataDriver)(c)).toJsonArray(s),l._parse_data(s,t),l.events.fire(o.DataEvents.change)})},d.prototype.refreshItems=function(t,c){c===void 0&&(c=o.DataDriver.json),this.removeAll(t),this.loadItems(t,c)},d.prototype.eachParent=function(t,c,l){l===void 0&&(l=!1);var n=this.getItem(t);if(n&&(l&&c.call(this,n),n.parent!==this._root)){var s=this.getItem(n.parent);c.call(this,s),this.eachParent(n.parent,c)}},d.prototype.haveItems=function(t){return t in this._childs},d.prototype.canCopy=function(t,c){if(t===c)return!1;var l=!0;return this.eachParent(c,function(n){return n.id===t?l=!1:null}),l},d.prototype.serialize=function(t,c){t===void 0&&(t=o.DataDriver.json);var l=this._serialize(this._root,c),n=(0,u.toDataDriver)(t);if(n)return n.serialize(l)},d.prototype.getId=function(t,c){if(c===void 0&&(c=this._root),this._childs[c]&&this._childs[c][t])return this._childs[c][t].id},d.prototype.map=function(t,c,l){c===void 0&&(c=this._root),l===void 0&&(l=!0);var n=[];if(!this.haveItems(c))return n;for(var s=0;s<this._childs[c].length;s++)if(n.push(t.call(this,this._childs[c][s],s,this._childs)),l){var _=this.map(t,this._childs[c][s].id,l);n=n.concat(_)}return n},d.prototype.getRawData=function(t,c,l,n,s){var _;return s=s||this._root,this._childs[s]?(_=s===this._root?f.prototype.getRawData.call(this,t,c,this._childs[s]):this._childs[s],n===2?this.flatten(_):_):[]},d.prototype.flatten=function(t){var c=this,l=[];return t.forEach(function(n){l.push(n);var s=c._childs[n.id];s&&n.$opened&&(l=l.concat(c.flatten(s)))}),l},d.prototype._add=function(t,c,l,n){c===void 0&&(c=-1),l===void 0&&(l=this._root),t.parent=t.parent?t.parent.toString():l,n>0&&c!==-1&&(c+=1);var s=f.prototype._add.call(this,t,c);if(Array.isArray(t.items))for(var _=0,v=t.items;_<v.length;_++){var m=v[_];this.add(m,-1,t.id)}return s},d.prototype._copy=function(t,c,l,n,s){if(l===void 0&&(l=this),n===void 0&&(n=this._root),!this.exists(t))return null;var _=this._childs[t];if(s&&(c=c===-1?-1:c+s),l===this&&!this.canCopy(t,n))return null;var v=(0,u.copyWithoutInner)(this.getItem(t),{items:!0});if(l.exists(t)&&(v.id=(0,a.uid)()),(0,u.isTreeCollection)(l)){if(this.exists(t)&&(v.parent=n,l!==this&&n===this._root&&(v.parent=l.getRoot()),l.add(v,c),t=v.id),_)for(var m=0,y=_;m<y.length;m++){var C=y[m].id,E=this.getIndex(C);typeof t=="string"&&this.copy(C,E,l,t)}return t}l.add(v,c)},d.prototype._move=function(t,c,l,n,s){if(l===void 0&&(l=this),n===void 0&&(n=this._root),!this.exists(t))return null;if(s&&(c=c===-1?-1:c+s),l!==this){if(!(0,u.isTreeCollection)(l))return l.add((0,u.copyWithoutInner)(this.getItem(t)),c),void this.remove(t);var _=this.copy(t,c,l,n);return this.remove(t),_}if(!this.canCopy(t,n))return null;var v=this.getParent(t),m=this.getIndex(t),y=this._childs[v].splice(m,1)[0];return y.parent=n,this._childs[v].length||delete this._childs[v],this.haveItems(n)||(this._childs[n]=[]),c===-1?c=this._childs[n].push(y):this._childs[n].splice(c,0,y),this.events.fire(o.DataEvents.change,[t,"update",this.getItem(t)]),t},d.prototype._reset=function(t){var c;if(t)for(var l=0,n=g([],this._childs[t],!0);l<n.length;l++){var s=n[l];this.remove(s.id)}else{f.prototype._reset.call(this);var _=this._root;this._initChilds=null,this._childs=((c={})[_]=[],c)}},d.prototype._removeCore=function(t){if(this._pull[t]){var c=this.getParent(t);this._childs[c]=this._childs[c].filter(function(l){return l.id!==t}),c===this._root||this._childs[c].length||delete this._childs[c],this._initChilds&&this._initChilds[c]&&(this._initChilds[c]=this._initChilds[c].filter(function(l){return l.id!==t}),c===this._root||this._initChilds[c].length||delete this._initChilds[c]),this._fastDeleteChilds(this._childs,t),this._initChilds&&this._fastDeleteChilds(this._initChilds,t)}},d.prototype._addToOrder=function(t,c,l){var n=this._childs,s=this._initChilds,_=c.parent;this._pull[c.id]=c,c.parent&&this._pull[c.parent]&&this._pull[c.parent].items&&!this._pull[c.parent].items.find(function(v){return v.id===c.id})&&this._pull[c.parent].items.push(c),f.prototype._addToOrder.call(this,t,c,l),h(n,c,_,l),s&&h(s,c,_,l)},d.prototype._parse_data=function(t,c){var l;c===void 0&&(c=this._root);for(var n=this._order.length,s=0,_=t;s<_.length;s++){var v=_[s];this.config.init&&(v=this.config.init(v)),v&&typeof v!="object"&&(v={value:v}),v.id=(l=v.id)!==null&&l!==void 0?l:(0,a.uid)(),v.parent=v.parent===void 0||v.parent===null||v.parent&&v.$items?c:v.parent,this._pull[v.id]&&(0,u.dhxError)("Item ".concat(v.id," already exist")),this._pull[v.id]=v,this._order[n++]=v,this._childs[v.parent]||(this._childs[v.parent]=[]),this._childs[v.parent].push(v),v.items&&v.items instanceof Object&&this._parse_data(v.items,v.id)}},d.prototype._fastDeleteChilds=function(t,c){if(this._pull[c]&&delete this._pull[c],t[c]){for(var l=0;l<t[c].length;l++)this._fastDeleteChilds(t,t[c][l].id);delete t[c]}},d.prototype._recursiveFilter=function(t,c,l,n,s){var _=this,v=this._childs[l];if(v){var m=function(M){switch(c.type){case o.TreeFilterType.all:return!0;case o.TreeFilterType.level:return n===c.level;case o.TreeFilterType.leafs:return!_.haveItems(M.id)}};if(typeof t=="function"){var y=function(M){return m(M)&&t(M)};(C=v.filter(y)).length&&(s[l]=C)}else{var C;y=function(M){var T=!0;for(var I in t)if(t[I].by&&t[I].match!==""&&(T=M[t[I].by]&&M[t[I].by].toString().toLocaleLowerCase().indexOf(t[I].match.toString().toLowerCase())!==-1),!T)break;return m(M)&&T},(C=v.filter(y)).length&&(s[l]=C)}for(var E=0,k=v;E<k.length;E++){var S=k[E];this._recursiveFilter(t,c,S.id,n+1,s)}}},d.prototype._serialize=function(t,c){var l=this;return t===void 0&&(t=this._root),this.map(function(n){var s={};for(var _ in n)_==="parent"||_==="items"||_.startsWith("$")||(s[_]=n[_]);return c&&(s=c(s)),l.haveItems(n.id)&&(s.items=l._serialize(n.id,c)),s},t,!1)},d}(e.DataCollection);p.TreeCollection=r},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(r){for(var f,d=1,t=arguments.length;d<t;d++)for(var c in f=arguments[d])Object.prototype.hasOwnProperty.call(f,c)&&(r[c]=f[c]);return r},x.apply(this,arguments)},w=this&&this.__spreadArray||function(r,f,d){if(d||arguments.length===2)for(var t,c=0,l=f.length;c<l;c++)!t&&c in f||(t||(t=Array.prototype.slice.call(f,0,c)),t[c]=f[c]);return r.concat(t||Array.prototype.slice.call(f))};Object.defineProperty(p,"__esModule",{value:!0}),p.dragManager=void 0;var g=b(2),a=b(108),e=b(137),i=b(12),u=b(13),o=function(){function r(){var f=this;this._transferData={},this._canMove=!0,this._isDrag=!1,this._onMouseMove=function(d){if(f._transferData.start){var t=d.targetTouches?d.targetTouches[0].pageX:d.pageX,c=d.targetTouches?d.targetTouches[0].pageY:d.pageY,l=f._transferData,n=l.x,s=l.y,_=l.start,v=l.componentId;if(!f._transferData.ghost){if(Math.abs(n-t)<3&&Math.abs(s-c)<3)return;var m=f._onDragStart(_,v,d);if(!m)return void f._endDrop(d);f._transferData.ghost=m,document.body.appendChild(f._transferData.ghost)}f._moveGhost(t,c),f._onDrag(d)}},this._onMouseUp=function(d){f._transferData.x&&(f._transferData.ghost?(f._removeGhost(),f._onDrop(d)):f._endDrop(d),d.targetTouches?(document.removeEventListener("touchmove",f._onMouseMove),document.removeEventListener("touchend",f._onMouseUp)):(document.removeEventListener("mousemove",f._onMouseMove),document.removeEventListener("mouseup",f._onMouseUp)))}}return r.prototype.setItem=function(f,d){e.collectionStore.setItem(f,d)},r.prototype.onMouseDown=function(f,d,t){if(f.which===1||f.targetTouches){f.targetTouches?(document.addEventListener("touchmove",this._onMouseMove,!1),document.addEventListener("touchend",this._onMouseUp,!1)):(document.addEventListener("mousemove",this._onMouseMove),document.addEventListener("mouseup",this._onMouseUp));var c=(0,g.locateNode)(f,"dhx_id"),l=c&&c.getAttribute("dhx_id"),n=(0,g.locate)(f,"dhx_widget_id");if(Array.isArray(d)&&d.includes(l)?(this._transferData.source=w([],d,!0),this._itemsForGhost=t):(this._transferData.source=[l],this._itemsForGhost=null),l&&n){var s=(0,g.getBox)(c),_=s.left,v=s.top,m=f.targetTouches?f.targetTouches[0].pageX:f.pageX,y=f.targetTouches?f.targetTouches[0].pageY:f.pageY;this._transferData.initXOffset=m-_,this._transferData.initYOffset=y-v,this._transferData.x=m,this._transferData.y=y,this._transferData.componentId=n,this._transferData.start=l,this._transferData.item=c}}},r.prototype.isDrag=function(){return this._isDrag},r.prototype.cancelCanDrop=function(f){this._canMove=!1,this._isDrag=!1;var d=this._transferData,t=d.start,c=d.source,l=d.target,n=d.dropComponentId,s={start:t,source:c,target:l},_=e.collectionStore.getItem(n);_&&l&&_.events.fire(i.DragEvents.cancelDrop,[s,f]),this._transferData.dropComponentId=null,this._transferData.target=null},r.prototype._moveGhost=function(f,d){this._transferData.ghost&&(this._transferData.ghost.style.left=f-this._transferData.initXOffset+"px",this._transferData.ghost.style.top=d-this._transferData.initYOffset+"px")},r.prototype._removeGhost=function(){document.body.removeChild(this._transferData.ghost)},r.prototype._onDrop=function(f){if(this._canMove){var d=this._transferData,t=d.start,c=d.source,l=d.target,n=d.dropComponentId,s={start:t,source:c,target:l,dropPosition:d.dropPosition},_=e.collectionStore.getItem(n),v=_&&_.config;if(_&&v.dragMode!=="source"){if(_.events.fire(i.DragEvents.beforeDrop,[s,f])){var m={id:l,component:_},y={id:t,component:this._transferData.component};this._move(y,m),m.component.events.fire(i.DragEvents.afterDrop,[s,f])}this._endDrop(f)}else this._endDrop(f)}else this._endDrop(f)},r.prototype._onDragStart=function(f,d,t){var c=e.collectionStore.getItem(d),l=c.config,n=this._transferData,s={start:n.start,source:n.source,target:n.target};if(l.dragMode==="target"||c._pregroupData)return null;var _=function(v,m,y){y===void 0&&(y=!1);var C=v.getBoundingClientRect(),E=document.createElement("div"),k=v.cloneNode(!0);return k.style.width=C.width+"px",k.style.height=C.height+"px",k.style.maxHeight=C.height+"px",k.style.fontSize=window.getComputedStyle(v.parentElement).fontSize,k.style.opacity="0.8",k.style.fontSize=window.getComputedStyle(v.parentElement).fontSize,y&&m&&m.length||E.appendChild(k),m&&m.length&&m.forEach(function(S,M){var T=S.cloneNode(!0);T.style.width=C.width+"px",T.style.height=C.height+"px",T.style.maxHeight=C.height+"px",T.style.top=12*(M+1)-C.height-C.height*M+"px",T.style.left=12*(M+1)+"px",T.style.opacity="0.6",T.style.zIndex="".concat(-M-1),E.appendChild(T)}),E.className="dhx_drag-ghost",E}(this._transferData.item,this._itemsForGhost,l.dragItem==="column"||l.dragItem==="both");return c.events.fire(i.DragEvents.beforeDrag,[s,t,_])&&f?(c.events.fire(i.DragEvents.dragStart,[s,t]),this._isDrag=!0,this._toggleTextSelection(!0),this._transferData.component=c,this._transferData.dragConfig=l,_):null},r.prototype._onDrag=function(f){var d=f.targetTouches?f.targetTouches[0].clientX:f.clientX,t=f.targetTouches?f.targetTouches[0].clientY:f.clientY,c=document.elementFromPoint(d,t),l=(0,g.locate)(c,"dhx_widget_id");if(l){var n=e.collectionStore.getItem(l),s=!!(0,g.locateNodeByClassName)(c,"dhx_grid-header")||!!(0,g.locateNodeByClassName)(c,"dhx_grid-footer"),_=n&&n.config.columns?n.config:void 0,v=_&&(_.dragItem==="both"||_.dragItem==="column");if(!s||v){var m=(0,g.locate)(c,"dhx_id"),y=(0,g.locate)(c,"dhx_root_id");if(!m&&!y)return this.cancelCanDrop(f),this._transferData.dropComponentId=l,this._transferData.target=null,void this._canDrop(f);var C=this._transferData,E=C.dropComponentId,k=C.start,S=C.source,M=C.target,T=C.componentId,I=C.dropPosition;if(n.config.dropBehaviour==="complex"){var O=function(F){var R=F.clientY,A=(0,g.locateNode)(F);if(!A)return null;var V=A.childNodes[0];if(V){var z=V.getBoundingClientRect();return(R-z.top)/z.height}}(f);this._transferData.dropPosition=O<=.25?"top":O>=.75?"bottom":"in"}else if((M===m||M===y)&&E===l)return;var H={id:k,component:this._transferData.component};n.config.dragMode!=="source"&&(H.component.events.fire(i.DragEvents.dragOut,[{start:k,source:S,target:M},f]),l!==T||!(0,u.isTreeCollection)(H.component.data)||(0,u.isTreeCollection)(H.component.data)&&H.component.data.canCopy(H.id,m)?(this.cancelCanDrop(f),this._transferData.target=m||y,this._transferData.dropComponentId=l,H.component.events.fire(i.DragEvents.dragIn,[{start:k,source:S,target:M,dropPosition:I},f])&&this._canDrop(f)):this.cancelCanDrop(f))}else this._canMove&&this.cancelCanDrop(f)}else this._canMove&&this.cancelCanDrop(f)},r.prototype._move=function(f,d){var t=f.component.data,c=d.component.data,l=0,n=d.id,s=(0,u.isTreeCollection)(c)?d.component.config.dropBehaviour:void 0,_=f.component.config.columns?f.component.config:void 0,v=_&&(_.dragItem==="both"||_.dragItem==="column")&&_.columns.map(function(F){return F.id}).filter(function(F){return F===f.id||F===d.id}).length;if(v&&f.component===d.component){if(f.id===d.id)return;var m=(y=(C=f.component).config.columns.map(function(F){return x({},F)})).findIndex(function(F){return F.id===f.id});return(S=y.findIndex(function(F){return F.id===d.id}))===-1?void 0:(y.splice(S,0,y.splice(m,1)[0]),C.setColumns(y),void C.paint())}if(v&&f.component instanceof a.ProGrid&&d.component instanceof a.ProGrid){var y,C=f.component,E=d.component,k=(m=(y=C.config.columns.map(function(F){return x({},F)})).findIndex(function(F){return F.id===f.id}),E.config.columns.map(function(F){return x({},F)})),S=k.findIndex(function(F){return F.id===d.id}),M=k.findIndex(function(F){return F.id===f.id})>=0?"".concat(f.id,"_copy"):f.id,T=[];C.data.forEach(function(F){var R;T.push(((R={})[M]=F[f.id],R))}),E.data.forEach(function(F,R){E.data.update(F.id,x(x({},F),T[R]))});var I=y.splice(m,1)[0];return I.id=M,k.splice(S,0,I),E.setColumns(k),E.paint(),C.setColumns(y),void C.paint()}var O=d.id===d.component.config.rootParent;switch(s){case"child":break;case"sibling":n=c.getParent(n),l=c.getIndex(d.id)+1;break;case"complex":var H=this._transferData.dropPosition;O?(n=d.id,l=c.getLength()):H==="top"?(n=c.getParent(n),l=c.getIndex(d.id)):H==="bottom"&&(n=c.getParent(n),l=c.getIndex(d.id)+1);break;default:l=d.id?f.component===d.component&&c.getIndex(f.id)<c.getIndex(d.id)?c.getIndex(d.id)-1:c.getIndex(d.id):-1}this._transferData.dragConfig.dragCopy?this._transferData.source instanceof Array&&this._transferData.source.length>1?this._transferData.source.map(function(F){t.copy(F,l,c,n),l>-1&&l++}):t.copy(f.id,l,c,n):this._transferData.source instanceof Array&&this._transferData.source.length>1?this._transferData.source.map(function(F){t.move(F,l,c,n),l>-1&&l++}):t.move(f.id,l,c,n)},r.prototype._endDrop=function(f){if(this._toggleTextSelection(!1),this._transferData.component){var d=this._transferData,t={start:d.start,source:d.source,target:d.target};this._transferData.component.events.fire(i.DragEvents.afterDrag,[t,f])}this.cancelCanDrop(f),this._canMove=!0,this._transferData={},this._transferData.target=null,this._transferData.dropComponentId=null},r.prototype._canDrop=function(f){this._canMove=!0;var d=this._transferData,t={start:d.start,source:d.source,target:d.target,dropPosition:d.dropPosition},c=e.collectionStore.getItem(this._transferData.dropComponentId);c&&this._transferData.target&&c.events.fire(i.DragEvents.canDrop,[t,f])},r.prototype._toggleTextSelection=function(f){f?document.body.classList.add("dhx_no-select"):document.body.classList.remove("dhx_no-select")},r}(),h=window.dhxHelpers=window.dhxHelpers||{};h.dragManager=h.dragManager||new o,p.dragManager=h.dragManager},function($,p,b){var x=this&&this.__createBinding||(Object.create?function(a,e,i,u){u===void 0&&(u=i);var o=Object.getOwnPropertyDescriptor(e,i);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(a,u,o)}:function(a,e,i,u){u===void 0&&(u=i),a[u]=e[i]}),w=this&&this.__exportStar||function(a,e){for(var i in a)i==="default"||Object.prototype.hasOwnProperty.call(e,i)||x(e,a,i)};Object.defineProperty(p,"__esModule",{value:!0}),p.getTreeCell=void 0,w(b(53),p),w(b(136),p),w(b(3),p),w(b(26),p);var g=b(35);Object.defineProperty(p,"getTreeCell",{enumerable:!0,get:function(){return g.getTreeCell}}),w(b(14),p),w(b(8),p)},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(u){for(var o,h=1,r=arguments.length;h<r;h++)for(var f in o=arguments[h])Object.prototype.hasOwnProperty.call(o,f)&&(u[f]=o[f]);return u},x.apply(this,arguments)},w=this&&this.__spreadArray||function(u,o,h){if(h||arguments.length===2)for(var r,f=0,d=o.length;f<d;f++)!r&&f in o||(r||(r=Array.prototype.slice.call(o,0,f)),r[f]=o[f]);return u.concat(r||Array.prototype.slice.call(o))};Object.defineProperty(p,"__esModule",{value:!0}),p.Exporter=void 0;var g=b(8),a=b(7),e=b(1),i=function(){function u(o){this._view=o}return u.prototype.xlsx=function(o){return this._export(o)},u.prototype.csv=function(o){var h;o===void 0&&(o={}),o=x({asFile:!0,rowDelimiter:`
`,columnDelimiter:",",skipHeader:0},o),h="getRoot"in this._view.data&&o.flat?this.getFlatCSV(o):this._getCSV(o);var r=o.name||"grid_export";return o.asFile&&(0,e.downloadFile)(h,"".concat(r,".csv"),"text/csv"),h},u.prototype._export=function(o){o===void 0&&(o={});for(var h=this._view.config.columns.filter(function(M){return!M.hidden}),r={},f=(0,g.transpose)(h.map(function(M){return M.header.map(function(T){return T.text||" "})})),d=[],t={default:{color:"#000000",background:"#FFFFFF",fontSize:14}},c=[],l={},n=this._view.data.serialize().map(function(M,T){r[M.id]=T;var I=h.map(function(O,H){return l[O.id]=H,(0,g.removeHTMLTags)(M[O.id])});return I}),s=[],_=this._view.content,v=function(M){if(M.footer){var T=M.id,I=m._view.data.serialize().reduce(function(Q,U){return U[T]===void 0||U[T]===""||isNaN(U[T])||Q.push(parseFloat(U[T])),Q},[]),O=I;if(m._view.config.type==="tree"){var H=m._view.data;O=H.serialize().reduce(function(Q,U){if(U.$level===0)if(U[T]===void 0||U[T]===""||isNaN(U[T])){var K=0;H.eachChild(U.id,function(Z){H.haveItems(Z.id)||(K+=parseFloat(Z[T]))}),Q.push(K)}else Q.push(parseFloat(U[T])||0);return Q},[])}if(M.footer[0].content){var F=_[M.footer[0].content].calculate(I,O);s.push(F)}else s.push(M.footer[0].css||M.footer[0].text||" ")}for(var R in d.push({width:M.width}),M.$cellCss){var A=M.$cellCss[R],V=A.split("").reduce(function(Q,U){var K=(Q<<5)-Q+U.charCodeAt(0);return Math.abs(0|K)},0).toString();if(!t[V]){var z=document.body,Y=(0,g.getStyleByClass)(A,z,"dhx_grid-row",t.default);Y&&(t[V]=Y)}t[V]&&c.push([r[R],h.indexOf(M),V])}},m=this,y=0,C=h;y<C.length;y++)v(C[y]);s.length&&n.push(s);var E={name:o.name||"data",columns:d,header:f,data:n,styles:{cells:c,css:t}};if(o.url){var k=document.createElement("form");k.setAttribute("target","_blank"),k.setAttribute("action",o.url),k.setAttribute("method","POST"),k.style.visibility="hidden";var S=document.createElement("textarea");S.setAttribute("name","data"),S.value=JSON.stringify(E),k.appendChild(S),document.body.appendChild(k),k.submit(),setTimeout(function(){k.parentNode.removeChild(k)},100)}return E},u.prototype.getFlatCSV=function(o){var h=this._view.data,r=h.getRoot(),f=this._view.config.columns[0],d=h.getMaxLevel(),t="";h.eachChild(r,function(s){var _=function(v,m){for(var y=[],C=0;C<=d;C++)if(v&&v[f.id]){y[v.$level]=v[f.id];var E=m.getParent(v.id,!0);v=E&&E.id?E:null}else y[C]="";return y}(s,h).join(o.columnDelimiter);t+=_+Object.keys(s).reduce(function(v,m,y){return m==="id"||m==="parent"||m.startsWith("$")||y===0?v:v+o.columnDelimiter+(s[m]===null?"":s[m])},""),t+=o.rowDelimiter});var c=this._export(o),l=function(s,_){for(var v=0;v<s.length;v++)s[v]=_;return s}(new Array(d+1),""),n=c.header.map(function(s){return s.splice.apply(s,w([0,1],l,!1)),s});return new a.CsvDriver(o).serialize(n,!0)+o.rowDelimiter+t},u.prototype._getCSV=function(o){var h=this._export(o),r=h.header,f=new a.CsvDriver(o);return f.serialize(r,!0)+`
`+f.serialize(h.data,!0)},u}();p.Exporter=i},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.Selection=void 0;var x=b(0),w=b(1),g=b(7),a=b(5),e=b(3),i=b(19),u=function(){function o(h,r,f,d){this._grid=h,this.config=r,this._gridId=d,this._selectedCell=void 0,this._oldSelectedCell=void 0,this._selectedCells=[],this._type=["cell","row","complex"].includes(this._grid.config.selection)?this._grid.config.selection:"complex",this._multiselection=h.config.multiselection&&this._type!=="complex",this.events=f||new a.EventSystem(this),this._init()}return o.prototype.setCell=function(h,r,f,d){var t=this;if(f===void 0&&(f=!1),d===void 0&&(d=!1),this._gridId&&i.focusManager.getFocusId()!==this._gridId&&i.focusManager.setFocusId(this._gridId),!(this.config.disabled||this._grid.config.$editable||!this._multiselection&&this._oldSelectedCell&&this._oldSelectedCell.row.id===(h&&h.id||h)&&this._oldSelectedCell.column.id===(r&&r.id||r)||this._multiselection&&this._selectedCells.length===1&&this._selectedCells[0].row.id===(h&&h.id||h)&&this._selectedCells[0].column.id===(r&&r.id||r)))if((!this._multiselection||f||d)&&this._multiselection||this._selectedCells.length&&this._removeCells(),this._multiselection&&this._type==="cell"&&this._selectedCells.find(function(k){return k.row.id===(h&&h.id||h)&&k.column.id===(r&&r.id||r)}))this.removeCell(h&&h.id||h,r&&r.id||r);else{var c=this._oldSelectedCell?this._oldSelectedCell:void 0;h=this._grid.data.getItem(h&&h.id||h);var l=this._grid.config.columns.filter(function(k){return!k.hidden});if(r||(r=l[0]),(r=this._grid.getColumn(r.id||r))&&h&&(r=r.id?r:this._grid.getColumn(r),this.events.fire(e.GridSelectionEvents.beforeSelect,[h,r]))){if(this._selectedCell={row:h,column:r},this.events.fire(e.GridSelectionEvents.afterSelect,[h,r]),this._multiselection&&d&&c?this._oldSelectedCell=c:this._oldSelectedCell=this._selectedCell,this._multiselection)if(d&&!f&&this._selectedCells.length>0){var n=this._grid.data.getIndex(this._oldSelectedCell.row.id),s=this._grid.data.getIndex(h.id);if(n>s){var _=n;n=s,s=_}if(this._selectedCells=[this._oldSelectedCell],this._type==="cell"){var v=l.map(function(k){return k.id}),m=v.indexOf(c.column.id),y=v.indexOf(r.id);if(m!==-1&&y!==-1){m>y&&(_=m,m=y,y=_);var C=l.slice(m,y+1);this._grid.data.mapRange(n,s,function(k){C.forEach(function(S){var M={row:k,column:S};t._findIndex(M)===-1&&t._selectedCells.push(M)})})}}else this._grid.data.mapRange(n,s,function(k){var S={row:k,column:r};t._findIndex(S)===-1&&t._selectedCells.push(S)})}else if(f&&!d){var E=this._findIndex();E===-1?this._selectedCells.push({row:this._selectedCell.row,column:this._selectedCell.column}):this._selectedCells.length>1&&this._selectedCells.splice(E,1)}else this._selectedCells=[this._selectedCell];else this._selectedCells=[this._selectedCell];(0,x.awaitRedraw)().then(function(){t._grid.paint(),t._setBrowserFocus()})}}},o.prototype.getCell=function(){return this._selectedCell},o.prototype.getCells=function(){return this._selectedCells},o.prototype.toHTML=function(){var h=this;if(!this._isUnselected()){if(this._multiselection){var r=[];return this._selectedCells.forEach(function(f,d,t){r.push(h._toHTML(f.row,f.column,d===t.length-1||h._type==="cell"))}),r}return this._toHTML(this._selectedCell.row,this._selectedCell.column,!0)}},o.prototype.disable=function(){this.removeCell(),this.config.disabled=!0,this._grid.paint()},o.prototype.enable=function(){this.config.disabled=!1,this._grid.paint()},o.prototype.removeCell=function(h,r){var f=this;if(h&&r&&this._type==="cell"){var d=this._selectedCells.find(function(t){var c=t.row,l=t.column;return c.id==h&&l.id==r});d&&this._removeCell(d.row,d.column)}else h?this._selectedCells.filter(function(t){return t.row.id==h}).forEach(function(t){var c=t.row,l=t.column;f._removeCell(c,l)}):this._removeCells();(0,x.awaitRedraw)().then(function(){f._grid.paint()})},o.prototype._removeCell=function(h,r){if(h&&r&&h.id&&r.id&&this.events.fire(e.GridSelectionEvents.beforeUnSelect,[h,r])){var f=this._selectedCells.findIndex(function(d){return d.row.id===h.id&&d.column.id===r.id});this._selectedCells.splice(f,1),this._selectedCell&&r.id===this._selectedCell.column.id&&h.id===this._selectedCell.row.id&&(this._selectedCell=this._selectedCells[this._selectedCells.length-1]||void 0),this.events.fire(e.GridSelectionEvents.afterUnSelect,[h,r])}},o.prototype._removeCells=function(){var h=this;this._selectedCells.forEach(function(r){h._removeCell(r&&r.row,r&&r.column)}),this._selectedCells.length&&this._removeCells()},o.prototype._init=function(){var h=this;this._grid.events.on(e.GridEvents.cellClick,function(r,f,d){h.setCell(r,f,d.ctrlKey||d.metaKey,d.shiftKey)}),this._grid.data.events.on(g.DataEvents.beforeRemove,function(r){if(r&&h._selectedCell&&h._selectedCell.row){var f=h._grid.data.getIndex(String(h._selectedCell.row.id)),d=h._grid.data.getId(f+1);if(d)h.setCell(d);else{var t=h._grid.data.getId(f-1);t&&h.setCell(t)}h._grid.paint()}})},o.prototype._toHTML=function(h,r,f){f===void 0&&(f=!1);var d=this._grid.data.getRawData(0,-1,null,2);if((0,w.findIndex)(d,function(E){return E.id==h.id})===-1)return null;var t,c=this._grid.config.columns.filter(function(E){return!E.hidden}),l=this._grid.config.leftSplit?c.slice(0,this._grid.config.leftSplit):[],n=l.map(function(E){return E.id}),s=l.reduce(function(E,k){return E+k.$width},0),_=this._grid.getCellRect(h.id,r.id),v=this._grid.getScrollState();n.includes(r.id)&&f&&(t=(0,x.el)(".dhx_grid-selected-cell",{style:{width:this._grid.config.leftSplit===n.indexOf(r.id)+1?_.width-1:_.width,height:_.height,top:_.y,left:_.x+v.x,position:"absolute",zIndex:10}}));var m=l.length&&s>_.x-v.x,y=_.width;m&&(y-=s-(_.x-v.x));var C=this._grid.config.$totalWidth;return(0,x.el)(".dhx_grid-selection",{style:{zIndex:t||this._grid.config.selection==="row"||this._grid.config.selection==="complex"?20:10}},[(this._type==="row"||this._type==="complex")&&(0,x.el)(".dhx_grid-selected-row",{style:{width:l.length?C-v.x:C,height:_.height-1,top:_.y,left:l.length?v.x:0,position:"absolute"}}),(this._type==="cell"||this._type==="complex")&&t||(this._type==="cell"||this._type==="complex")&&f&&(0,x.el)(".dhx_grid-selected-cell",{style:{width:y,height:_.height-1,top:_.y,left:m?s+v.x:_.x,position:"absolute",display:y>0?"flex":"none",borderLeft:m?"none":null}})])},o.prototype._isUnselected=function(){return!this._selectedCell||!this._selectedCell.row||!this._selectedCell.column||this._selectedCells.length===0},o.prototype._findIndex=function(h){var r=this;h===void 0&&(h=this._selectedCell);var f=-1;return this._selectedCells.some(function(d,t){if(r._type==="cell"){if((0,w.compare)(d.row,h.row)&&(0,w.compare)(d.column,h.column))return f=t,!0}else if(r._type==="row"&&(0,w.compare)(d.row,h.row))return f=t,!0}),f},o.prototype._setBrowserFocus=function(){var h=this._grid.getRootView().data.getRootNode();if(h){var r=h.querySelector(".dhx_grid_data");if(r&&this._selectedCell&&this._selectedCell.row&&this._selectedCell.column){var f=r.querySelector('[dhx_id="'.concat(this._selectedCell.row.id,'"]')),d=this._grid.getSpan(this._selectedCell.row.id,this._selectedCell.column.id);if(f){var t=d?h.querySelector(".dhx_span-spans"):null,c=t?t.querySelector('[dhx_col_id="'.concat(d.column,'"][dhx_id="').concat(d.row,'"]')):f.querySelector('[dhx_col_id="'.concat(this._selectedCell.column.id,'"]'));c&&(c.tabIndex=0,c.focus({preventScroll:!0}))}}}},o}();p.Selection=u},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.getEditor=void 0;var x,w=b(3),g=b(112),a=b(113),e=b(114),i=b(123),u=b(124),o=b(131),h={cell:{row:null,col:null},editor:null,gridId:null};p.getEditor=function(r,f,d){var t=f.type==="boolean"?"checkbox":d.$editable.editorType;if(t===void 0&&(t=d.autoHeight?"textarea":"input"),h.cell.row===r.id&&h.cell.col===f.id&&h.gridId===d.gridId&&d.$editable.editor)return h.editor;switch(t!=="checkbox"&&(h={cell:{row:r.id,col:f.id},editor:h.editor,gridId:d.gridId}),x||(x=function(){h={cell:{row:null,col:null},editor:null,gridId:null}},d.events.on(w.GridEvents.afterEditEnd,x)),t){case"input":default:return h.editor=new g.InputEditor(r,f,d);case"textarea":return h.editor=new o.TextAreaEditor(r,f,d);case"select":return h.editor=new a.SelectEditor(r,f,d);case"datePicker":return h.editor=new e.DateEditor(r,f,d);case"checkbox":return new i.CheckboxEditor(r,f,d);case"multiselect":case"combobox":return h.editor=new u.ComboboxEditor(r,f,d)}}},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.InputEditor=void 0;var x=b(0),w=b(3),g=b(1),a=function(){function e(i,u,o){this._config=o,this._cell={row:i,col:u},this._initHandlers()}return e.prototype.endEdit=function(i){var u;i||(u=this._input.value),this._config.events.fire(w.GridEvents.beforeEditEnd,[u,this._cell.row,this._cell.col])?(this._input.removeEventListener("blur",this._handlers.onBlur),this._input.removeEventListener("change",this._handlers.onChange),this._cell.col.type!=="string"&&(0,g.isNumeric)(u)&&(u=parseFloat(u)),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(w.GridEvents.afterEditEnd,[u,this._cell.row,this._cell.col])):this._input.focus()},e.prototype.toHTML=function(){var i=this._cell.row[this._cell.col.id];return this._input&&(i=this._input.value),this._config.$editable.editor=this,(0,x.el)("input.dhx_cell-editor.dhx_cell-editor__input",{_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor",dhx_id:"cell_editor",value:i})},e.prototype._initHandlers=function(){var i=this;this._handlers={onBlur:function(){i.endEdit()},onChange:function(){i.endEdit()},didInsert:function(u){var o=u.el;i._input=o,o.focus(),o.setSelectionRange(0,o.value.length),o.addEventListener("change",i._handlers.onChange),o.addEventListener("blur",i._handlers.onBlur)}}},e}();p.InputEditor=a},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.SelectEditor=void 0;var x=b(0),w=b(3),g=function(){function a(e,i,u){this._config=u,this._cell={row:e,col:i},this._initHandlers()}return a.prototype.endEdit=function(e){var i;e||(i=this._input.value),this._config.events.fire(w.GridEvents.beforeEditEnd,[i,this._cell.row,this._cell.col])?(this._input.removeEventListener("blur",this._handlers.onBlur),this._input.removeEventListener("keydown",this._handlers.onkeydown),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(w.GridEvents.afterEditEnd,[i,this._cell.row,this._cell.col])):this._input.focus()},a.prototype.toHTML=function(){var e=this._cell.col.options||[],i=this._cell.row[this._cell.col.id];this._input&&(i=this._input.options[this._input.selectedIndex].value);var u=e.map(function(o){return(0,x.el)("option",{selected:o===i},o)});return this._config.$editable.editor=this,(0,x.el)("select.dhx_cell-editor.dhx_cell-editor__select",{_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor",dhx_id:"cell_editor"},u)},a.prototype._initHandlers=function(){var e=this;this._handlers={onBlur:function(){e.endEdit()},onkeydown:function(i){i.key==="Escape"&&e.endEdit()},didInsert:function(i){var u=i.el;e._input=u,u.focus(),u.addEventListener("blur",e._handlers.onBlur),u.addEventListener("keydown",e._handlers.onkeydown)}}},a}();p.SelectEditor=g},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.DateEditor=void 0;var x=b(0),w=b(3),g=b(55),a=b(25),e=b(15),i=function(){function u(o,h,r){var f=this;this._config=r,this._cell={row:o,col:h},this._calendar=new g.Calendar(null,{dateFormat:h.format});var d=this._cell.row[this._cell.col.id],t=this._calendar.config.dateFormat;((0,a.stringToDate)(d,t,!0)||d instanceof Date)&&(this._calendar.setValue(d),this._value=this._calendar.getValue(),this._cell.row[this._cell.col.id]=this._value),this._popup=new e.Popup({css:"dhx_widget--bordered"}),this._popup.attach(this._calendar),this._calendar.events.on(g.CalendarEvents.change,function(){f.endEdit(!1,!0)}),this._popup.events.on(e.PopupEvents.afterHide,function(){f.endEdit()}),this._initHandlers()}return u.prototype.endEdit=function(o,h){var r=this;if(this._handlers){var f=this._calendar.config.dateFormat,d=this._cell.row[this._cell.col.id];if(!o){if(d instanceof Date||h)return this._value=this._calendar.getValue(),this._input.value=this._value,void this._popup.hide();(0,a.stringToDate)(this._input.value,f,!0)&&(d&&this._input.value.length===d.length||!d)&&(this._value=this._input.value)}this._config.events.fire(w.GridEvents.beforeEditEnd,[this._value,this._cell.row,this._cell.col])?(this._input.removeEventListener("focus",this._handlers.onFocus),this._input.removeEventListener("change",this._handlers.onChange),document.removeEventListener("mousedown",this._handlers.onOuterClick),(0,x.awaitRedraw)().then(function(){r._popup.destructor(),r._calendar.destructor()}),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(w.GridEvents.afterEditEnd,[this._value,this._cell.row,this._cell.col])):this._input.focus()}},u.prototype.toHTML=function(){var o=this._cell.row[this._cell.col.id];return this._config.$editable.editor=this,document.addEventListener("mousedown",this._handlers.onOuterClick),(0,x.el)("input.dhx_cell-editor.dhx_cell-editor__input.dhx_cell-editor__datepicker",{_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor",dhx_id:"cell_editor",value:o})},u.prototype._initHandlers=function(){var o=this;this._handlers={onFocus:function(){(0,x.awaitRedraw)().then(function(){o._popup.show(o._input,{centering:!0,mode:"bottom"})})},onChange:function(){o.endEdit()},onOuterClick:function(h){if(h.target instanceof Node){var r=o._input&&o._input.contains(h.target),f=o._popup&&o._popup.getRootNode()&&o._popup.getRootNode().contains(h.target);r||f||o._popup.hide()}},didInsert:function(h){var r=h.el;o._input=r,o._input.addEventListener("focus",o._handlers.onFocus),o._input.addEventListener("change",o._handlers.onChange),r.focus(),r.setSelectionRange(r.value.length,r.value.length)}}},u}();p.DateEditor=i},function($,p,b){var x,w=this&&this.__extends||(x=function(l,n){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,_){s.__proto__=_}||function(s,_){for(var v in _)Object.prototype.hasOwnProperty.call(_,v)&&(s[v]=_[v])},x(l,n)},function(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=l}x(l,n),l.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}),g=this&&this.__assign||function(){return g=Object.assign||function(l){for(var n,s=1,_=arguments.length;s<_;s++)for(var v in n=arguments[s])Object.prototype.hasOwnProperty.call(n,v)&&(l[v]=n[v]);return l},g.apply(this,arguments)},a=this&&this.__spreadArray||function(l,n,s){if(s||arguments.length===2)for(var _,v=0,m=n.length;v<m;v++)!_&&v in n||(_||(_=Array.prototype.slice.call(n,0,v)),_[v]=n[v]);return l.concat(_||Array.prototype.slice.call(n))};Object.defineProperty(p,"__esModule",{value:!0}),p.Calendar=void 0;var e=b(1),i=b(0),u=b(5),o=b(6),h=b(116),r=b(122),f=b(25),d=b(58),t=b(2),c=function(l){function n(s,_){_===void 0&&(_={});var v=l.call(this,s,(0,e.extend)({weekStart:"sunday",thisMonthOnly:!1,dateFormat:window&&window.dhx&&window.dhx.dateFormat,width:"250px"},_))||this;switch(v._selected=[],v.events=new u.EventSystem,v.config.disabledDates=v.config.disabledDates||v.config.block,v.config.mode=v.config.mode||v.config.view,v.config.dateFormat||(v.config.timePicker?v.config.timeFormat===12?v.config.dateFormat="%d/%m/%y %h:%i %A":v.config.dateFormat="%d/%m/%y %H:%i":v.config.dateFormat="%d/%m/%y"),v.config.value&&v._setSelected(v.config.value),v.config.date?v._currentDate=f.DateHelper.toDateObject(v.config.date,v.config.dateFormat):v._getSelected()?v._currentDate=f.DateHelper.copy(v._getSelected()):v._currentDate=new Date,v.config.mode){case"month":v._currentViewMode="month";break;case"year":v._currentViewMode="year";break;default:v._currentViewMode="calendar"}if(v._initHandlers(),v.config.timePicker){v._timepicker=new h.Timepicker(null,{timeFormat:v.config.timeFormat,controls:!0});var m=v._getSelected()||new Date;v._timepicker.setValue(m),v._time=v._timepicker.getValue(),v._timepicker.events.on(h.TimepickerEvents.afterClose,function(){v._timepicker.setValue(v._time),v.showDate(null,"calendar")}),v._timepicker.events.on(h.TimepickerEvents.afterApply,function(){var y=v._timepicker.getValue(!0),C=y.hour,E=y.minute,k=y.AM,S=v._getSelected(),M=f.DateHelper.withHoursAndMinutes(v._getSelected()||new Date,C,E,k);v.events.fire(d.CalendarEvents.beforeChange,[M,S,!0])&&(v._selected[v._selected.length-1]=M,v.events.fire(d.CalendarEvents.change,[M,S,!0])),v._time=v._timepicker.getValue(),v.showDate(null,"calendar")})}return v.mount(s,(0,i.create)({render:function(){return v._draw()}})),v}return w(n,l),n.prototype.setValue=function(s){if(!s||s instanceof Array&&s.length===0)return!1;this._selected=[];var _=s instanceof Array?s[0]:s,v=f.DateHelper.toDateObject(_,this.config.dateFormat),m=f.DateHelper.copy(this._getSelected());return!!this.events.fire(d.CalendarEvents.beforeChange,[v,m,!1])&&(this._setSelected(s),this._timepicker&&(this._timepicker.setValue(v),this._time=this._timepicker.getValue()),this.showDate(this._getSelected()),this.events.fire(d.CalendarEvents.change,[v,m,!1]),this.paint(),!0)},n.prototype.getValue=function(s){var _=this;return s===void 0&&(s=!1),this._selected[0]?this.config.range?s?this._selected.map(function(v){return f.DateHelper.copy(v)}):this._selected.map(function(v){return(0,f.getFormattedDate)(_.config.dateFormat,v)}):s?f.DateHelper.copy(this._selected[0]):(0,f.getFormattedDate)(this.config.dateFormat,this._selected[0]):""},n.prototype.getCurrentMode=function(){return this._currentViewMode},n.prototype.showDate=function(s,_){s&&(this._currentDate=f.DateHelper.copy(s)),_&&(this._currentViewMode=_),this.paint()},n.prototype.destructor=function(){this._linkedCalendar&&this._unlink(),this._timepicker&&this._timepicker.destructor(),this.events&&this.events.clear(),this.config=this.events=null,this._uid=this._selected=this._currentDate=this._currentViewMode=this._handlers=this._timepicker=this._time=null,this.unmount()},n.prototype.clear=function(){var s=this.getValue(!0);this.config.timePicker&&(this._timepicker.clear(),this._time=this._timepicker.getValue()),this._selected=[],this.showDate(null,this.config.mode),this.events.fire(d.CalendarEvents.change,[this.getValue(!0),s,!1])},n.prototype.link=function(s){var _=this;this._linkedCalendar&&this._unlink(),this._linkedCalendar=s;var v=this.getValue(!0),m=s.getValue(!0),y=v&&f.DateHelper.dayStart(v),C=m&&f.DateHelper.dayStart(m);this.config.$rangeMark&&this._linkedCalendar.config.$rangeMark||(this.config.$rangeMark=this._linkedCalendar.config.$rangeMark=function(E){if(y&&C)return E>=y&&E<=C&&function(k){if(f.DateHelper.isSameDay(C,y))return null;var S="dhx_calendar-day--in-range";return f.DateHelper.isSameDay(k,y)&&(S+=" dhx_calendar-day--first-date"),f.DateHelper.isSameDay(k,C)&&(S+=" dhx_calendar-day--last-date"),S}(E)}),this.config.disabledDates&&this._linkedCalendar.config.disabledDates||(this.config.disabledDates=function(E){if(C)return E>C},this._linkedCalendar.config.disabledDates=function(E){if(y)return E<y}),this.config.thisMonthOnly=!0,s.config.thisMonthOnly=!0,this.events.on(d.CalendarEvents.change,function(E){y=f.DateHelper.dayStart(E),_._linkedCalendar.paint()},"link"),this._linkedCalendar.events.on(d.CalendarEvents.change,function(E){C=f.DateHelper.dayStart(E),_.paint()},"link"),this._linkedCalendar.paint(),this.paint()},n.prototype._unlink=function(){this._linkedCalendar&&(this.config.$rangeMark=this._linkedCalendar.config.$rangeMark=null,this.config.disabledDates=this._linkedCalendar.config.disabledDates=null,this.events.detach(d.CalendarEvents.change,"link"),this._linkedCalendar.events.detach(d.CalendarEvents.change,"link"),this._linkedCalendar.paint(),this._linkedCalendar=null)},n.prototype._setSelected=function(s){var _=this,v=s instanceof Array?s[0]:s,m=f.DateHelper.toDateObject(v,this.config.dateFormat);if(s instanceof Array&&this.config.range){var y=[];s.forEach(function(C,E){E<2&&y.push(f.DateHelper.toDateObject(C,_.config.dateFormat))}),y.length===2&&y[0]<y[1]?y.forEach(function(C){return _._selected.push(C)}):this._selected[0]=y[0]}else this._selected[0]=m},n.prototype._getSelected=function(){return this._selected[this._selected.length-1]},n.prototype._draw=function(){switch(this._currentViewMode){case"calendar":return this.events.fire(d.CalendarEvents.modeChange,["calendar"]),this._drawCalendar();case"month":return this.events.fire(d.CalendarEvents.modeChange,["month"]),this._drawMonthSelector();case"year":return this.events.fire(d.CalendarEvents.modeChange,["year"]),this._drawYearSelector();case"timepicker":return this.events.fire(d.CalendarEvents.modeChange,["timepicker"]),this._drawTimepicker()}},n.prototype._initHandlers=function(){var s=this,_={Up:"ArrowUp",Down:"ArrowDown",Right:"ArrowRight",Left:"ArrowLeft",Esc:"Escape",Spacebar:"Space"},v=function(m){m===void 0&&(m=!1);var y=0;switch(s._currentViewMode){case"calendar":y=m?-7:7;break;case"month":case"year":y=m?-4:4}return y};this._handlers={onkeydown:{".dhx_calendar-year, .dhx_calendar-month, .dhx_calendar-day":function(m,y){switch(function(C){var E;if(C.which>=48&&C.which<=57||C.which>=65&&C.which<=90)E=String.fromCharCode(C.which);else{var k=C.which===32?C.code:C.key;E=(0,t.isIE)()&&_[k]||k}return E}(m)){case"Enter":s._selectDate(m,y);break;case"ArrowLeft":s._moveBrowseFocus(m,y,-1);break;case"ArrowRight":s._moveBrowseFocus(m,y,1);break;case"ArrowUp":s._moveBrowseFocus(m,y,v(!0));break;case"ArrowDown":s._moveBrowseFocus(m,y,v())}}},onclick:{".dhx_calendar-year, .dhx_calendar-month, .dhx_calendar-day":function(m,y){s._selectDate(m,y)},".dhx_calendar-action__cancel":function(){s.showDate(s._getSelected(),"calendar"),s.events.fire(d.CalendarEvents.cancelClick,[])},".dhx_calendar-action__show-month":function(){return s.showDate(null,"month")},".dhx_calendar-action__show-year":function(){return s.showDate(null,"year")},".dhx_calendar-action__next":function(){var m;switch(s._currentViewMode){case"calendar":m=f.DateHelper.addMonth(s._currentDate,1);break;case"month":m=f.DateHelper.addYear(s._currentDate,1);break;case"year":m=f.DateHelper.addYear(s._currentDate,12)}s.showDate(m)},".dhx_calendar-action__prev":function(){var m;switch(s._currentViewMode){case"calendar":m=f.DateHelper.addMonth(s._currentDate,-1);break;case"month":m=f.DateHelper.addYear(s._currentDate,-1);break;case"year":m=f.DateHelper.addYear(s._currentDate,-12)}s.showDate(m)},".dhx_calendar-action__show-timepicker":function(){s._currentViewMode="timepicker",s.paint()}},onmouseover:{".dhx_calendar-day":function(m,y){s.events.fire(d.CalendarEvents.dateMouseOver,[new Date(y.attrs._date),m]),s.events.fire(d.CalendarEvents.dateHover,[new Date(y.attrs._date),m])}}}},n.prototype._getData=function(s){var _=this;this._isSelectedInCurrentRange=!1;for(var v=this.config.weekStart==="monday"?1:0,m=[],y=6,C=f.DateHelper.weekStart(f.DateHelper.monthStart(s),v);y--;){for(var E=f.DateHelper.getWeekNumber(C),k=0,S=7,M=[],T=function(){var O=f.DateHelper.isWeekEnd(C),H=s.getMonth()===C.getMonth(),F=I.config.disabledDates&&I.config.disabledDates(C),R=[];if(I.config.range&&I._selected[0]&&I._selected[1]){var A=function(){if(_._selected[0]&&_._selected[1]){var z=f.DateHelper.dayStart(_._selected[0]),Y=f.DateHelper.dayStart(_._selected[1]);return C>=z&&C<=Y&&(f.DateHelper.isSameDay(_._selected[0],_._selected[1])?null:"dhx_calendar-day--in-range")}};I.config.$rangeMark=A}if(O&&H&&R.push("dhx_calendar-day--weekend"),H||(I.config.thisMonthOnly?(k++,R.push("dhx_calendar-day--hidden")):R.push("dhx_calendar-day--muffled")),I.config.mark){var V=I.config.mark(C);V&&R.push(V)}I.config.$rangeMark&&(A=I.config.$rangeMark(C))&&R.push(A),F&&(O?R.push("dhx_calendar-day--weekend-disabled"):R.push("dhx_calendar-day--disabled")),I._selected.forEach(function(z,Y){if(z&&f.DateHelper.isSameDay(z,C)){_._isSelectedInCurrentRange=!0;var Q="dhx_calendar-day--selected";_.config.range&&(Q+=" dhx_calendar-day--selected-".concat(Y===0?"first ":"last")),R.push(Q)}}),M.push({date:C,day:C.getDate(),css:R.join(" ")}),C=f.DateHelper.addDay(C)},I=this;S--;)T();m.push({weekNumber:E,days:M,disabledWeekNumber:k===7})}return m},n.prototype._drawCalendar=function(){for(var s,_=this,v=this._currentDate,m=this.config,y=m.weekStart,C=m.thisMonthOnly,E=m.css,k=m.timePicker,S=m.width,M=(y==="monday"?a(a([],f.locale.daysShort.slice(1),!0),[f.locale.daysShort[0]],!1):f.locale.daysShort).map(function(U){return(0,i.el)(".dhx_calendar-weekday",U)}),T=this._getData(v),I=!0,O=this._getSelected(),H=function(U){var K={role:"button",tabindex:-1,"aria-pressed":"false"};return U&&(_._isSelectedInCurrentRange?function(Z){return Z&&O&&Z.getTime()===O.getTime()}(U.date)&&(K.tabindex=0,K["aria-pressed"]="true"):I&&(K.tabindex=0),I=!1),K},F=[],R=[],A=0,V=T;A<V.length;A++){var z=V[A],Y=z.days.map(function(U){return(0,i.el)("div.dhx_calendar-day",g({class:U.css,_date:U.date},H(U)),U.day)});!this.config.weekNumbers||z.disabledWeekNumber&&C||R.push((0,i.el)("div",{class:"dhx_calendar-week-number"},z.weekNumber)),F=F.concat(Y)}this.config.weekNumbers&&(s=(0,i.el)(".dhx_calendar__week-numbers",R));var Q="dhx_calendar dhx_widget"+(E?" "+E:"")+(k?" dhx_calendar--with_timepicker":"")+(this.config.weekNumbers?" dhx_calendar--with_week-numbers":"");return(0,i.el)("div",g({class:Q,style:{width:this.config.weekNumbers?"calc(".concat(S," + 48px )"):S}},this._handlers),[(0,i.el)(".dhx_calendar__wrapper",[this._drawHeader((0,i.el)("button.dhx_calendar-action__show-month.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"aria-live":"polite",type:"button"},f.locale.months[v.getMonth()]+" "+v.getFullYear())),this.config.weekNumbers&&(0,i.el)(".dhx_calendar__dates-wrapper",[(0,i.el)(".dhx_calendar__weekdays",M),(0,i.el)(".dhx_calendar__days",F),s]),!this.config.weekNumbers&&(0,i.el)(".dhx_calendar__weekdays",M),!this.config.weekNumbers&&(0,i.el)(".dhx_calendar__days",F),k?(0,i.el)(".dhx_timepicker__actions",[(0,i.el)("button.dhx_calendar__timepicker-button.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--width_full.dhx_button--circle.dhx_calendar-action__show-timepicker",{type:"button"},[(0,i.el)("span.dhx_button__icon.dxi.dxi-clock-outline"),(0,i.el)("span.dhx_button__text",this._time)])]):null])])},n.prototype._drawMonthSelector=function(){var s=this._currentDate,_=s.getMonth(),v=this._getSelected()?this._getSelected().getFullYear():null,m=this.config,y=m.css,C=m.timePicker,E=m.weekNumbers,k=m.width,S=m.mode,M="dhx_calendar dhx_widget"+(y?" "+y:"")+(C?" dhx_calendar--with_timepicker":"")+(E?" dhx_calendar--with_week-numbers":""),T=!0,I=v===s.getFullYear(),O=function(H){return I&&_===H};return(0,i.el)("div",g({class:M,style:{width:E?"calc(".concat(k," + 48px)"):k}},this._handlers),[(0,i.el)(".dhx_calendar__wrapper",[this._drawHeader((0,i.el)("button.dhx_calendar-action__show-year.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"aria-live":"polite",type:"button"},s.getFullYear())),(0,i.el)(".dhx_calendar__months",f.locale.monthsShort.map(function(H,F){return(0,i.el)("div",g(g({class:"dhx_calendar-month"+(O(F)?" dhx_calendar-month--selected":"")},function(R,A){var V={role:"button",tabindex:-1,"aria-pressed":"false"};return R&&(I?O(A)&&(V.tabindex=0,V["aria-pressed"]="true"):T&&(V.tabindex=0),T=!1),V}(H,F)),{_date:F}),H)})),S!=="month"?(0,i.el)(".dhx_calendar__actions",[(0,i.el)("button.dhx_button.dhx_button--color_primary.dhx_button--view_link.dhx_button--size_small.dhx_button--width_full.dhx_button--circle.dhx_calendar-action__cancel",{type:"button"},f.locale.cancel)]):null])])},n.prototype._drawYearSelector=function(){var s=this,_=this._currentDate,v=f.DateHelper.getTwelweYears(_),m=this.config,y=m.css,C=m.timePicker,E=m.weekNumbers,k=m.width,S=m.mode,M="dhx_calendar dhx_widget"+(y?" "+y:"")+(C?" dhx_calendar--with_timepicker":"")+(E?" dhx_calendar--with_week-numbers":""),T=!0,I=this._getSelected()&&v.includes(this._getSelected().getFullYear()),O=function(H){return s._getSelected()&&H===s._getSelected().getFullYear()};return(0,i.el)("div",g({class:M,style:{width:E?"calc(".concat(k," + 48px)"):k}},this._handlers),[(0,i.el)(".dhx_calendar__wrapper",[this._drawHeader((0,i.el)("button.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"aria-live":"polite",type:"button"},v[0]+"-"+v[v.length-1])),(0,i.el)(".dhx_calendar__years",v.map(function(H){return(0,i.el)("div",g({class:"dhx_calendar-year"+(O(H)?" dhx_calendar-year--selected":""),_date:H},function(F){var R={role:"button",tabindex:-1,"aria-pressed":"false"};return F&&(I?O(F)&&(R.tabindex=0,R["aria-pressed"]="true"):T&&(R.tabindex=0),T=!1),R}(H)),H)})),S!=="year"&&S!=="month"?(0,i.el)(".dhx_calendar__actions",[(0,i.el)("button.dhx_button.dhx_button--color_primary.dhx_button--view_link.dhx_button--size_small.dhx_button--width_full.dhx_button--circle.dhx_calendar-action__cancel",{type:"button"},f.locale.cancel)]):null])])},n.prototype._drawHeader=function(s){return(0,i.el)(".dhx_calendar__navigation",[(0,i.el)("button.dhx_calendar-navigation__button.dhx_calendar-action__prev"+r.linkButtonClasses+".dhx_button--icon.dhx_button--circle",{"aria-label":"prev",type:"button"},[(0,i.el)(".dhx_button__icon.dxi.dxi-chevron-left")]),s,(0,i.el)("button.dhx_calendar-navigation__button.dhx_calendar-action__next"+r.linkButtonClasses+".dhx_button--icon.dhx_button--circle",{"aria-label":"next",type:"button"},[(0,i.el)(".dhx_button__icon.dxi.dxi-chevron-right")])])},n.prototype._drawTimepicker=function(){var s=this.config,_=s.css,v=s.weekNumbers,m=s.width;return(0,i.el)(".dhx_widget.dhx-calendar",{class:_?" "+_:"",style:{width:v?"calc(".concat(m," + 48px)"):m}},[(0,i.inject)(this._timepicker.getRootView())])},n.prototype._selectDate=function(s,_){var v=_.attrs._date,m=f.DateHelper.copy(this._getSelected());switch(this._currentViewMode){case"calendar":var y=this.config.timePicker?f.DateHelper.mergeHoursAndMinutes(v,this._getSelected()||this._currentDate):v;if(!this.events.fire(d.CalendarEvents.beforeChange,[y,m,!0]))return;this.config.range&&this._selected.length===1&&this._selected[0]<y?this._selected.push(y):(this._selected=[],this._selected[0]=y),_.el.blur(),this.showDate(this._getSelected()),this.events.fire(d.CalendarEvents.change,[v,m,!0]);break;case"month":if(this.config.mode!=="month")f.DateHelper.setMonth(this._currentDate,v),this.showDate(null,"calendar"),this.events.fire(d.CalendarEvents.monthSelected,[v]);else{var C=f.DateHelper.fromYearAndMonth(this._currentDate.getFullYear()||this._getSelected().getFullYear(),v);if(!this.events.fire(d.CalendarEvents.beforeChange,[C,m,!0]))return;this._currentDate=C,this._selected[0]=C,this.events.fire(d.CalendarEvents.change,[this._getSelected(),m,!0]),this.events.fire(d.CalendarEvents.monthSelected,[v]),this.paint()}break;case"year":if(this.config.mode!=="year")f.DateHelper.setYear(this._currentDate,v),this.showDate(null,"month"),this.events.fire(d.CalendarEvents.yearSelected,[v]);else{if(C=f.DateHelper.fromYear(v),!this.events.fire(d.CalendarEvents.beforeChange,[C,m,!0]))return;this._currentDate=C,this._selected[0]=C,this.events.fire(d.CalendarEvents.change,[this._getSelected(),m,!0]),this.events.fire(d.CalendarEvents.yearSelected,[v]),this.paint()}}},n.prototype._moveBrowseFocus=function(s,_,v){if(_){var m=_.parent.body[_.idx+v];if(m){var y=m.el;y&&(s.target.tabIndex=-1,y.tabIndex=0,y.focus({preventScroll:!0}))}}},n}(o.View);p.Calendar=c},function($,p,b){var x=this&&this.__createBinding||(Object.create?function(g,a,e,i){i===void 0&&(i=e);var u=Object.getOwnPropertyDescriptor(a,e);u&&!("get"in u?!a.__esModule:u.writable||u.configurable)||(u={enumerable:!0,get:function(){return a[e]}}),Object.defineProperty(g,i,u)}:function(g,a,e,i){i===void 0&&(i=e),g[i]=a[e]}),w=this&&this.__exportStar||function(g,a){for(var e in g)e==="default"||Object.prototype.hasOwnProperty.call(a,e)||x(a,g,e)};Object.defineProperty(p,"__esModule",{value:!0}),w(b(117),p),w(b(57),p)},function($,p,b){var x,w=this&&this.__extends||(x=function(n,s){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,v){_.__proto__=v}||function(_,v){for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(_[m]=v[m])},x(n,s)},function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function _(){this.constructor=n}x(n,s),n.prototype=s===null?Object.create(s):(_.prototype=s.prototype,new _)}),g=this&&this.__assign||function(){return g=Object.assign||function(n){for(var s,_=1,v=arguments.length;_<v;_++)for(var m in s=arguments[_])Object.prototype.hasOwnProperty.call(s,m)&&(n[m]=s[m]);return n},g.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.Timepicker=void 0;var a=b(1),e=b(0),i=b(5),u=b(6),o=b(23),h=b(118),r=b(120),f=b(121),d=b(57),t=b(2);function c(n,s){return isNaN(n)?0:Math.min(s,Math.max(0,n))}var l=function(n){function s(_,v){v===void 0&&(v={});var m=n.call(this,_,(0,a.extend)({timeFormat:24,controls:!1,valueFormat:"string",actions:!1},v))||this;return m.events=new i.EventSystem(m),m._time={hour:0,minute:0,AM:!0},m.config.timeFormat===12&&(m._time.hour=12),m.config.controls=m.config.controls||m.config.actions,m.config.value&&m._setValue(m.config.value),m._initUI(_),m._initHandlers(),m._initEvents(),m}return w(s,n),s.prototype.getValue=function(_){this.config.timeFormat===12&&(this._time.hour=this._time.hour%12||12);var v=this._time,m=v.hour,y=v.minute,C=v.AM;if(_){var E={hour:m,minute:y};return this.config.timeFormat===12&&(E.AM=C),E}return(m<10?"0"+m:m)+":"+(y<10?"0"+y:y)+(this.config.timeFormat===12?C?"AM":"PM":"")},s.prototype.setValue=function(_){this._setValue(_),this._hoursSlider.setValue(this._time.hour),this._minutesSlider.setValue(this._time.minute),this._inputsView.paint()},s.prototype.clear=function(){this.config.timeFormat===24?this.setValue("00:00"):this.setValue("12:00AM")},s.prototype.destructor=function(){this._minutesSlider&&this._minutesSlider.destructor(),this._hoursSlider&&this._hoursSlider.destructor(),this.events&&this.events.clear(),this.layout&&this.layout.destructor(),this.config=this.events=null,this._handlers=this._time=this._inputsView=this._minutesSlider=this._hoursSlider=null,this.unmount()},s.prototype.getRootView=function(){return this.layout.getRootView()},s.prototype._setValue=function(_){var v,m=0,y=0;if(typeof _=="number"&&(_=new Date(_)),_ instanceof Date)m=_.getMinutes(),y=_.getHours();else if(Array.isArray(_))y=c(_[0],23),m=c(_[1],59),_[2]&&_[2].toLowerCase()==="pm"&&(v=!0);else if(typeof _=="string"){var C=_.match(/\d+/g);y=c(+C[0],23),m=c(+C[1],59),_.toLowerCase().includes("pm")&&(v=!0)}else typeof _=="object"&&_.hasOwnProperty("hour")&&_.hasOwnProperty("minute")&&(y=_.hour,m=_.minute,v=!_.AM);return v&&y<12&&(y+=12),this.config.timeFormat===12&&!(0,f.isTimeCheck)(_)&&y>=12&&(v=!0),this._time={hour:y,minute:m,AM:!v}},s.prototype._initUI=function(_){var v=this,m={gravity:!1,css:"dhx_widget dhx_timepicker "+(this.config.css?this.config.css:"")+(this.config.controls?" dhx_timepicker--with-controls":""),rows:[{id:"timepicker",css:"dhx_timepicker__inputs"},{id:"hour-slider",css:"dhx_timepicker__hour"},{id:"minute-slider",css:"dhx_timepicker__minute"}]};this.config.controls&&(m.rows.unshift({id:"close-action",css:"dhx_timepicker__close"}),m.rows.push({id:"save-action",css:"dhx_timepicker__save"}));var y=this.layout=new o.Layout(_,m),C=(0,e.create)({render:function(){return v._draw()}}),E=this._inputsView=(0,u.toViewLike)(C),k=this._minutesSlider=new h.Slider(null,{min:0,max:59,step:1,tooltip:!1,labelPosition:"top",label:r.default.minutes,value:this.config.value?this._time.minute:0}),S=this._hoursSlider=new h.Slider(null,{min:0,max:23,step:1,tooltip:!1,labelPosition:"top",label:r.default.hours,value:this.config.value?this._time.hour===12&&this._time.AM?0:this._time.hour:0});y.getCell("timepicker").attach(E),y.getCell("hour-slider").attach(S),y.getCell("minute-slider").attach(k),this.config.controls&&(y.getCell("save-action").attach(function(){return(0,e.el)("button.dhx_timepicker__button-save.dhx_button.dhx_button--view_flat.dhx_button--color_primary.dhx_button--size_small.dhx_button--circle.dhx_button--width_full",{onclick:v._outerHandlers.save,type:"button"},r.default.save)}),y.getCell("close-action").attach(function(){return(0,e.el)("button.dhx_timepicker__button-close.dhx_button.dhx_button--view_link.dhx_button--size_medium.dhx_button--view_link.dhx_button--color_secondary.dhx_button--icon.dhx_button--circle",{_ref:"close",onclick:v._outerHandlers.close,type:"button","aria-label":"close timepicker"},[(0,e.el)("span.dhx_button__icon.dxi.dxi-close")])}))},s.prototype._initHandlers=function(){var _=this,v=function(y){var C=c(parseInt(y.value,10),59);y.value=C.toString(),_._minutesSlider.setValue(C)},m=function(y){var C=c(parseInt(y.value,10),23);y.value=C.toString(),_._minutesSlider.setValue(C)};this._handlers={onchange:{".dhx_timepicker-input--hour":function(y){return m(y.target)},".dhx_timepicker-input--minutes":function(y){return v(y.target)}},oninput:{".dhx_timepicker-input--hour":function(y){((0,t.isSafari)()||(0,t.isFirefox)())&&m(y.target)},".dhx_timepicker-input--minutes":function(y){((0,t.isSafari)()||(0,t.isFirefox)())&&v(y.target)}}},this._outerHandlers={close:function(){_.events.fire(d.TimepickerEvents.beforeClose,[_.getValue(_.config.valueFormat==="timeObject")])&&(_.events.fire(d.TimepickerEvents.afterClose,[_.getValue(_.config.valueFormat==="timeObject")]),_.events.fire(d.TimepickerEvents.close,[]))},save:function(){_.events.fire(d.TimepickerEvents.beforeApply,[_.getValue(_.config.valueFormat==="timeObject")])&&(_.events.fire(d.TimepickerEvents.afterApply,[_.getValue(_.config.valueFormat==="timeObject")]),_.events.fire(d.TimepickerEvents.apply,[_.getValue()]),_.events.fire(d.TimepickerEvents.save,[_._time]))}}},s.prototype._initEvents=function(){var _=this;this._hoursSlider.events.on(h.SliderEvents.change,function(v){v<_._hoursSlider.config.min||v>_._hoursSlider.config.max||(_.config.timeFormat===12?(_._time.AM=v<12,_._time.hour=v%12||12):_._time.hour=v,_.events.fire(d.TimepickerEvents.change,[_.getValue(_.config.valueFormat==="timeObject")]),_._inputsView.paint())}),this._minutesSlider.events.on(h.SliderEvents.change,function(v){v<_._minutesSlider.config.min||v>_._minutesSlider.config.max||(_._time.minute=v,_.events.fire(d.TimepickerEvents.change,[_.getValue(_.config.valueFormat==="timeObject")]),_._inputsView.paint())})},s.prototype._draw=function(){return(0,e.el)(".dhx_timepicker-inputs",g({},this._handlers),[(0,e.el)("input.dhx_timepicker-input.dhx_timepicker-input--hour",{_key:"hour",_ref:"hour",value:this.getValue(!0).hour.toString().length>1?this.getValue(!0).hour:"0"+this.getValue(!0).hour,"aria-label":"hours"}),(0,e.el)("span.dhx_timepicker-delimer",":"),(0,e.el)("input.dhx_timepicker-input.dhx_timepicker-input--minutes",{_key:"minute",value:this.getValue(!0).minute.toString().length>1?this.getValue(!0).minute:"0"+this.getValue(!0).minute,"aria-label":"minutes"}),this.config.timeFormat===12?(0,e.el)(".dhx_timepicker-ampm",this._time.AM?"AM":"PM"):null])},s}(u.View);p.Timepicker=l},function($,p,b){var x=this&&this.__createBinding||(Object.create?function(g,a,e,i){i===void 0&&(i=e);var u=Object.getOwnPropertyDescriptor(a,e);u&&!("get"in u?!a.__esModule:u.writable||u.configurable)||(u={enumerable:!0,get:function(){return a[e]}}),Object.defineProperty(g,i,u)}:function(g,a,e,i){i===void 0&&(i=e),g[i]=a[e]}),w=this&&this.__exportStar||function(g,a){for(var e in g)e==="default"||Object.prototype.hasOwnProperty.call(a,e)||x(a,g,e)};Object.defineProperty(p,"__esModule",{value:!0}),w(b(119),p),w(b(56),p)},function($,p,b){var x,w=this&&this.__extends||(x=function(c,l){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var _ in s)Object.prototype.hasOwnProperty.call(s,_)&&(n[_]=s[_])},x(c,l)},function(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function n(){this.constructor=c}x(c,l),c.prototype=l===null?Object.create(l):(n.prototype=l.prototype,new n)}),g=this&&this.__assign||function(){return g=Object.assign||function(c){for(var l,n=1,s=arguments.length;n<s;n++)for(var _ in l=arguments[n])Object.prototype.hasOwnProperty.call(l,_)&&(c[_]=l[_]);return c},g.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.Slider=void 0;var a=b(1),e=b(0),i=b(5),u=b(18),o=b(6),h=b(15),r=b(56),f=b(2);function d(c,l,n){return c<l?l:c>n?n:c}var t=function(c){function l(n,s){var _=c.call(this,n,(0,a.extend)({mode:"horizontal",min:0,max:100,step:1,tooltip:!0},s))||this;_._disabled=!1,_.config.helpMessage=_.config.helpMessage||_.config.help,_.config.thumbLabel!==void 0&&(_.config.tooltip=_.config.thumbLabel),_.config.labelInline&&(_.config.labelPosition="left"),_.events=new i.EventSystem(_),_._axis=_.config.mode==="horizontal"?"clientX":"clientY",_._initStartPosition(),_._keyManager=new u.KeyManager(function(){var m;return document.activeElement===((m=_.getRootView().refs[_._isExtraActive?"extraRunner":"runner"])===null||m===void 0?void 0:m.el)}),_._initHotkeys();var v=(0,e.create)({render:function(){return _._draw()},hooks:{didMount:function(){return _._calcSliderPosition()},didRedraw:function(){return _._calcSliderPosition()}}});return _._initHandlers(),_.mount(n,v),_}return w(l,c),l.prototype.disable=function(){this._disabled=!0,this.paint()},l.prototype.enable=function(){this._disabled=!1,this.paint()},l.prototype.isDisabled=function(){return this._disabled},l.prototype.focus=function(n){this.getRootView().refs[n?"extraRunner":"runner"].el.focus()},l.prototype.blur=function(){this.getRootView().refs[this._isExtraActive?"extraRunner":"runner"].el.blur()},l.prototype.getValue=function(){var n;if(this.config.range){var s=this._getValue(this._currentPosition),_=this._getValue(this._extraCurrentPosition);n=s<_?[s,_]:[_,s]}else n=[this._getValue(this._currentPosition)];return n},l.prototype.setValue=function(n){var s=this._getValue(this._currentPosition);if(Array.isArray(n)&&n.length>1){var _=this._getValue(this._extraCurrentPosition);this._setValue(n[0],!1),this.events.fire(r.SliderEvents.change,[n[0],s,!1]),this._setValue(n[1],!0),this.events.fire(r.SliderEvents.change,[n[1],_,!0])}else{if(n=parseFloat(n),isNaN(n))throw new Error("Wrong value type, for more info check documentation https://docs.dhtmlx.com/suite/slider__api__slider_setvalue_method.html");this._setValue(n),this.events.fire(r.SliderEvents.change,[n,s,!1])}this.paint()},l.prototype.destructor=function(){this._keyManager&&this._keyManager.destructor(),document.body.contains(this._tooltip)&&document.body.removeChild(this._tooltip),this._tooltip=null,this.unmount()},l.prototype._calcSliderPosition=function(){var n=this.getRootView();if(n){var s=n.refs.track.el.getBoundingClientRect();this._offsets={left:s.left+window.pageXOffset,top:s.top+window.pageYOffset},this._length=this.config.mode==="horizontal"?s.width:s.height}},l.prototype._initHotkeys=function(){var n=this,s={arrowLeft:function(v){v.preventDefault(),n._move(-n.config.step,v.target.classList.contains("dhx_slider__thumb--extra"))},arrowRight:function(v){v.preventDefault(),n._move(n.config.step,v.target.classList.contains("dhx_slider__thumb--extra"))},arrowUp:function(v){v.preventDefault(),n._move(n.config.step,v.target.classList.contains("dhx_slider__thumb--extra"))},arrowDown:function(v){v.preventDefault(),n._move(-n.config.step,v.target.classList.contains("dhx_slider__thumb--extra"))}};for(var _ in s)this._keyManager.addHotKey(_,s[_])},l.prototype._move=function(n,s){this.config.inverse&&(n=-n);var _=this.config,v=_.max,m=_.min,y=s?this._getValue(this._extraCurrentPosition):this._getValue(this._currentPosition),C=y+n;this._setValue(y+n,s),(C>v||C<m)&&(C=y),this.events.fire(r.SliderEvents.change,[C,y,s]),this.paint()},l.prototype._initStartPosition=function(){var n=this.config,s=n.max,_=n.min,v=n.range,m=function(E,k,S){var M;return(M=E===void 0?[]:Array.isArray(E)?E:typeof E=="string"?E.split(",").map(function(T){return parseInt(T,10)}):[E])[0]=M[0]===void 0?k:d(M[0],k,S),M[1]=M[1]===void 0?S:d(M[1],k,S),M}(this.config.value,this.config.min,this.config.max),y=m[0],C=m[1];this._currentPosition=(y-_)/(s-_)*100,v&&(this._extraCurrentPosition=(s-C)/(s-_)*100),this._currentPosition=(y-_)/(s-_)*100,v&&(this._extraCurrentPosition=(C-_)/(s-_)*100),this._isInverse()&&(this._currentPosition=100-this._currentPosition,v&&(this._extraCurrentPosition=100-this._extraCurrentPosition))},l.prototype._getValue=function(n){this._isInverse()&&(n=100-n);var s=this.config,_=s.min,v=s.max,m=s.step;if(n===100)return v;if(n===0)return _;var y=n*(v-_)/100,C=y%m,E=C>=m/2?m:0;return+(Number(_)+Number(y)-C+E).toFixed(5)},l.prototype._setValue=function(n,s){s===void 0&&(s=!1);var _=this.config,v=_.max,m=_.min;if(n>v||n<m)return!1;var y=(n-m)/(v-m)*100,C=this._isInverse()?100-y:y;s?this._extraCurrentPosition=C:this._currentPosition=C},l.prototype._initHandlers=function(){var n=this,s=function(m){!m.targetTouches&&m.preventDefault();var y=((m.targetTouches?m.targetTouches[0][n._axis]:m[n._axis])-n._getBegining())/n._length*100;if(n._findNewDirection){if(Math.abs(n._currentPosition-y)<1)return;y>n._currentPosition?n._possibleRange=[n._currentPosition,100]:n._possibleRange=[0,n._currentPosition],n._findNewDirection=null}n._inSide(y)&&n._updatePosition(y,n._isExtraActive),n.paint()},_=function(m){n.events.fire(r.SliderEvents.mouseup,[m]),setTimeout(function(){n._isMouseMoving=!1,n.paint()},4),m.targetTouches?(document.removeEventListener("touchend",_),document.removeEventListener("touchmove",s)):(document.removeEventListener("mouseup",_),document.removeEventListener("mousemove",s))},v=function(m){var y;if(!n._disabled&&m.which!==3)if(n.events.fire(r.SliderEvents.mousedown,[m]),n._isMouseMoving=!0,m.target.classList.contains("dhx_slider__thumb--extra")?(n._isExtraActive=!0,y=n._extraCurrentPosition):(n._isExtraActive=!1,y=n._currentPosition),n._findNewDirection=null,n.config.range){var C=n._currentPosition>n._extraCurrentPosition?[n._currentPosition,n._extraCurrentPosition]:[n._extraCurrentPosition,n._currentPosition],E=C[0],k=C[1];n._currentPosition===n._extraCurrentPosition?(n._findNewDirection=y,n._possibleRange=[0,100]):n._possibleRange=y<E?[0,E]:[k,100]}else n._possibleRange=[0,100]};this.config.helpMessage&&(this._helper=new h.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage)),this._handlers={showHelper:function(m){m.preventDefault(),m.stopPropagation(),n._helper.show(m.target)},onmousedown:function(m){v(m),document.addEventListener("mousemove",s),document.addEventListener("mouseup",_)},ontouchstart:function(m){n._setTooltip(m),n._mouseIn=!1,v(m),document.addEventListener("touchmove",s),document.addEventListener("touchend",_),n.paint()},ontouchend:function(m){n._setTooltip(m),n._mouseIn=!1,n.paint()},onlabelClick:function(){n.getRootView().refs.runner.el.focus()},onclick:function(m){if(!n._disabled&&!n._isMouseMoving&&m.which!==3){var y=(m[n._axis]-n._getBegining())/n._length*100,C=n.getRootView().refs;n.config.range?Math.abs(n._currentPosition-y)<Math.abs(n._extraCurrentPosition-y)?(n._updatePosition(y,!1),C.runner.el.focus()):(n._updatePosition(y,!0),C.extraRunner.el.focus()):(n._updatePosition(y,!1),C.runner.el.focus()),n.paint()}},onmouseover:function(m){n._setTooltip(m),n._mouseIn=!0,n.paint()},onmouseout:function(m){n._setTooltip(m),n._mouseIn=!1,n.paint()},onfocus:function(m){n._setTooltip(m),n._focusIn=!0,n.events.fire(r.SliderEvents.focus,[]),n.paint()},onblur:function(m){n._setTooltip(m),n._focusIn=!1,n.events.fire(r.SliderEvents.blur,[]),n.paint()},onkeydown:function(m){n.events.fire(r.SliderEvents.keydown,[m])}}},l.prototype._getBegining=function(){return this.config.mode==="horizontal"?this._offsets.left-window.pageXOffset:this._offsets.top-window.pageYOffset},l.prototype._inSide=function(n){var s=this._possibleRange;return n<s[0]?(this._updatePosition(s[0],this._isExtraActive),!1):!(n>s[1])||(this._updatePosition(s[1],this._isExtraActive),!1)},l.prototype._updatePosition=function(n,s){s===void 0&&(s=!1),n>100&&(n=100),n<0&&(n=0);var _=this.config,v=_.max,m=_.min,y=s?this._extraCurrentPosition:this._currentPosition,C=this._getValue(y),E=this._getValue(n);if(C!==E){var k=(E-m)/(v-m)*100,S=this._isInverse()?100-k:k;s?this._extraCurrentPosition=S:this._currentPosition=S,this.events.fire(r.SliderEvents.change,[E,C,s])}},l.prototype._getRunnerStyle=function(n){var s;n===void 0&&(n=!1);var _=this.config.mode==="horizontal"?"left":"top",v=n?this._extraCurrentPosition:this._currentPosition;return(s={})[_]=v+"%",s},l.prototype._isInverse=function(){return this.config.inverse&&this.config.mode==="horizontal"||!this.config.inverse&&this.config.mode==="vertical"},l.prototype._getRunnerCss=function(n){return n===void 0&&(n=!1),"dhx_slider__thumb"+(n?" dhx_slider__thumb--extra":"")+(this._isMouseMoving&&(n&&this._isExtraActive||!n&&!this._isExtraActive)?" dhx_slider__thumb--active":"")+(this._disabled?" dhx_slider__thumb--disabled":"")+(this._isNullable(n?this._extraCurrentPosition:this._currentPosition)&&!this.config.range?" dhx_slider__thumb--nullable":"")},l.prototype._draw=function(){var n=this.config,s=n.labelPosition,_=n.mode,v=n.hiddenLabel,m=n.tick,y=n.majorTick,C=n.css,E=n.helpMessage,k=(0,f.getLabelStyle)(g(g({},this.config),{required:!1}));return!this._tooltip||this._mouseIn&&this._focusIn&&this._isMouseMoving||document.body.contains(this._tooltip)&&document.body.removeChild(this._tooltip),(0,e.el)("div",{class:"dhx_slider dhx_slider--mode_"+_+(s==="left"?" dhx_slider--label-inline":"")+(v?" dhx_slider--label_sr":"")+(m?" dhx_slider--ticks":"")+(y?" dhx_slider--major-ticks":"")+(C?" "+C:"")+(this._disabled?" dhx_slider--disabled":"")},[k?(0,e.el)("label.dhx_label.dhx_slider__label",{style:k.style,class:E?"dhx_label--with-help":"",onclick:this._handlers.onlabelClick},E?[k.label&&(0,e.el)("span.dhx_label__holder",k.label),(0,e.el)("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper})]:k.label):null,this._drawSlider()])},l.prototype._drawSlider=function(){return(0,e.el)(".dhx_widget.dhx_slider__track-holder",{dhx_widget_id:this._uid},[(0,e.el)(".dhx_slider__track",{_ref:"track",onmouseover:this._handlers.onmouseover,onmouseout:this._handlers.onmouseout,onclick:this._handlers.onclick},[this._getDetector(),(0,e.el)("div",{_ref:"runner",class:this._getRunnerCss(),ontouchstart:this._handlers.ontouchstart,ontouchend:this._handlers.ontouchend,onmousedown:this._handlers.onmousedown,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,style:this._getRunnerStyle(),tabindex:0}),this.config.tooltip&&(this._mouseIn||this._focusIn||this._isMouseMoving)?this._drawTooltip():null,this.config.tooltip&&this.config.range&&(this._mouseIn||this._focusIn||this._isMouseMoving)?this._drawTooltip(!0):null,this.config.range?(0,e.el)("div",{_ref:"extraRunner",class:this._getRunnerCss(!0),ontouchstart:this._handlers.ontouchstart,ontouchend:this._handlers.ontouchend,onmousedown:this._handlers.onmousedown,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,style:this._getRunnerStyle(!0),tabindex:0}):null]),this.config.tick?this._drawTicks():null])},l.prototype._getDetector=function(){var n,s,_;if(this._disabled)return(0,e.el)(".dhx_slider__range");var v=this.config.mode==="horizontal"?"left":"top",m=this.config.mode==="horizontal"?"width":"height";if(this.config.range){var y=this._currentPosition>this._extraCurrentPosition?[this._currentPosition,this._extraCurrentPosition]:[this._extraCurrentPosition,this._currentPosition],C=y[0],E=y[1];return(0,e.el)(".dhx_slider__range",{style:(n={},n[v]=E+"%",n[m]=C-E+"%",n)})}return this._isInverse()?(0,e.el)(".dhx_slider__range",{style:(s={},s[v]=this._currentPosition+"%",s[m]=100-this._currentPosition+"%",s)}):(0,e.el)(".dhx_slider__range",{style:(_={},_[v]=0,_[m]=this._currentPosition+"%",_)})},l.prototype._drawTooltip=function(n){if(n===void 0&&(n=!1),this._activeTooltip!=="none"&&this.getRootView()){var s=this._activeTooltip==="extraTooltip"?this._extraCurrentPosition:this._currentPosition,_=this.config.mode==="horizontal"?"left":"top",v="";(n&&this._isExtraActive||!n&&!this._isExtraActive)&&(v+=" dhx_slider__thumb-label--active"),this._tooltip||(this._tooltip=document.createElement("div"));var m=this._activeTooltip==="tooltip"?this.getRootView().refs.runner.el.getBoundingClientRect():this.getRootView().refs.extraRunner.el.getBoundingClientRect();this._tooltip.className="dhx_slider__thumb-label"+v,this._tooltip.style.left=m.x+(_==="left"?6:-30)+window.pageXOffset+"px",this._tooltip.style.top=m.y+(_==="left"?-30:6)+window.pageYOffset+"px",this._tooltip.innerText=this._getValue(s).toString(),document.body.appendChild(this._tooltip)}},l.prototype._getTicks=function(){for(var n=this.config,s=n.max,_=n.min,v=n.step,m=n.tick,y=n.majorTick,C=s-_,E=v*m/C,k=[],S=0,M=0;S<1;){var T=+(Number(_)+S*C).toFixed(5),I=M%y==0;k.push({position:(this._isInverse()?100*(1-S):100*S)+"%",isMultiple:I,label:I&&typeof this.config.tickTemplate=="function"?this.config.tickTemplate(T):null}),S+=E,M++}return k.push({position:(this._isInverse()?0:100)+"%",isMultiple:!0,label:typeof this.config.tickTemplate=="function"?this.config.tickTemplate(s):null}),k},l.prototype._drawTicks=function(){var n=this.config.mode==="horizontal"?"left":"top";return(0,e.el)(".dhx_slider__ticks-holder",this._getTicks().map(function(s){var _;return(0,e.el)("div",{class:"dhx_slider__tick"+(s.isMultiple?" dhx_slider__tick--major":""),style:(_={},_[n]=s.position,_)},s.label!==void 0?[(0,e.el)(".dhx_slider__tick-label",s.label)]:null)}))},l.prototype._isNullable=function(n){return this._isInverse()?n===100:n===0},l.prototype._setTooltip=function(n){n.target.classList.contains("dhx_slider__thumb--extra")?this._activeTooltip="extraTooltip":n.target.classList.contains("dhx_slider__thumb")?this._activeTooltip="tooltip":this._activeTooltip="none"},l}(o.View);p.Slider=t},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.default={hours:"Hours",minutes:"Minutes",save:"Save"}},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.isTimeCheck=void 0,p.isTimeCheck=function(x){return/(^12:[0-5][0-9]?AM$)/i.test(x)}},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.linkButtonClasses=void 0,p.linkButtonClasses=".dhx_button.dhx_button--view_link.dhx_button--icon.dhx_button--size_medium.dhx_button--color_secondary"},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.CheckboxEditor=void 0;var x=b(1),w=b(0),g=b(3),a=function(){function e(i,u,o){this._config=o,this._cell={row:i,col:u},this._initHandlers()}return e.prototype.endEdit=function(){var i=this._checked;this._config.events.fire(g.GridEvents.beforeEditEnd,[i,this._cell.row,this._cell.col])?(this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(g.GridEvents.afterEditEnd,[i,this._cell.row,this._cell.col])):this._input.checked=!i},e.prototype.toHTML=function(){this._checked===void 0&&(this._checked=this._cell.row[this._cell.col.id]);var i=(0,x.uid)();return(0,w.el)("div.dhx_checkbox.dhx_cell-editor__checkbox",[(0,w.el)("label",{style:{display:"none"},for:i},this._checked||"false"),(0,w.el)("input.dhx_checkbox__input",{type:"checkbox",_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor",dhx_id:"cell_editor",checked:this._checked,id:i,style:{userSelect:"none"}}),(0,w.el)("span.dhx_checkbox__visual-input")])},e.prototype._initHandlers=function(){var i=this;this._handlers={onClick:function(){var u=!i._input.checked;i._config.events.fire(g.GridEvents.beforeEditStart,[i._cell.row,i._cell.col,"checkbox"])?(i._checked=u,i._config.events.fire(g.GridEvents.afterEditStart,[i._cell.row,i._cell.col,"checkbox"]),i.endEdit()):i._input.checked=!u},didInsert:function(u){i._checkbox=u.el.parentNode.lastChild,i._input=u.el.parentNode.querySelector("input"),u.el.parentNode.addEventListener("click",i._handlers.onClick)}}},e}();p.CheckboxEditor=a},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.ComboboxEditor=void 0;var x=b(0),w=b(3),g=b(59),a=b(19),e=function(){function i(u,o,h){this._config=h,this._cell={row:u,col:o},this._initHandlers()}return i.prototype.endEdit=function(u){var o;if(!u){var h=this._input.getValue();o=this._cell.col.editorType==="multiselect"?h.split(",").join(", "):h}this._config.events.fire(w.GridEvents.beforeEditEnd,[o,this._cell.row,this._cell.col])?(this._input.popup.hide(),document.removeEventListener("mousedown",this._handlers.onOuterClick),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),a.focusManager.setFocusId(this._config.gridId),this._config.events.fire(w.GridEvents.afterEditEnd,[o,this._cell.row,this._cell.col])):this._input.focus()},i.prototype.toHTML=function(){var u=this,o=this._cell.col.options.map(function(f){return typeof f=="string"?{id:"".concat(f),value:f}:f})||[];if(!this._input){this._input=new g.Combobox(null,{cellHeight:37,css:"dhx_cell-editor__combobox",multiselection:this._cell.col.editorType==="multiselect"}),this._input.data.parse(o);var h=this._cell.row[this._cell.col.id],r=this._cell.col.editorType==="multiselect"?(h||"").split(", "):h;this._input.setValue(r),this._input.events.on("keydown",this._handlers.onkeydown)}return document.addEventListener("mousedown",this._handlers.onOuterClick),this._config.$editable.editor=this,(0,x.awaitRedraw)().then(function(){var f=u._input.getRootView().refs.holder.el;u._input.popup.getContainer().style.width=f.offsetWidth+"px",u._input.popup.show(f)}),a.focusManager.setFocusId(this._input._uid),(0,x.inject)(this._input.getRootView())},i.prototype._initHandlers=function(){var u=this;this._handlers={onOuterClick:function(o){if(o.target instanceof Node){var h=u._input&&u._input.getRootNode()&&u._input.getRootNode().contains(o.target),r=u._input.popup&&u._input.popup.getRootNode()&&u._input.popup.getRootNode().contains(o.target);h||r||u.endEdit()}},onkeydown:function(o){o.key!=="Escape"&&o.key!=="Tab"||u.endEdit()}}},i}();p.ComboboxEditor=e},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.KEY_CODES=void 0,p.KEY_CODES={BACKSPACE:8,ENTER:13,ESC:27,DOWN_ARROW:40,UP_ARROW:38,LEFT_ARROW:37,RIGHT_ARROW:39}},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.getEditor=void 0;var x=b(127);p.getEditor=function(w,g){return new x.InputEditor(w,g)}},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.InputEditor=void 0;var x=b(0),w=b(36),g=function(){function a(e,i){var u=this;this._list=i,this._config=i.config,this._item=e,this._list.events.on(w.ListEvents.focusChange,function(o,h){u._mode&&h!==u._item.id&&u.endEdit()}),this._initHandlers()}return a.prototype.endEdit=function(){if(this._input){var e=this._input.value;this._list.events.fire(w.ListEvents.beforeEditEnd,[e,this._item.id])?(this._input.removeEventListener("blur",this._handlers.onBlur),this._input.removeEventListener("change",this._handlers.onChange),this._handlers={},this._mode=!1,this._list.events.fire(w.ListEvents.afterEditEnd,[e,this._item.id])):this._input.focus()}},a.prototype.toHTML=function(){this._mode=!0;var e=this._config.itemHeight;return(0,x.el)(".dhx_input__wrapper",{role:"presentation"},[(0,x.el)("div.dhx_input__container",{role:"presentation"},[(0,x.el)("input.dhx_input",{class:this._item.css?" "+this._item.css:"",style:{height:e,width:"100%",padding:"8px 12px"},_hooks:{didInsert:this._handlers.didInsert},_key:this._item.id,dhx_id:this._item.id})])])},a.prototype._initHandlers=function(){var e=this;this._handlers={onBlur:function(){e.endEdit()},onChange:function(){e.endEdit()},didInsert:function(i){var u=i.el;e._input=u,u.focus(),u.value=e._item.value,u.setSelectionRange(0,u.value.length),u.addEventListener("change",e._handlers.onChange),u.addEventListener("blur",e._handlers.onBlur)}}},a}();p.InputEditor=g},function($,p,b){var x,w=this&&this.__extends||(x=function(o,h){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,f){r.__proto__=f}||function(r,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(r[d]=f[d])},x(o,h)},function(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function r(){this.constructor=o}x(o,h),o.prototype=h===null?Object.create(h):(r.prototype=h.prototype,new r)}),g=this&&this.__assign||function(){return g=Object.assign||function(o){for(var h,r=1,f=arguments.length;r<f;r++)for(var d in h=arguments[r])Object.prototype.hasOwnProperty.call(h,d)&&(o[d]=h[d]);return o},g.apply(this,arguments)},a=this&&this.__spreadArray||function(o,h,r){if(r||arguments.length===2)for(var f,d=0,t=h.length;d<t;d++)!f&&d in h||(f||(f=Array.prototype.slice.call(h,0,d)),f[d]=h[d]);return o.concat(f||Array.prototype.slice.call(h))};Object.defineProperty(p,"__esModule",{value:!0}),p.ProList=void 0;var e=b(0),i=b(24),u=function(o){function h(r,f){var d=o.call(this,r,f)||this;return d.scrollView=new i.ScrollView(function(){return d.getRootView()}),d.paint(),d}return w(h,o),h.prototype.destructor=function(){o.prototype.destructor.call(this),this.scrollView=null},h.prototype.showItem=function(r){var f=this.getRootView();if(f&&f.node&&f.node.el&&r!==void 0){var d=this.getRootNode();if(d){var t=this.config.virtual,c=this.data.getIndex(r),l=Math.floor(c/d.children.length)||0,n=d.children[c-d.children.length*l];if(t||n){var s=t?parseInt(this.config.itemHeight):n.clientHeight,_=t?c*s:n.offsetTop;_>=d.scrollTop+d.clientHeight-s?d.scrollTo(0,_-d.clientHeight+s):_<d.scrollTop&&d.scrollTo(0,_)}}}},h.prototype._renderList=function(){var r=this,f=this._getRange(),d=this.data.getRawData(f[0],f[1]).map(function(l,n){return r._renderItem(l,n)});this.config.virtual&&(d=a(a([(0,e.el)(".div",{style:{height:f[2]+"px"}})],d,!0),[(0,e.el)(".div",{style:{height:f[3]+"px"}})],!1));var t=this.scrollView&&this.scrollView.config.enable,c=(this.config.css?this.config.css:"")+(this.config.multiselection&&this.selection.getItem()?" dhx_no-select--pointer":"")+(t?" dhx_list--scroll-view":"");return(0,e.el)("ul.dhx_widget.dhx_list",g(g({style:{"max-height":this.config.height,position:"relative"},class:c,dhx_widget_id:this._uid},this._handlers),this._getListAriaAttrs(this.config,this.data.getLength())),t?[].concat(this.scrollView.render(d)):d)},h}(b(62).List);p.ProList=u},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.KeyListener=void 0;var x=function(){function w(){var g=this;this._sequence="",document.addEventListener("keydown",function(a){if(g._isActive){var e=a.key;e==="Backspace"&&g._sequence.length>0&&(g._sequence=g._sequence.slice(0,g._sequence.length-1),g._change()),e.length<2&&(g._sequence+=e,g._change())}})}return w.prototype.startNewListen=function(g){this._isActive=!0,this._sequence="",this._currentAction=g},w.prototype.endListen=function(){this._currentAction=null,this.reset(),this._isActive=!1},w.prototype.reset=function(){this._sequence=""},w.prototype._change=function(){this._currentAction(this._sequence),this._addClearTimeout()},w.prototype._addClearTimeout=function(){var g=this;this._clearTimeout&&clearTimeout(this._clearTimeout),this._clearTimeout=setTimeout(function(){g.reset(),g._clearTimeout=null},2e3)},w}();p.KeyListener=x},function($,p,b){var x,w=this&&this.__extends||(x=function(o,h){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,f){r.__proto__=f}||function(r,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(r[d]=f[d])},x(o,h)},function(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function r(){this.constructor=o}x(o,h),o.prototype=h===null?Object.create(h):(r.prototype=h.prototype,new r)});Object.defineProperty(p,"__esModule",{value:!0}),p.ProCombobox=void 0;var g=b(60),a=b(61),e=b(23),i=b(65),u=function(o){function h(r,f){return o.call(this,r,f)||this}return w(h,o),h.prototype._createLayout=function(){var r=this.list=new a.ProList(null,{template:this.config.template,virtual:this.config.virtual,keyNavigation:!1,multiselection:this.config.multiselection,itemHeight:this.config.itemHeight,height:this.config.listHeight,data:this.data}),f=this._layout=new e.ProLayout(this.popup.getContainer(),{css:"dhx_combobox-options dhx_combobox__options",rows:[{id:"select-unselect-all",hidden:!this.config.multiselection||!this.config.selectAllButton},{id:"list",height:"content"},{id:"not-found",hidden:!0}],on:{click:{".dhx_combobox__action-select-all":this._handlers.selectAll}}});f.getCell("list").attach(r),this.config.multiselection&&this.config.selectAllButton&&f.getCell("select-unselect-all").attach(i.selectAllView)},h}(g.Combobox);p.ProCombobox=u},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(u){for(var o,h=1,r=arguments.length;h<r;h++)for(var f in o=arguments[h])Object.prototype.hasOwnProperty.call(o,f)&&(u[f]=o[f]);return u},x.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.TextAreaEditor=void 0;var w=b(0),g=b(3),a=b(1),e=b(14),i=function(){function u(o,h,r){this._config=r,this._cell={row:o,col:h},this._width=this._cell.col.$width;var f=0;this._config.firstColId===this._cell.col.id&&this._cell.row.hasOwnProperty("$level")&&(f=(0,e.getTreeCellWidthOffset)(this._cell.row)),this._width-=f-4,this._initHandlers()}return u.prototype.endEdit=function(o){var h;o||(h=this._editor.value),this._config.events.fire(g.GridEvents.beforeEditEnd,[h,this._cell.row,this._cell.col])?(this._editor.removeEventListener("blur",this._handlers.onBlur),this._editor.removeEventListener("change",this._handlers.onChange),this._editor.removeEventListener("input",this._handlers.onInput),this._cell.col.type!=="string"&&(0,a.isNumeric)(h)&&(h=parseFloat(h)),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(g.GridEvents.afterEditEnd,[h,this._cell.row,this._cell.col])):this._editor.focus()},u.prototype.toHTML=function(){var o=this._cell.row[this._cell.col.id];this._editor&&(o=this._editor.value),this._config.$editable.editor=this;var h=this._cell.row.height!==void 0||this._cell.col.htmlEnable?"dhx_cell-editor dhx_cell-editor__textarea_constant-height":"dhx_cell-editor dhx_cell-editor__textarea";return(0,w.el)("textarea",{_hooks:{didInsert:this._handlers.didInsert},_ref:"textarea",_key:"cell_editor",dhx_id:"cell_editor",value:o,class:h,style:{width:this._width}})},u.prototype._initHandlers=function(){var o=this;this._handlers={onBlur:function(){o.endEdit()},onChange:function(){o.endEdit()},onInput:function(h){var r;if(o._cell.row.height===void 0&&!o._cell.col.htmlEnable){var f=o._getCurrentHeight(o._editor.value,{width:o._cell.col.$width-2,maxHeight:o._config.rowHeight});o._cell.row[o._cell.col.id]=o._editor.value;var d=(0,e.getCalculatedRowHeight)((0,e.getMaxRowHeight)(o._cell.row,o._config.columns)),t=(0,e.getCalculatedRowHeight)((0,e.getMaxRowHeight)(((r={})[o._cell.col.id]=o._cell.row[o._cell.col.id],r),o._config.columns));if(o._minHeight=d===t?o._config.rowHeight:d,f>=o._minHeight&&f!==o._prevHeight){if(!o._config.events.fire(g.GridEvents.beforeRowResize,[o._cell.row,h,f]))return;o._config.events.fire(g.GridEvents.afterRowResize,[o._cell.row,h,f])}o._prevHeight=f}},didInsert:function(h){o._editor=h.el,o._editor.focus(),o._editor.setSelectionRange(0,o._editor.value.length),o._editor.addEventListener("change",o._handlers.onChange),o._editor.addEventListener("blur",o._handlers.onBlur),o._editor.addEventListener("input",o._handlers.onInput)}}},u.prototype._getCurrentHeight=function(o,h){h=x({width:100,maxHeight:40,lineHeight:20},h);var r=document.createElement("textarea");r.className="dhx_cell-editor dhx_cell-editor__textarea",r.value=o,r.style.width="".concat(h.width,"px"),r.style.lineHeight="".concat(h.lineHeight,"px"),r.style.maxHeight="".concat(h.maxHeight,"px"),r.style.boxSizing="border-box",document.body.appendChild(r);var f=this._getElementHeight(r),d=r.value.split(`
`).length,t=Math.round(f/h.lineHeight),c=f<h.maxHeight?h.maxHeight:f;return document.body.removeChild(r),d===1&&d===t?h.maxHeight:c},u.prototype._getElementHeight=function(o){return o.scrollHeight},u}();p.TextAreaEditor=i},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(o){for(var h,r=1,f=arguments.length;r<f;r++)for(var d in h=arguments[r])Object.prototype.hasOwnProperty.call(h,d)&&(o[d]=h[d]);return o},x.apply(this,arguments)},w=this&&this.__spreadArray||function(o,h,r){if(r||arguments.length===2)for(var f,d=0,t=h.length;d<t;d++)!f&&d in h||(f||(f=Array.prototype.slice.call(h,0,d)),f[d]=h[d]);return o.concat(f||Array.prototype.slice.call(h))};Object.defineProperty(p,"__esModule",{value:!0}),p.getFixedCols=p.getFixedColsHeader=void 0;var g=b(0),a=b(2),e=b(35),i=b(67),u=b(8);p.getFixedColsHeader=function(o,h){if(typeof o.leftSplit=="number"){for(var r=0,f=0;f<o.leftSplit;f++)o.columns[f].hidden&&r++;if(r!==o.leftSplit){for(var d=o.columns.slice(0,o.leftSplit-r),t=0,c=0,l=d;c<l.length;c++)t+=l[c].$width;var n=o.leftSplit>=0&&(0,i.getFixedRows)(x(x({},o),{currentColumns:d,$positions:x(x({},o.$positions),{xStart:0,xEnd:o.leftSplit}),scroll:{top:0,left:0},columns:d}),x(x({},h),{name:"header",position:"top",shifts:{x:0,y:0}})),s=x(x({},h),{name:"header",position:"top"});return n&&(0,g.el)(".dhx_".concat(s.name,"-fixed-cols"),x({style:{position:"absolute",top:0,left:0,maxWidth:t,overflow:"hidden"}},{role:"rowgroup","aria-rowcount":n.length}),n.body)}}},p.getFixedCols=function(o,h){if(typeof o.leftSplit=="number"){for(var r=0,f=0;f<o.leftSplit;f++)o.columns[f].hidden&&r++;if(r!==o.leftSplit){var d=o.$totalWidth<=h.wrapper.width?0:(0,a.getScrollbarWidth)(),t=o.$totalHeight+o.headerHeight+o.footerHeight,c=t>h.gridBodyHeight?t-d:t<h.gridBodyHeight-d?t:h.gridBodyHeight,l=o.columns.slice(0,o.leftSplit-r);o.fixedColumnsWidth=(0,u.getTotalWidth)(l);var n=(0,e.getCells)(x(x({},o),{columns:l,$positions:x(x({},o.$positions),{xStart:0,xEnd:o.leftSplit})})),s=h.sticky,_=x(x({},h),{name:"footer",position:"bottom"}),v=o.leftSplit>=0&&(0,i.getRows)(x(x({},o),{currentColumns:l,$positions:x(x({},o.$positions),{xStart:0,xEnd:o.leftSplit})}),x(x({},h),{name:"footer",position:"bottom"})),m=0;v&&v.forEach(function(S){return m+=S.attrs.style.height});var y=function(S){return{role:"rowgroup","aria-rowcount":S}},C=s?v&&(0,g.el)(".dhx_".concat(_.name,"-fixed-cols"),x({style:{position:"absolute",top:c<h.gridBodyHeight?c-m:null,left:0,bottom:c>=h.gridBodyHeight?"".concat(0+(s?d:0),"px"):null}},y(v.length)),v):null,E=o.$positions,k=(0,e.getSpans)(o,!0);return[(0,g.el)(".dhx_grid-fixed-cols-wrap",x({style:{height:c>=h.gridBodyHeight?(s?h.gridBodyHeight:h.gridBodyHeight+o.headerHeight)-d:c,paddingTop:o.headerHeight,overflow:"hidden",width:o.fixedColumnsWidth}},{role:"presentation","aria-label":"Fixed column"}),[(0,g.el)(".dhx_grid-fixed-cols",x(x({style:{top:-o.scroll.top+o.headerHeight-1+"px",paddingTop:h.shifts.y,height:o.$totalHeight,position:"absolute"},_flags:g.KEYED_LIST},(0,e.getHandlers)(E.yStart,E.xStart,o)),y(o.data.length)),w([k&&(0,g.el)(".dhx_span-spans",{role:"presentation"},[k])],n,!0)),(0,g.el)(".dhx_frozen-cols-border",{role:"presentation"})]),o.$footer?C:null]}}}},function($,p,b){var x=this&&this.__spreadArray||function(d,t,c){if(c||arguments.length===2)for(var l,n=0,s=t.length;n<s;n++)!l&&n in t||(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return d.concat(l||Array.prototype.slice.call(t))};Object.defineProperty(p,"__esModule",{value:!0}),p.getContent=void 0;var w,g=b(0),a=b(59),e=b(7),i=b(3),u=b(14),o=b(2),h=b(1);function r(d,t,c,l,n){var s=function(){var _=(0,o.isIE)()||(0,o.isSafari)()?n.target.value:n.path?n.path[0].value:n.explicitOriginalTarget.value;l.value[t]=_,d.fire(i.GridEvents.filterChange,[_,t,c])};c!=="selectFilter"?(w&&clearTimeout(w),w=setTimeout(s,250)):s()}function f(d,t,c,l){if(d&&t&&c){var n=d.id,s=l?l(n,t.data):t.data.reduce(function(v,m){return m[n]===void 0||m[n]===""||isNaN(m[n])||v.push(parseFloat(m[n])),v},[]),_=s;return t.type==="tree"&&(_=t.data.reduce(function(v,m){if(m.$level===0)if(m[n]===void 0||m[n]===""||isNaN(m[n])){var y=0;t.datacollection.eachChild(m.id,function(C){t.datacollection.haveItems(C.id)||(y+=parseFloat(C[n]))}),v.push(y)}else v.push(parseFloat(m[n])||0);return v},[])),c(s,_)}}p.getContent=function(){var d=this;return{inputFilter:{element:{},toHtml:function(t,c){var l=(0,h.uid)(),n=t.id.toString();return this.element[n]=(0,g.el)("div.dhx_grid-filter__label.dxi.dxi-magnify",{"aria-label":"Type to search",_ref:"".concat(t.id,"_filter")},[(0,g.el)("label",{style:{display:"none"},"aria-label":"Type to search",for:l},"Type to search"),(0,g.el)("input",{type:"text",class:"dhx_input dhx_grid-filter",oninput:[r,c.events,t.id,"inputFilter",this],_key:t.id,id:l,value:this.value[t.id]||""})]),this.element[n]},match:function(t,c){for(var l="",n=0;n<c.length;n++){var s=c.charCodeAt(n);l+=s>32&&s<48||s===63||s>90&&s<95||s===124?"\\"+c[n]:c[n]}return new RegExp("".concat(l),"i").test(t)},value:{}},selectFilter:{element:{},toHtml:function(t,c){var l=this,n=t.id.toString();return this.element[n]=(0,g.el)("label.dhx_grid-filter__label.dxi.dxi-menu-down",{_ref:"".concat(t.id,"_filter")},[(0,g.el)("select.dxi.dxi-menu-down",{type:"text",class:"dhx_input dhx_grid-filter dhx_grid-filter--select",onchange:[r,c.events,t.id,"selectFilter",this],_key:t.id},x([(0,g.el)("option",{value:""},"")],t.$uniqueData.map(function(s){return(s=s??"")!==""&&(0,g.el)("option",{value:s,selected:l.value[t.id]===s.toString()},s)}),!0))]),this.element[n]},match:function(t,c){return!c||t&&t.toString()==c},value:{}},comboFilter:{element:{},toHtml:function(t,c){var l,n=t.id.toString();if(!this.element[n]&&c.events){var s=t.header.filter(function(_){return _.filterConfig!==void 0})[0];(l=s&&s.filterConfig?new a.Combobox(null,Object.assign({},s.filterConfig)):new a.Combobox(null,{})).data.parse(t.$uniqueData.map(function(_){return{value:_}})),c.events.on(e.DataEvents.load,function(){l.data.parse(t.$uniqueData.map(function(_){return{value:_}}))}),this.element[n]=l,l.events.on("change",function(_){if(_){var v=void 0;(Array.isArray(_)?_.find(function(m){return l.data.getItem(m)}):l.data.getItem(_))?(v=l.config.multiselection?l.list.selection.getItem().map(function(m){if(m&&l.data.getItem(m.id))return m.value}):l.list.selection.getItem().value,c.events.fire(i.GridEvents.filterChange,[v,n,"comboFilter"])):c.events.fire(i.GridEvents.filterChange,["",n,"comboFilter"])}}),c.events.on(e.DataEvents.change,function(_,v){v!=="add"&&v!=="update"&&v!=="remove"||(l.data.parse(t.$uniqueData.map(function(m){return{value:m}})),l.events.fire(a.ComboboxEvents.change,[l.list.selection.getItem()]))}),c.events.on(e.DataEvents.removeAll,function(){l.data.parse(t.$uniqueData.map(function(_){return{value:_}})),l.events.fire(a.ComboboxEvents.change,[l.list.selection.getItem()])}),l.popup.events.on("afterHide",function(){(!l.list.selection.getItem()||l.config.multiselection&&!l.list.selection.getItem().length)&&(l.clear(),c.events.fire(i.GridEvents.filterChange,["",n,"comboFilter"]))})}else l=this.element[t.id]||new a.Combobox(null,{});return(0,g.inject)(l.getRootView())},match:function(t,c,l,n){if(c===void 0&&(c=""),n===void 0&&(n=!1),Array.isArray(c)){for(var s=void 0,_=function(m){if(s=n?!!t.split(", ").find(function(y){return y===c[m]}):c[m]===t)return"break"},v=0;v<c.length&&_(v)!=="break";v++);return!c||!c.length||s}return c===""||t===c},destroy:function(){if(d.content&&d.content.comboFilter.element){var t=d.content.comboFilter.element;for(var c in t)t[c].destructor(),delete t[c]}},value:{}},sum:{calculate:function(t,c){return c.reduce(function(l,n){return l+(parseFloat(n)||0)},0)},toHtml:function(t,c){var l=f(t,c,this.calculate);return t.format||t.type==="percent"?(0,u.toFormat)(l,t.type,t.format):l?l.toFixed(3):null}},avg:{calculate:function(t,c){return t.length?c.reduce(function(l,n){return l+n},0)/t.length:null},toHtml:function(t,c){var l=f(t,c,this.calculate);return t.format||t.type==="percent"?(0,u.toFormat)(l,t.type,t.format):l?l.toFixed(3):null}},min:{calculate:function(t){return t.length?Math.min.apply(Math,t):null},toHtml:function(t,c){var l=f(t,c,this.calculate);return t.format||t.type==="percent"?(0,u.toFormat)(l,t.type,t.format):l?l.toFixed(3):null}},max:{calculate:function(t){return t.length?Math.max.apply(Math,t):null},toHtml:function(t,c){var l=f(t,c,this.calculate);return t.format||t.type==="percent"?(0,u.toFormat)(l,t.type,t.format):l?l.toFixed(3):null}},count:{calculate:function(t,c){return c.reduce(function(l,n){return l+n},0)},validate:function(t,c){return c.reduce(function(l,n){return n[t]!==void 0&&n[t]!==""&&(isNaN(n)?l.push(1):l.push(n)),l},[])},toHtml:function(t,c){return f(t,c,this.calculate,this.validate)}}}}},function($,p,b){var x=this&&this.__spreadArray||function(e,i,u){if(u||arguments.length===2)for(var o,h=0,r=i.length;h<r;h++)!o&&h in i||(o||(o=Array.prototype.slice.call(i,0,h)),o[h]=i[h]);return e.concat(o||Array.prototype.slice.call(i))};Object.defineProperty(p,"__esModule",{value:!0}),p.startResize=void 0;var w=b(1),g=b(3),a=b(2);p.startResize=function(e,i,u,o){u.targetTouches&&u.preventDefault();var h=u.targetTouches?u.targetTouches[0].clientX:u.clientX,r=e.config.columns.filter(function(c){return!c.hidden}),f=0;e.config.$resizing=i;var d=function(c){var l=(0,w.findIndex)(r,function(S){return S.id===i}),n=c.targetTouches?c.targetTouches[0].clientX:c.clientX,s=n-e.getRootNode().getBoundingClientRect().left,_=e.config.$totalHeight>e.config.height?(0,a.getScrollbarWidth)():0;if(!(e.config.leftSplit===l+1&&s>=e.config.width-_-2)){f=f||r[l].$width;var v,m=r[l].minWidth||40,y=r[l].maxWidth,C=n-h,E=x([],r,!0),k=f+C;y&&k>=y||k<=m?(k<=m&&(v=m),k>=y&&(v=y)):v=k,E[l].$width=v,E[l].$fixed=!0,e.events.fire(g.GridEvents.resize,[r[l],c]),e.paint()}},t=function(){u.targetTouches?(document.removeEventListener("touchmove",d),document.removeEventListener("touchend",t)):(document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",t)),o()};u.targetTouches?(document.addEventListener("touchmove",d),document.addEventListener("touchend",t)):(document.addEventListener("mousemove",d),document.addEventListener("mouseup",t)),e.paint()}},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(i){for(var u,o=1,h=arguments.length;o<h;o++)for(var r in u=arguments[o])Object.prototype.hasOwnProperty.call(u,r)&&(i[r]=u[r]);return i},x.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.getKeysHandlers=p.selectionMove=void 0;var w=b(3),g=b(2),a=b(8);function e(i,u,o,h,r,f,d){if(r===void 0&&(r=!1),f===void 0&&(f=!1),d===void 0&&(d=!1),!u.config.$editable&&u.config.selection&&!(0,g.locateNodeByClassName)(i,"dhx_grid-header-cell")){i&&i.preventDefault();var t=u.selection.getCell(),c=u.config.columns.filter(function(s){return!s.hidden});if(u.data.filter(function(s){return!s.hidden}),t)if(o==="vertical")if(r){var l=h===1?u.data.getItem(u.data.getId(u.data.getLength()-1)):u.data.getItem(u.data.getId(0));u.selection.setCell(l.id,t.column.id,f,d),u.scrollTo(l.id.toString(),t.column.id.toString())}else(n=u.data.getIndex(t.row.id.toString()))+h>=0&&n+h<u.data.getLength()&&(l=u.data.getItem(u.data.getId(n+h)),u.selection.setCell(l.id,t.column.id,f,d),u.scrollTo(l.id.toString(),t.column.id.toString()));else if(r)l=h===1?c[c.length-1]:c[0],u.selection.setCell(t.row.id,l.id,f,d),u.scrollTo(t.row.id.toString(),l.id.toString());else{var n;(n=c.indexOf(t.column))+h>=0&&n+h<c.length&&(u.selection.setCell(t.row.id,c[n+h].id,f,d),u.scrollTo(t.row.id.toString(),c[n+h].id.toString()))}}}p.selectionMove=e,p.getKeysHandlers=function(i){var u,o,h,r=i.config.selection==="cell"||i.config.selection==="complex"||i.config.selection===!0,f={};if(i.getRootView()){var d=(h=(o=(u=i.getRootView())===null||u===void 0?void 0:u.refs)===null||o===void 0?void 0:o.grid_body)===null||h===void 0?void 0:h.el;if(!d)return;f={pageUp:function(t){t.preventDefault(),d.scrollTop-=d.clientHeight},pageDown:function(t){t.preventDefault(),d.scrollTop+=d.clientHeight},home:function(t){t.preventDefault(),d.scrollTop=0},end:function(t){t.preventDefault(),d.scrollTop+=d.scrollHeight}}}return x({enter:function(t){var c=(0,g.locateNodeByClassName)(t,"dhx_grid-header-cell");if(c){var l=c.getAttribute("dhx_id"),n=t.target.getAttribute("dhx_resized");if(l){var s=i.getColumn(l);s&&(0,a.isSortable)(i.config,s)&&!n&&i.events.fire(w.GridEvents.afterSort,[l])}}if(r){var _=i.selection.getCell();_&&(_.column.editable!==!1&&i.config.editable||_.column.editable)&&(i.config.$editable?i.editEnd():_.column.type!=="boolean"?i.editCell(_.row.id,_.column.id,_.column.editorType):i.events.fire(w.GridEvents.afterEditEnd,[!_.row[_.column.id],_.row,_.column]))}else i.config.$editable&&i.editEnd()},space:function(t){var c,l=i.selection.getCell();r&&((c=l==null?void 0:l.column.editable)!==null&&c!==void 0?c:i.config.editable)&&!i.config.$editable&&l&&l.column.type==="boolean"&&(t.preventDefault(),i.events.fire(w.GridEvents.afterEditEnd,[!l.row[l.column.id],l.row,l.column]))},escape:function(){i.config.$editable&&i.editEnd(!0)},tab:function(t){if(i.config.selection&&!(0,g.locateNodeByClassName)(t,"dhx_grid-header-cell")){i.config.$editable&&i.editEnd();var c=i.selection.getCell(),l=i.config.columns.filter(function(_){return!_.hidden});if(c){var n=l.indexOf(c.column)+1;if(n>=0&&n<l.length)t&&t.preventDefault(),i.selection.setCell(c.row.id,l[n].id),i.scrollTo(c.row.id.toString(),l[n].id.toString());else if(n>=0){var s=i.data.getIndex(c.row.id.toString())+1;s<i.data.getLength()&&(t&&t.preventDefault(),i.selection.setCell(i.data.getId(s),l[0].id),i.scrollTo(i.data.getId(s).toString(),l[0].id.toString()))}}}},"shift+tab":function(t){if(i.config.selection&&!(0,g.locateNodeByClassName)(t,"dhx_grid-header-cell")){i.config.$editable&&i.editEnd();var c=i.selection.getCell(),l=i.config.columns.filter(function(_){return!_.hidden});if(c){var n=l.indexOf(c.column)-1;if(n>=0&&n<l.length)t&&t.preventDefault(),i.selection.setCell(c.row.id,l[n].id),i.scrollTo(c.row.id.toString(),l[n].id.toString());else if(n<i.data.getLength()){var s=i.data.getIndex(c.row.id.toString())-1;s>=0&&(t&&t.preventDefault(),i.selection.setCell(i.data.getId(s),l[l.length-1].id),i.scrollTo(i.data.getId(s).toString(),l[l.length-1].id.toString()))}}}},arrowUp:function(t){e(t,i,"vertical",-1)},"ctrl+arrowUp":function(t){e(t,i,"vertical",-1,!0)},"shift+arrowUp":function(t){i.config.multiselection&&e(t,i,"vertical",-1,!1,!1,!0)},"ctrl+shift+arrowUp":function(t){i.config.multiselection&&e(t,i,"vertical",-1,!0,!1,!0)},arrowDown:function(t){e(t,i,"vertical",1)},"ctrl+arrowDown":function(t){e(t,i,"vertical",1,!0)},"shift+arrowDown":function(t){i.config.multiselection&&e(t,i,"vertical",1,!1,!1,!0)},"ctrl+shift+arrowDown":function(t){i.config.multiselection&&e(t,i,"vertical",1,!0,!1,!0)},arrowRight:function(t){e(t,i,"horizontal",1)},"ctrl+arrowRight":function(t){e(t,i,"horizontal",1,!0)},"shift+arrowRight":function(t){i.config.multiselection&&e(t,i,"horizontal",1,!1,!1,!0)},"ctrl+shift+arrowRight":function(t){i.config.multiselection&&e(t,i,"horizontal",1,!0,!1,!0)},arrowLeft:function(t){e(t,i,"horizontal",-1)},"ctrl+arrowLeft":function(t){e(t,i,"horizontal",-1,!0)},"shift+arrowLeft":function(t){i.config.multiselection&&e(t,i,"horizontal",-1,!1,!1,!0)},"ctrl+shift+arrowLeft":function(t){i.config.multiselection&&e(t,i,"horizontal",-1,!0,!1,!0)}},f)}},function($,p,b){var x,w=this&&this.__extends||(x=function(t,c){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,n){l.__proto__=n}||function(l,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(l[s]=n[s])},x(t,c)},function(t,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function l(){this.constructor=t}x(t,c),t.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}),g=this&&this.__assign||function(){return g=Object.assign||function(t){for(var c,l=1,n=arguments.length;l<n;l++)for(var s in c=arguments[l])Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);return t},g.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.ProGrid=void 0;var a=b(53),e=b(3),i=b(7),u=b(2),o=b(14),h=b(54),r=b(0),f=b(24),d=function(t){function c(l,n){var s=t.call(this,l,g({autoHeight:!1},n))||this;return s.scrollView=new f.ScrollView(function(){return s.getRootView()},{scrollHandler:function(_){return s.events.fire(e.GridEvents.scroll,[{y:_.target.scrollTop,x:_.target.scrollLeft}])}}),s}return w(c,t),c.prototype._createView=function(){var l=this;return(0,r.create)({render:function(n,s){return(0,h.proRender)(n,s,l._htmlEvents,l.selection,l._uid)}},this)},c.prototype._setEventHandlers=function(){var l=this;t.prototype._setEventHandlers.call(this),this.events.on(e.GridEvents.headerCellMouseDown,function(n,s){s.targetTouches?l._touch.timer=setTimeout(function(){l._dragStartColumn(s,n)},l._touch.duration):l._dragStartColumn(s,n)}),this._events.on(e.GridSystemEvents.headerCellTouchMove,function(n,s){l._touch.start&&s.preventDefault(),l._clearTouchTimer()}),this._events.on(e.GridSystemEvents.headerCellTouchEnd,function(){l._touch.start=!1,l._clearTouchTimer()}),this.events.on(e.GridEvents.resize,function(){l._parseColumns(),l._checkFilters()}),this.events.on(e.GridEvents.afterResizeEnd,function(){l.config.autoHeight&&(l.config.data=l.data.map(function(n){var s=(0,o.getMaxRowHeight)(n,l.config.columns);return n.$height=(0,o.getCalculatedRowHeight)(s,{rowHeight:l.config.rowHeight,padding:8}),n}))}),this.events.on(e.GridEvents.afterRowResize,function(n,s,_){var v=l.data.getItem(n.id),m=v.id,y=v.height,C=v.$height;y&&y!==C&&l.data.update(m,{height:_}),l.data.update(m,{$height:_},!0),l.config.data=l.data.map(function(E){return E}),l.paint()}),this.events.on(e.GridEvents.scroll,function(){l._lazyLoad()})},c.prototype._prepareData=function(l){var n,s=this;if(this._adjustColumns(),Array.isArray(l)||(0,i.isTreeCollection)(l))n=l;else{var _=l.getInitialData()||[];n=_.length!==0?_:l.getRawData(0,l.getLength())}return n.map(function(v){if(s.config.autoHeight&&v.height===void 0){var m=(0,o.getMaxRowHeight)(v,s.config.columns);v.$height=(0,o.getCalculatedRowHeight)(m,{rowHeight:s.config.rowHeight,padding:8})||s.config.rowHeight}else v.$height=v.height||s.config.rowHeight;return v})},c.prototype._prepareDataFromTo=function(l,n,s){var _=this;return l.mapRange(n,s,function(v){var m=(0,o.getMaxRowHeight)(v,_.config.columns);return v.$height=(0,o.getCalculatedRowHeight)(m,{rowHeight:_.config.rowHeight,padding:8})||_.config.rowHeight,v})},c.prototype._lazyLoad=function(){var l,n,s=this,_=this.data.dataProxy;if(_&&_.config){var v=this.data.getRawData(0,-1,null,2),m=(0,h.getRenderConfig)(this,v,{width:this.config.width,height:this.config.height}),y=this.data.getIndex((l=m.currentRows[0])===null||l===void 0?void 0:l.id.toString()),C=this.data.getIndex((n=m.currentRows[m.currentRows.length-1])===null||n===void 0?void 0:n.id.toString());!this.data.isDataLoaded(y,C)&&this.data.events.fire(i.DataEvents.beforeLazyLoad,[])&&(_.updateUrl(null,{from:y,limit:_.config.limit}),this.data.load(_).then(function(){s.config.autoHeight&&s._prepareDataFromTo(s.data,y,C)}))}},c.prototype._getColumnGhost=function(l){var n=this._container||(0,u.toNode)(this._uid),s=n.querySelector(".dhx_header-row"),_=s.querySelector('.dhx_grid-header-cell[dhx_id="'.concat(l.id,'"]')),v=Array.from(s.childNodes).indexOf(_)+1,m=n.querySelectorAll('.dhx_grid-header-cell[dhx_id="'.concat(l.id,'"]:not(.dhx_span-cell)')),y=n.querySelectorAll(".dhx_grid_data .dhx_grid-cell:nth-child(".concat(v,")")),C=document.createElement("div");return m.forEach(function(E){return C.appendChild(E.cloneNode(!0))}),y.forEach(function(E){return C.appendChild(E.cloneNode(!0))}),C},c.prototype._dragStartColumn=function(l,n){var s=l.target,_=function(v){return v.classList.contains("dhx_grid-custom-content-cell")};_(s.parentElement)||_(s.parentElement.parentElement)||!(n.draggable||this.config.dragItem==="column"&&n.draggable!==!1||this.config.dragItem==="both"&&n.draggable!==!1)||(0,u.locateNodeByClassName)(l,"dhx_resizer_grip_wrap")||(l.targetTouches&&(this._touch.start=!0),i.dragManager.onMouseDown(l,[n.id],[this._getColumnGhost(n)]))},c}(a.Grid);p.ProGrid=d},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.collectionStore=void 0;var x=function(){function g(){this._store={}}return g.prototype.setItem=function(a,e){this._store[a]=e},g.prototype.getItem=function(a){return this._store[a]?this._store[a]:null},g}(),w=window.dhxHelpers=window.dhxHelpers||{};w.collectionStore=w.collectionStore||new x,p.collectionStore=w.collectionStore},function($,p,b){(function(x){var w,g=this&&this.__extends||(w=function(o,h){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,f){r.__proto__=f}||function(r,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(r[d]=f[d])},w(o,h)},function(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function r(){this.constructor=o}w(o,h),o.prototype=h===null?Object.create(h):(r.prototype=h.prototype,new r)});Object.defineProperty(p,"__esModule",{value:!0}),p.LazyDataProxy=void 0;var a=b(20),e=b(1),i=b(34),u=function(o){function h(r,f){var d=o.call(this,r)||this;return d.config=(0,e.extend)({from:0,limit:50,delay:50,prepare:0},f),d.updateUrl(r,{from:d.config.from,limit:d.config.limit}),d}return g(h,o),h.prototype.load=function(){var r=this;return new x(function(f){r._timeout?(clearTimeout(r._timeout),r._timeout=setTimeout(function(){i.ajax.get(r.url,{responseType:"text"}).then(f),r._cooling=!0},r.config.delay),r._cooling&&(f(null),r._cooling=!1)):(i.ajax.get(r.url,{responseType:"text"}).then(f),r._cooling=!0,r._timeout=setTimeout(function(){}))})},h}(a.DataProxy);p.LazyDataProxy=u}).call(this,b(10))},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.Selection=void 0;var x=b(5),w=b(27),g=b(12),a=function(){function e(i,u,o){var h=this;this.events=o||new x.EventSystem(this),this._data=u,this.config=i,this._data.events.on(g.DataEvents.removeAll,function(){h._selected=null}),this._data.events.on(g.DataEvents.change,function(){if(h._selected){var r=h._data.getNearId(h._selected);r!==h._selected&&(h._selected=null,r&&h.add(r))}})}return e.prototype.getId=function(){return this._selected},e.prototype.getItem=function(){return this._selected?this._data.getItem(this._selected):null},e.prototype.remove=function(i){return!(i=i||this._selected)||!!this.events.fire(w.SelectionEvents.beforeUnSelect,[i])&&(this._data.update(i,{$selected:!1},!0),this._selected=null,this.events.fire(w.SelectionEvents.afterUnSelect,[i]),!0)},e.prototype.add=function(i){this._selected!==i&&!this.config.disabled&&this._data.exists(i)&&(this.remove(),this._addSingle(i))},e.prototype.enable=function(){this.config.disabled=!1},e.prototype.disable=function(){this.remove(),this.config.disabled=!0},e.prototype._addSingle=function(i){this.events.fire(w.SelectionEvents.beforeSelect,[i])&&(this._selected=i,this._data.update(i,{$selected:!0},!0),this.events.fire(w.SelectionEvents.afterSelect,[i]))},e}();p.Selection=a},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.createFactory=void 0;var x=b(141),w=b(142),g=b(143),a=b(144),e=b(145),i=b(146),u=b(147),o=b(148),h=b(149),r=b(150),f=b(21);p.createFactory=function(d){for(var t=d.defaultType,c=d.allowedTypes,l=d.widgetName,n=d.widget,s=new Set,_=0,v=c;_<v.length;_++){var m=v[_];s.add(m)}var y=n.config,C=n.events,E=n.data;return function(k,S){if(k.hidden||!(k.type&&k.type!=="button"&&k.type!=="navItem"&&k.type!=="menuItem"||k.value||k.icon||k.html))return null;k.type=k.type||t,s&&!s.has(k.type)&&(k.type=t),k.type==="imageButton"&&l!=="ribbon"&&(k.active=!1),S&&k.type!=="spacer"&&k.type!=="separator"&&k.type!=="customHTML"&&(k.type="menuItem"),E.haveItems(k.id)&&function(T,I,O){switch(T){case"sidebar":case"context-menu":I.$openIcon="right";break;case"toolbar":I.parent===O.getRoot()?I.$openIcon="right":I.$openIcon="bottom";break;case"menu":I.parent!==this.data.getRoot()&&(I.$openIcon="right");break;case"ribbon":var H=O.getItem(I.parent);H&&I.type!=="block"&&(H.type==="block"?I.$openIcon="bottom":I.$openIcon="right")}}(l,k,E),l==="toolbar"&&k.items&&k.items.forEach(function(T){T.type||(T.type="menuItem")});var M=k.type!=="customHTML"&&function(T,I,O,H){switch(T.type){case"navItem":case"selectButton":return(0,w.navItem)(T,O,H.collapsed);case"button":return(0,x.button)(T,O);case"title":return(0,h.title)(T,O);case"separator":return(0,u.separator)(T,O);case"spacer":return(0,o.spacer)(T,O);case"input":return(0,e.input)(T,I,O);case"imageButton":return(0,a.imageButton)(T,O);case"menuItem":return(0,i.menuItem)(T,O,H.asMenuItem);case"customHTMLButton":return(0,g.customHTMLButton)(T,O,H.asMenuItem);case"datePicker":return(0,r.datePicker)(T,I,O);default:throw new Error("unknown item type "+T.type)}}(k,C,l,{asMenuItem:S,collapsed:l!=="sidebar"||y.collapsed});return(0,f.navbarComponentMixin)(l,k,S,M)}}},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(a){for(var e,i=1,u=arguments.length;i<u;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o]);return a},x.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.button=void 0;var w=b(0),g=b(21);p.button=function(a,e){var i=a.icon&&!a.value,u=i?" dhx_navbar-count--absolute":" dhx_navbar-count--button-inline";return(0,w.el)("button.dhx_button",x({class:(0,g.getNavbarButtonCSS)(a,e),dhx_id:a.id,disabled:a.disabled,type:"button"},function(o){var h=o.active||o.$activeParent,r={"aria-disabled":o.disabled?"true":"false","aria-label":o.value||o.tooltip||o.id||""+" ".concat(o.count||"")};return o.items&&(r.id=o.id,r["aria-haspopup"]="menu",h&&(r["aria-expanded"]="true")),r}(a)),[a.icon?(0,g.getIcon)(a.icon,"button"):null,a.html?(0,w.el)("div.dhx_button__text",{".innerHTML":a.html}):a.value&&(0,w.el)("span.dhx_button__text",a.value),a.count>0&&(0,g.getCount)(a,u,i),a.value&&a.$openIcon?(0,w.el)("span.dhx_button__icon.dhx_button__icon--menu.dxi.dxi-menu-right",{"aria-hidden":"true"}):null,a.loading&&(0,w.el)("span.dhx_button__loading",{"aria-hidden":"true"},[(0,w.el)("span.dhx_button__loading-icon.dxi.dxi-loading")])])}},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(a){for(var e,i=1,u=arguments.length;i<u;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o]);return a},x.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.navItem=void 0;var w=b(0),g=b(21);p.navItem=function(a,e,i){var u=" dhx_"+e+"-button";return(0,w.el)("button",x({class:"dhx_button"+u+(a.active||a.$activeParent?u+"--active":"")+(a.disabled?u+"--disabled":"")+(a.$openIcon?u+"--select":"")+(a.circle?u+"--circle":"")+(a.size?" "+u+"--"+a.size:"")+(!a.value&&a.icon?u+"--icon":"")+(a.css?" "+a.css:""),dhx_id:a.id,disabled:a.disabled,type:"button"},function(o){var h={"aria-disabled":o.disabled?"true":"false","aria-label":o.value||" "},r=o.active||o.$activeParent;return o.type==="selectButton"||o.items?(h.id=o.id,h["aria-haspopup"]="menu",r&&(h["aria-expanded"]="true")):((o.twoState||r)&&(h["aria-pressed"]=r?"true":"false"),!o.value&&o.icon&&o.tooltip&&(h["aria-label"]="".concat(o.tooltip," ").concat(o.count||""))),h}(a)),[a.icon&&(0,w.el)("span",{class:a.icon+u+"__icon","aria-hidden":"true"}),a.html&&(0,w.el)("div",{class:u.trim()+"__html",".innerHTML":a.html}),!a.html&&a.value&&(0,w.el)("span",{class:u.trim()+"__text"},a.value),a.count>0&&(0,g.getCount)(a,u+"__count",i),a.$openIcon&&(0,w.el)("span.dxi.dxi-menu-right",{class:u+"__caret","aria-hidden":"true"})])}},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(g){for(var a,e=1,i=arguments.length;e<i;e++)for(var u in a=arguments[e])Object.prototype.hasOwnProperty.call(a,u)&&(g[u]=a[u]);return g},x.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.customHTMLButton=void 0;var w=b(0);p.customHTMLButton=function(g,a,e){var i=e?" dhx_button dhx_menu-button":" dhx_button dhx_nav-menu-button";return(0,w.el)("button",x({class:"dhx_custom-button"+i+(g.$activeParent?i+"--active":""),dhx_id:g.id,type:"button",".innerHTML":g.html},function(u){var o={"aria-disabled":u.disabled?"true":"false"};return(u.twoState||u.active||u.$activeParent)&&(o["aria-pressed"]=u.active||u.$activeParent?"true":"false"),o}(g)),g.html?"":g.value)}},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(a){for(var e,i=1,u=arguments.length;i<u;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o]);return a},x.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.imageButton=void 0;var w=b(0),g=b(21);p.imageButton=function(a,e){var i="dhx_"+e+"-button-image",u=e==="ribbon";return(0,w.el)("button.dhx_button",x({class:i+(a.size?" "+i+"--"+a.size:"")+(!a.value&&a.src?" "+i+"--icon":"")+(u&&a.$openIcon?" "+i+"--select":"")+(a.active?" "+i+"--active":""),dhx_id:a.id,type:"button"},function(o){var h={"aria-disabled":o.disabled?"true":"false"};return(o.twoState||o.active)&&(h["aria-pressed"]=o.active?"true":"false"),!o.value&&o.src&&o.tooltip&&(h["aria-label"]="".concat(o.tooltip," ").concat(o.count||"")),h}(a)),[u&&a.value&&a.$openIcon&&(0,w.el)("span.dxi.dxi-menu-right",{class:i+"__caret","aria-hidden":"true"}),a.html?(0,w.el)("div",{class:i+"__text",".innerHTML":a.html}):a.value&&(0,w.el)("span",{class:i+"__text"},a.value),a.src&&(0,w.el)("span",{class:i+"__image",style:{backgroundImage:"url(".concat(a.src,")")},role:"presentation"}),a.count>0&&(0,g.getCount)(a,i+"__count",!0)])}},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.input=void 0;var x=b(0),w=b(28);function g(i,u){i.fire(w.NavigationBarEvents.inputBlur,[u])}function a(i,u){i.fire(w.NavigationBarEvents.inputFocus,[u])}function e(i,u,o){i.fire(w.NavigationBarEvents.inputChange,[u,o.target.value])}p.input=function(i,u,o){return(0,x.el)(".dhx_form-group.dhx_form-group--no-message-holder.dhx_form-group--label_sr"+".dhx_".concat(o,"__input"),{style:{width:i.width?i.width:"200px"},role:"presentation"},[i.label&&(0,x.el)("label.dhx_label",{for:i.id},i.label),(0,x.el)(".dhx_input__wrapper",{role:"presentation"},[(0,x.el)("input.dhx_input",{placeholder:i.placeholder,class:i.icon?"dhx_input--icon-padding":"",value:i.value,disabled:i.disabled,onblur:[g,u,i.id],onfocus:[a,u,i.id],oninput:[e,u,i.id],dhx_id:i.id,_hooks:{didInsert:function(h){u&&u.fire(w.NavigationBarEvents.inputCreated,[i.id,h.el])}},_key:i.id,"aria-label":i.label||i.helpMessage||"type ".concat(i.placeholder?"text like "+i.placeholder:"text")}),i.icon?(0,x.el)(".dhx_input__icon",{class:i.icon,"aria-hidden":"true"}):null])])}},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(a){for(var e,i=1,u=arguments.length;i<u;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o]);return a},x.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.menuItem=void 0;var w=b(0),g=b(21);p.menuItem=function(a,e,i){var u=i?" dhx_menu-button":" dhx_nav-menu-button";return(0,w.el)("button",x({class:"dhx_button"+u+(a.disabled?u+"--disabled":"")+(a.active||a.$activeParent?u+"--active":""),disabled:a.disabled,dhx_id:a.id,type:"button"},function(o){var h={role:"menuitem","aria-disabled":o.disabled?"true":"false"};return o.items&&(h["aria-haspopup"]="true"),h}(a)),i?[a.icon||a.value||a.html?(0,w.el)("span.dhx_menu-button__block.dhx_menu-button__block--left",[a.icon&&(0,w.el)("span.dhx_menu-button__icon",{class:a.icon}),a.html?(0,w.el)("div.dhx_menu-button__text",{".innerHTML":a.html}):a.value&&(0,w.el)("span.dhx_menu-button__text",a.value)]):null,a.count>0||a.hotkey||a.items?(0,w.el)("span.dhx_menu-button__block.dhx_menu-button__block--right",[a.count>0&&(0,g.getCount)(a," dhx_menu-button__count",!1),a.hotkey&&(0,w.el)("span.dhx_menu-button__hotkey",a.hotkey),a.items&&(0,w.el)("span.dhx_menu-button__caret.dxi.dxi-menu-right")]):null]:[a.icon&&(0,w.el)("span.dhx_menu-button__icon",{class:a.icon}),a.html?(0,w.el)("div.dhx_menu-button__text",{".innerHTML":a.html}):a.value&&(0,w.el)("span.dhx_nav-menu-button__text",a.value)])}},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.separator=void 0,p.separator=function(x,w){return null}},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.spacer=void 0,p.spacer=function(x,w){return null}},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.title=void 0;var x=b(0);p.title=function(w,g){return(0,x.el)("span",{class:"dhx_navbar-title dhx_navbar-title--"+g,dhx_id:w.id,".innerHTML":w.html,"aria-label":w.value||""},w.html?null:w.value)}},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.datePicker=void 0;var x,w,g,a=b(0),e=b(55),i=b(15),u=b(28);function o(r,f){r.fire(u.NavigationBarEvents.inputBlur,[f])}function h(r,f,d){(0,a.awaitRedraw)().then(function(){return g.show(d.target)}),r.fire(u.NavigationBarEvents.inputFocus,[f])}p.datePicker=function(r,f,d){return x||(g=new i.Popup,w=new e.Calendar(null,{dateFormat:r.dateFormat||"%d/%m/%y",value:r.value,css:"dhx_widget--bordered"}),g.attach(w),w.events.on("change",function(){g.hide(),f.fire(u.NavigationBarEvents.inputChange,[r.id,w.getValue()])}),x=!0),(0,a.el)(".dhx_form-group.dhx_form-group--no-message-holder.dhx_form-group--label_sr"+".dhx_".concat(d,"__input"),{style:{width:r.width?r.width:"200px"},role:"presentation"},[r.label&&(0,a.el)("label.dhx_label",{for:r.id},r.label),(0,a.el)(".dhx_input__wrapper",{role:"presentation"},[(0,a.el)("input.dhx_input",{placeholder:r.placeholder,class:r.icon?"dhx_input--icon-padding":"",value:w.getValue(),disabled:r.disabled,onblur:[o,f,r.id],onfocus:[h,f,r.id],dhx_id:r.id,readOnly:!0,_hooks:{didInsert:function(t){f&&f.fire(u.NavigationBarEvents.inputCreated,[r.id,t.el])}},_key:r.id,"aria-label":r.label||r.helpMessage||"type ".concat(r.placeholder?"text like "+r.placeholder:"text")}),r.icon?(0,a.el)(".dhx_input__icon",{class:r.icon,"aria-hidden":"true"}):null])])}},function($,p,b){var x=this&&this.__createBinding||(Object.create?function(g,a,e,i){i===void 0&&(i=e);var u=Object.getOwnPropertyDescriptor(a,e);u&&!("get"in u?!a.__esModule:u.writable||u.configurable)||(u={enumerable:!0,get:function(){return a[e]}}),Object.defineProperty(g,i,u)}:function(g,a,e,i){i===void 0&&(i=e),g[i]=a[e]}),w=this&&this.__exportStar||function(g,a){for(var e in g)e==="default"||Object.prototype.hasOwnProperty.call(a,e)||x(a,g,e)};Object.defineProperty(p,"__esModule",{value:!0}),w(b(68),p),w(b(152),p)},function($,p,b){var x,w=this&&this.__extends||(x=function(r,f){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,t){d.__proto__=t}||function(d,t){for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(d[c]=t[c])},x(r,f)},function(r,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function d(){this.constructor=r}x(r,f),r.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}),g=this&&this.__assign||function(){return g=Object.assign||function(r){for(var f,d=1,t=arguments.length;d<t;d++)for(var c in f=arguments[d])Object.prototype.hasOwnProperty.call(f,c)&&(r[c]=f[c]);return r},g.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.ProToolbar=void 0;var a=b(68),e=b(24),i=b(0),u=b(2),o=b(17),h=function(r){function f(d,t){var c=r.call(this,d,t)||this;return c.scrollView=new e.ScrollView(function(){return c.getRootView()}),c}return w(f,r),f.prototype._draw=function(d){var t=this,c=this.data.getLength()?this.data.reduce(function(n,s){switch(s.type){case"title":return n||20;case"button":return s.size==="small"&&(!n||n<=28)?28:n||32;default:return 32}},0)+24:null,l=[(0,i.el)("ul.dhx_navbar.dhx_navbar--horizontal",g(g({dhx_widget_id:this._uid,tabindex:0},function(n){return{role:"toolbar","aria-label":n||""}}(d)),{onclick:this._handlers.onclick,onmousedown:this._handlers.onmousedown,oninput:this._handlers.input,onmouseover:this._handlers.tooltip,_hooks:{didInsert:function(n){n.el.addEventListener("keyup",function(s){if(s.which===9){var _=(0,u.locateNode)(document.activeElement);if(_){var v=_.getAttribute("dhx_id"),m=t.data.getItem(v);m.tooltip&&(0,o.tooltip)(m.tooltip,{node:_,position:o.Position.bottom,force:!0})}}},!0)}}}),this.data.map(function(n){return t._factory(n)},this.data.getRoot(),!1))];return(0,i.el)("nav.dhx_widget.dhx_toolbar",{style:{height:c},class:this.config.css?this.config.css:""},this.scrollView&&this.scrollView.config.enable?[].concat(this.scrollView.render(l)):l)},f}(a.Toolbar);p.ProToolbar=h},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(n){for(var s,_=1,v=arguments.length;_<v;_++)for(var m in s=arguments[_])Object.prototype.hasOwnProperty.call(s,m)&&(n[m]=s[m]);return n},x.apply(this,arguments)},w=this&&this.__spreadArray||function(n,s,_){if(_||arguments.length===2)for(var v,m=0,y=s.length;m<y;m++)!v&&m in s||(v||(v=Array.prototype.slice.call(s,0,m)),v[m]=s[m]);return n.concat(v||Array.prototype.slice.call(s))};Object.defineProperty(p,"__esModule",{value:!0}),p.Editor=void 0;var g=b(11),a=b(154),e=b(155),i=b(9),u=b(156),o=b(70),h=b(158),r=b(4),f=b(160),d=b(69),t=b(37),c=b(31),l=function(){function n(s){var _=s.events,v=s.uid,m=s.getRootView,y=s.repaint,C=s.defaultStyle,E=this;this.getTextElement=function(k,S){var M=(0,i.getTextHash)(k,S),T=E._getRootView();return T.refs&&T.refs[M]&&T.refs[M].el&&T.refs[M].el.childNodes[0]},this._events=_,this._repaint=y,this._getRootView=m,this._defaultStyle=C,this.selection=new f.SelectionHelper(this,v,_),this.clear(),this.manager=new h.Manager(this),this._events.on(r.RichTextEvents.change,function(k){k!==r.Action.update&&(E._tempNode=null)}),this._events.on(r.RichTextEvents.selectionChange,function(){E._tempNode=null})}return n.prototype.clear=function(){this.blocks=[new d.Block([new t.TextNode("",g.emptyStyle)])],this.selection.clear()},n.prototype.getState=function(){var s=this;return JSON.stringify({b:this.blocks.map(function(_){return{s:(0,e.minimizeBlockStyle)(_.style),n:_.textNodes.map(function(v){return{s:(0,e.minimizeTextNodeStyle)(v.style,s._defaultStyle),t:v.text}})}}),s:this.selection.getCompact()})},n.prototype.setState=function(s){var _=this,v=JSON.parse(s);this.blocks=v.b.map(function(m){var y=m.s,C=m.n.map(function(E){return new t.TextNode(E.t,(0,e.textNodeStyleFromMinimize)(E.s,_._defaultStyle))});return new d.Block(C,(0,e.blockStyleFromMinimize)(y))}),this.selection.setCompact(v.s)},n.prototype.parse=function(s,_){if(_===void 0&&(_="html"),_==="html"||_==="markdown"){var v=(0,u.parser)(s,_,this._defaultStyle);this.blocks=v}else this.blocks=s.map(function(m){return new d.Block(m.textNodes.map(function(y){return new t.TextNode(y.text,y.style)}),m.style)});return this.selection.set({range:!1,left:x({blockIndex:this.blocks.length-1},this.blocks[this.blocks.length-1].getBlockEnd())}),!0},n.prototype.serialize=function(s){return s===void 0&&(s="html"),this.balance(),s==="markdown"?(0,a.markdownSerializer)(this.blocks):s==="html"?(0,o.serializer)(this.blocks):s==="text"?this.blocks.reduce(function(_,v,m){return _+(m>0?`
`:"")+v.textNodes.reduce(function(y,C){return y+C.text},"")},""):void 0},n.prototype.removeBlock=function(s){this.blocks.splice(s,1),this.blocks.length===0&&this.clear()},n.prototype.insertBlock=function(){this._splitCarret();var s=this.selection.get(),_=s.range,v=s.left;if(!_){var m=this.blocks[v.blockIndex].textNodes,y=m.splice(v.textIndex+(v.offset?1:0),1/0),C=this.blocks[v.blockIndex].style;if(y.length===0){var E=this.blocks[v.blockIndex].textNodes[v.textIndex].style;y=[new t.TextNode("",(0,i.copyWithout)(E,{link:!0}))],(C=(0,i.copyWithout)(C,{blockquote:!0,style:!0}))[r.Modifier.style]="p"}else{var k=m[m.length-1]&&m[m.length-1].style.link;if(k)for(var S=0,M=y;S<M.length;S++){var T=M[S];if(T.style.link!==k)break;T.style=(0,i.copyWithout)(T.style,{link:!0})}}m.length===0&&this.blocks[v.blockIndex].clear();var I=new d.Block(y,C);this.blocks.splice(v.blockIndex+1,0,I),this.selection.set({range:_,left:{offset:0,textIndex:0,blockIndex:v.blockIndex+1}})}},n.prototype.eachSelectedNode=function(s){var _=this.selection.get(),v=_.range,m=_.left,y=_.right;if(v)for(var C=m.blockIndex;C<=y.blockIndex;C++){var E=0,k=this.blocks[C].textNodes.length-1;C===m.blockIndex&&(E=m.textIndex),C===y.blockIndex&&(k=y.textIndex);for(var S=E;S<=k;S++)s(this.blocks[C].textNodes[S],this.blocks[C])}else m&&s(this.blocks[m.blockIndex].textNodes[m.textIndex],this.blocks[m.blockIndex])},n.prototype.eachSelectedBlock=function(s){var _=this.selection.get(),v=_.range,m=_.left,y=_.right;if(v)for(var C=m.blockIndex;C<=y.blockIndex;C++)s(this.blocks[C],C);else s(this.blocks[m.blockIndex])},n.prototype.copy=function(){if(!this.selection.get().range)return!1;this._splitRange();var s=[],_="",v=this.selection.get(),m=v.left,y=v.right;return this.eachSelectedBlock(function(C,E){var k=0,S=C.textNodes.length-1,M=[];s.push({style:C.style,textNodes:M}),E===m.blockIndex&&(k=m.textIndex),E===y.blockIndex&&(S=y.textIndex);for(var T=k;T<=S;T++){var I=C.textNodes[T];M.push({style:I.style,text:I.text}),_+=I.text}E<y.blockIndex&&(_+=`
`)}),{content:s,raw:_}},n.prototype.cut=function(){var s=this.copy();return this._splitRange(),this._removeRange(),s},n.prototype.paste=function(s,_){var v,m,y;if(_===void 0&&(_="text"),_==="text")return this.add(s);this.selection.get().range&&(this._splitRange(),this._removeRange());var C=this.selection.get().left,E=_==="inner"?JSON.parse(s):(0,u.parser)(s,"html",this._defaultStyle),k=E[0],S=E.slice(1),M=void 0;if(this.blocks[C.blockIndex].isEmpty())this.blocks[C.blockIndex].textNodes=[],this.blocks[C.blockIndex].style=k.style;else switch(this.blocks[C.blockIndex].splitTextNode(C.textIndex,C.offset)){case d.SplitResult.offsetStart:M=C.textIndex;break;case d.SplitResult.offsetEnd:case d.SplitResult.complete:M=C.textIndex+1}var T=void 0,I=void 0;M>0?(T=this.blocks[C.blockIndex].textNodes.slice(0,M),I=this.blocks[C.blockIndex].textNodes.slice(M,1/0)):(T=[],I=this.blocks[C.blockIndex].textNodes);for(var O=0,H=k.textNodes;O<H.length;O++){var F=H[O];T.push(new t.TextNode(F.text,F.style))}if(this.blocks[C.blockIndex].textNodes=T,S.length){var R=S.map(function(V){return new d.Block(V.textNodes.map(function(z){return new t.TextNode(z.text,z.style)}),V.style)});(v=this.blocks).splice.apply(v,w([C.blockIndex+1,0],R,!1));var A=this.blocks[C.blockIndex+S.length].getBlockEnd();(m=this.blocks[C.blockIndex+S.length].textNodes).push.apply(m,I),this.selection.set({range:!1,left:x({blockIndex:C.blockIndex+S.length},A)})}else A=this.blocks[C.blockIndex].getBlockEnd(),(y=this.blocks[C.blockIndex].textNodes).push.apply(y,I),this.selection.set({range:!1,left:x({blockIndex:C.blockIndex},A)});return!0},n.prototype.add=function(s){if(s){if(this.selection.get().range&&(this._splitRange(),this._removeRange()),s.newBlock)return this.insertBlock(),!0;var _=this.selection.get().left,v=_.offset,m=_.blockIndex,y=_.textIndex;if(this._tempNode&&this._tempNode.offset===v&&this._tempNode.blockIndex===m&&this._tempNode.textIndex===y)return this._createNodeFromTemp(s);var C=this.blocks[m].textNodes,E=C[y];if(!E.style.link||E.text.length!==v||C[y+1]&&C[y+1].style.link)E.style.link&&v===0?(k=new t.TextNode(s,(0,i.copyWithout)(E.style,{link:!0})),C.splice(y,0,k),this.selection.set({range:!1,left:{offset:s.length,blockIndex:m,textIndex:y}})):(C[y].insert(s,v),this.selection.set({range:!1,left:{offset:v+s.length,blockIndex:m,textIndex:y}}));else{var k=new t.TextNode(s,(0,i.copyWithout)(E.style,{link:!0}));C.splice(y+1,0,k),this.selection.set({range:!1,left:{offset:s.length,blockIndex:m,textIndex:y+1}}),this._cleanDom(this._getRootView().refs.editor.el)}return!0}},n.prototype.remove=function(s){return this.selection.get().range?(this._splitRange(),this._removeRange(),!0):this._removeSymbol(s)},n.prototype.update=function(s){var _=s.modifier,v=s.modifierValue,m=this.selection.get(),y=m.range,C=m.left;switch(_){case r.Modifier.align:case r.Modifier.style:case r.Modifier.blockquote:return this.eachSelectedBlock(function(k){var S;k.style=x(x({},k.style),((S={})[_]=v,S)),_===r.Modifier.style&&v!=="p"&&k.textNodes.forEach(function(M){var T;M.style=(0,i.copyWithout)(M.style,((T={})[r.Modifier.fontSize]=!0,T))})}),!0;case r.Modifier.strike:case r.Modifier.underline:case r.Modifier.italic:case r.Modifier.bold:case r.Modifier.color:case r.Modifier.background:case r.Modifier.fontFamily:case r.Modifier.fontSize:return y?(this._splitRange(),this.eachSelectedNode(function(k){var S;k.style=x(x({},k.style),((S={})[_]=v,S))}),!0):(this._createTempTextNode({modifier:_,modifierValue:v}),!1);case r.Modifier.link:var E=this.blocks[C.blockIndex].textNodes[C.textIndex];return _===void 0||E.style.link!==void 0?this._eachLink(function(k){var S;k.style=x(x({},k.style),((S={})[_]=v,S))}):(y&&this._splitRange(),this.eachSelectedNode(function(k){var S;k.style=x(x({},k.style),((S={})[_]=v,S))})),!0}},n.prototype.clearStyles=function(){return!!this.selection.get().range&&(this._splitRange(),this.eachSelectedNode(function(s){s.style=g.emptyStyle}),!0)},n.prototype.balance=function(){var s,_=this.selection.get(),v=_.left,m=_.right,y=_.range,C=this.blocks[v.blockIndex].nodePositionToOffset(v.textIndex,v.offset);y&&(s=this.blocks[m.blockIndex].nodePositionToOffset(m.textIndex,m.offset));var E=!0;this.blocks.forEach(function(k){k.balance()&&(E=!1)}),E||(this.selection.set({range:y,left:x({blockIndex:v.blockIndex},this.blocks[v.blockIndex].offsetToNodePosition(C)),right:s&&x({blockIndex:m.blockIndex},this.blocks[m.blockIndex].offsetToNodePosition(s))}),this._repaint())},n.prototype.getLinkInfo=function(){var s,_="";return this._eachLink(function(v){_+=v.text,s=v.style.link}),{text:_,link:s}},n.prototype.updateLinkText=function(s){var _=this.selection.get(),v=_.left,m=_.range,y=this.blocks[v.blockIndex].textNodes,C=y[v.textIndex].style.link,E=new t.TextNode(s,{});if(C){for(var k=v.textIndex,S=v.textIndex;y[k-1]&&y[k-1].style.link===C;)k--;for(;y[S+1]&&y[S+1].style.link===C;)S++;y.splice(k,S-k+1,E),this.selection.set({range:!0,left:{blockIndex:v.blockIndex,textIndex:k,offset:0},right:{blockIndex:v.blockIndex,textIndex:k,offset:s.length}})}else if(m){this._splitRange(),this._removeRange();var M=this.selection.get().left,T=M.blockIndex,I=M.textIndex;this.blocks[T].textNodes.splice(I+1,0,E),this.selection.set({range:!0,left:{blockIndex:T,textIndex:I+1,offset:0},right:{blockIndex:T,textIndex:I+1,offset:s.length}})}else{var O=void 0;this.blocks[v.blockIndex].isEmpty()?(y.splice(0,1),O=0):O=this.blocks[v.blockIndex].splitTextNode(v.textIndex,v.offset)===d.SplitResult.offsetStart?v.textIndex:v.textIndex+1,y.splice(O,0,E),this.selection.set({range:!0,left:{blockIndex:v.blockIndex,textIndex:O,offset:0},right:{blockIndex:v.blockIndex,textIndex:O,offset:s.length}})}},n.prototype._splitRange=function(){var s=this.selection.get(),_=s.range,v=s.left,m=s.right;if(_)if(v.blockIndex!==m.blockIndex||v.textIndex!==m.textIndex)if(v.blockIndex!==m.blockIndex){if(v.blockIndex!==m.blockIndex){C=v.textIndex;var y=v.blockIndex;k=this.blocks[v.blockIndex].splitTextNode(v.textIndex,v.offset),this.blocks[m.blockIndex].splitTextNode(m.textIndex,m.offset),k===d.SplitResult.offsetEnd&&(this.blocks[y].textNodes[C+1]?C+=1:(C=0,y+=1)),k===d.SplitResult.complete&&(C+=1),E={range:_,left:{blockIndex:y,textIndex:C,offset:0},right:{blockIndex:m.blockIndex,textIndex:m.textIndex,offset:m.offset}},this.selection.set(E)}}else{var C=v.textIndex;S=m.textIndex,(k=this.blocks[v.blockIndex].splitTextNode(C,v.offset))===d.SplitResult.offsetEnd&&(C+=1),k===d.SplitResult.complete&&(S+=1,C+=1),this.blocks[m.blockIndex].splitTextNode(S,m.offset);var E={range:_,left:{blockIndex:v.blockIndex,textIndex:C,offset:0},right:{blockIndex:m.blockIndex,textIndex:S,offset:m.offset}};this.selection.set(E)}else{var k,S=v.textIndex,M=m.offset;(k=this.blocks[v.blockIndex].splitTextNode(v.textIndex,v.offset))===d.SplitResult.complete&&(S+=1,M-=v.offset),this.blocks[m.blockIndex].splitTextNode(S,M);var E={range:_,left:{blockIndex:v.blockIndex,textIndex:S,offset:0},right:{blockIndex:m.blockIndex,textIndex:S,offset:M}};this.selection.set(E)}},n.prototype._splitCarret=function(){var s=this.selection.get(),_=s.range,v=s.left;if(!_&&this.blocks[v.blockIndex].splitTextNode(v.textIndex,v.offset)===d.SplitResult.complete){var m={range:_,left:{blockIndex:v.blockIndex,textIndex:v.textIndex+1,offset:0}};this.selection.set(m)}},n.prototype._removeRange=function(){var s,_=this.selection.get(),v=_.left,m=_.right;if(m)if(this.selection.isFull())this.clear();else if(v.blockIndex===m.blockIndex)v.textIndex===0&&m.textIndex===this.blocks[m.blockIndex].textNodes.length-1?(this.blocks[v.blockIndex].clear(),this.selection.set({range:!1,left:x(x({},v),{offset:0})})):(this.blocks[v.blockIndex].textNodes.splice(v.textIndex,m.textIndex-v.textIndex+1),v.textIndex===0?this.selection.set({range:!1,left:{blockIndex:v.blockIndex,textIndex:0,offset:0}}):this.selection.set({range:!1,left:{blockIndex:v.blockIndex,textIndex:v.textIndex-1,offset:this.blocks[v.blockIndex].textNodes[v.textIndex-1].text.length}}));else{var y=this.blocks[v.blockIndex].removeNodes(v.textIndex,!0),C=this.blocks[m.blockIndex].removeNodes(m.textIndex,!1),E=this.blocks[v.blockIndex].getBlockEnd();switch(!0){case(y&&C):this.blocks[v.blockIndex].clear();break;case(y&&!C):this.blocks[v.blockIndex].textNodes=this.blocks[m.blockIndex].textNodes;break;case(!y&&!C):(s=this.blocks[v.blockIndex].textNodes).push.apply(s,this.blocks[m.blockIndex].textNodes)}for(var k=m.blockIndex;k>v.blockIndex;k--)this.removeBlock(k);y?this.selection.set({range:!1,left:{blockIndex:v.blockIndex,textIndex:v.textIndex,offset:0}}):this.selection.set({range:!1,left:x({blockIndex:v.blockIndex},E)})}},n.prototype._removeSymbol=function(s){var _=this.selection.get().left,v=_.offset,m=_.blockIndex,y=_.textIndex,C={range:!1,left:{offset:v,blockIndex:m,textIndex:y}},E=this.blocks[m].getBlockEnd(),k=this.blocks[m].textNodes,S=k[y],M=!1;switch(!0){case this.blocks[m].isEmpty():if(m===0&&s)return!(0,c.isEmptyBlockStyle)(this.blocks[0].style)&&(this.blocks[0].style=g.emptyStyle,!0);if(!s&&!this.blocks[m+1])return!1;this.removeBlock(m),m===0?(C.left.offset=0,C.left.textIndex=0):s&&(C.left=x({blockIndex:m-1},this.blocks[m-1].getBlockEnd()));break;case(v===0&&y===0&&s):if(m===0)return!1;if(this.blocks[m-1].isEmpty())this.blocks[m-1].textNodes=k,this.removeBlock(m),C.left={blockIndex:m-1,textIndex:0,offset:0};else{var T=this.blocks[m-1].getBlockEnd();this.blocks[m-1].textNodes=this.blocks[m-1].textNodes.concat(k),this.removeBlock(m),C.left=x({blockIndex:m-1},T)}break;case(E.offset===v&&E.textIndex===y&&!s):var I=this.blocks[m+1];if(!I)return;if(I.isEmpty())return this.removeBlock(m+1),!0;this.blocks[m].textNodes=this.blocks[m].textNodes.concat(I.textNodes),this.removeBlock(m+1);break;default:switch(S.remove(v,s)){case t.RemoveTextResult.nullTextLength:k.length>1?(k.splice(y,1),C.left=y===0?{blockIndex:m,textIndex:0,offset:0}:{blockIndex:m,textIndex:y-1,offset:k[y-1].text.length}):(S.style=g.emptyStyle,C.left={textIndex:y,blockIndex:m,offset:0});break;case t.RemoveTextResult.complete:s&&(C.left={blockIndex:m,textIndex:y,offset:v-1});break;case t.RemoveTextResult.forceRemoveNext:C.left={blockIndex:m,textIndex:y+1,offset:0},M=!0;break;case t.RemoveTextResult.forceRemovePrevious:C.left={blockIndex:m,textIndex:y-1,offset:k[y-1].text.length},M=!0}}return this.selection.set(C),!M||this._removeSymbol(s)},n.prototype._eachLink=function(s){var _=this.selection.get().left,v=this.blocks[_.blockIndex].textNodes[_.textIndex].style.link;if(v){for(var m=this.blocks[_.blockIndex].textNodes,y=[],C=_.textIndex;C>=0&&m[C].style.link===v;C--)y.unshift(m[C]);for(C=_.textIndex+1;C<m.length&&m[C].style.link===v;C++)y.push(m[C]);y.forEach(s)}},n.prototype._createTempTextNode=function(s){var _,v,m=s.modifier,y=s.modifierValue,C=this.selection.get().left,E=C.offset,k=C.blockIndex,S=C.textIndex;v=this._tempNode&&this._tempNode.offset===E&&this._tempNode.blockIndex===k&&this._tempNode.textIndex===S?this._tempNode.style:this.blocks[k].textNodes[S].style;var M=x(x({},v),((_={})[m]=y,_)),T=this.blocks[k].textNodes;!M.link||T[S+1]&&T[S+1].style.link||delete M.link,this._tempNode={style:M,blockIndex:k,textIndex:S,offset:E}},n.prototype._createNodeFromTemp=function(s){var _=this._tempNode,v=_.style,m=_.blockIndex,y=_.textIndex,C=_.offset,E=this.blocks[m].splitTextNode(y,C)===d.SplitResult.offsetStart?y:y+1,k=new t.TextNode(s,v);return this.blocks[m].isEmpty()?this.blocks[m].textNodes=[k]:this.blocks[m].textNodes.splice(E,0,k),this.selection.set({range:!1,left:{blockIndex:m,textIndex:E,offset:s.length}}),this._tempNode=null,!0},n.prototype._cleanDom=function(s){var _;s.nodeType===Node.TEXT_NODE&&((_=s.parentElement)===null||_===void 0?void 0:_.tagName)==="P"&&s.remove(),s.childNodes&&s.childNodes.forEach(this._cleanDom.bind(this))},n}();p.Editor=l},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.markdownSerializer=void 0;var x,w=b(4);function g(e,i){var u=i.filter(function(h){return!e.includes(h)}),o=e.filter(function(h){return!i.includes(h)});return u.concat(o)}function a(e,i){for(var u="",o=[],h=0,r=e;h<r.length;h++){var f=r[h],d=[],t=f.style;t[w.Modifier.bold]&&d.push(x.bold),t[w.Modifier.italic]&&d.push(x.italic);var c=g(o,d);!o.length&&d.length&&(u+=" "),u+=c.join(""),o.length&&!d.length&&(u+=" "),u+=f.text.trim(),o=d}return u+=o.join(""),i&&(u="[".concat(u,"](").concat(i,")")),u.trim()}(function(e){e.bold="**",e.italic="*"})(x||(x={})),p.markdownSerializer=function(e){return e.reduce(function(i,u,o){return i+(o?`

`:"")+function(h){switch(h.style[w.Modifier.style]){case"h1":return"# ";case"h2":return"## ";case"h3":return"### ";case"h4":return"#### ";case"h5":return"##### ";case"h6":return"###### ";default:return""}}(u)+function(h){for(var r,f="",d=[],t=0,c=h.textNodes;t<c.length;t++){var l=c[t];l.style.link?r===l.style.link?d.push(l):(d.length&&(f+=a(d,r)),d=[l]):r?(d.length&&(f+=a(d,r)),d=[l]):d.push(l),r=l.style.link}return f+a(d,r)}(u)},"")}},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.blockStyleFromMinimize=p.minimizeBlockStyle=p.textNodeStyleFromMinimize=p.minimizeTextNodeStyle=void 0;var x=b(4);p.minimizeTextNodeStyle=function(i,u){function o(f,d){return f!==void 0&&f!==d}var h=o(i[x.Modifier.bold],u[x.Modifier.bold])|o(i[x.Modifier.italic],u[x.Modifier.italic])<<1|o(i[x.Modifier.underline],u[x.Modifier.underline])<<2|o(i[x.Modifier.strike],u[x.Modifier.strike])<<3,r={};return h!==0&&(r.f=h),i[x.Modifier.fontSize]&&(r.s=parseInt(i[x.Modifier.fontSize],10)),i[x.Modifier.fontFamily]&&(r.t=i[x.Modifier.fontFamily]),i[x.Modifier.color]&&(r.c=i[x.Modifier.color]),i[x.Modifier.background]&&(r.b=i[x.Modifier.background]),i[x.Modifier.link]&&(r.a=i[x.Modifier.link]),r},p.textNodeStyleFromMinimize=function(i,u){var o={};return i.f&&(1&i.f&&(o[x.Modifier.bold]=!u[x.Modifier.bold]),2&i.f&&(o[x.Modifier.italic]=!u[x.Modifier.italic]),4&i.f&&(o[x.Modifier.underline]=!u[x.Modifier.underline]),8&i.f&&(o[x.Modifier.strike]=!u[x.Modifier.strike])),i.s&&(o[x.Modifier.fontSize]=i.s+"px"),i.t&&(o[x.Modifier.fontFamily]=i.t),i.c&&(o[x.Modifier.color]=i.c),i.b&&(o[x.Modifier.background]=i.b),i.a&&(o[x.Modifier.link]=i.a),o};var w={left:1,center:2,right:3},g={1:"left",2:"center",3:"right"},a={h1:1,h2:2,h3:3,h4:4,h5:5,h6:6},e={1:"h1",2:"h2",3:"h3",4:"h4",5:"h5",6:"h6"};p.minimizeBlockStyle=function(i){var u={};if(i[x.Modifier.blockquote]&&(u.b=1),i[x.Modifier.style]){var o=a[i[x.Modifier.style]];o&&(u.s=o)}return i[x.Modifier.align]&&(u.a=w[i[x.Modifier.align]]),u},p.blockStyleFromMinimize=function(i){var u={};return i.a&&(u[x.Modifier.align]=g[i.a]),i.b&&(u[x.Modifier.blockquote]=!0),u[x.Modifier.style]=e[i.s]||"p",u}},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(t){for(var c,l=1,n=arguments.length;l<n;l++)for(var s in c=arguments[l])Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);return t},x.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.parser=void 0;var w=b(157),g=b(11),a=b(69),e=b(37),i=b(4);function u(t,c,l,n){var s;if(n===void 0&&(n={}),t.nodeName!=="BR")if(t.nodeType!==t.TEXT_NODE){var _={},v=t.style||{},m=v.fontSize,y=v.fontWeight,C=v.fontFamily,E=v.color,k=v.background,S=v.backgroundColor,M=v.textDecoration,T=v.fontStyle,I=function(U){var K,Z,st,et,ot;switch(U.nodeName){case"B":case"STRONG":return(K={})[i.Modifier.bold]=!0,K;case"I":case"EM":return(Z={})[i.Modifier.italic]=!0,Z;case"U":return(st={})[i.Modifier.underline]=!0,st;case"STRIKE":case"S":return(et={})[i.Modifier.strike]=!0,et;case"A":return(ot={})[i.Modifier.link]=U.href,ot;default:return{}}}(t);if(m){var O=g.fontSizes[m];if(O)_[i.Modifier.fontSize]=O;else{var H=parseInt(m,10);if(H>0){m.endsWith("pt")&&(H=Math.round(1.33*H));for(var F=1/0,R=0;R<g.fontNumbers.length;R++){var A=Math.abs(g.fontNumbers[R]-H);A<F&&(F=A,O=g.fontNumbers[R])}_[i.Modifier.fontSize]=O+"px"}}_[i.Modifier.fontSize]=O+"px"}y&&(_[i.Modifier.bold]=y==="bold"||parseInt(y,10)>=600),C&&(_[i.Modifier.fontFamily]=g.fonts[C]?C:l[i.Modifier.fontFamily]),E&&(_[i.Modifier.color]=E),(k||S)&&(_[i.Modifier.background]=k||S),M==="underline"&&(_[i.Modifier.underline]=!0),M==="line-through"&&(_[i.Modifier.strike]=!0),T&&(_[i.Modifier.italic]=T==="italic");var V=x(x(x({},n),I),_);t.nodeName!=="A"||E||delete V[i.Modifier.color];var z=t.childNodes;for(R=0;R<z.length;R++)u(z[R],c,l,V)}else{var Y=(s=t.textContent)===null||s===void 0?void 0:s.replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/\n/g," ").replace(/\s+/g," ");if(!Y||Y.trim().length===0)return;var Q=new e.TextNode(Y,n);c.push(Q)}else c.push(new e.TextNode(`
`,n))}var o={P:"p",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",DIV:"-"},h={B:"bold",STRONG:"bold",I:"italic",EM:"italic",U:"underline",STRIKE:"strike",S:"strike",A:"link",BR:"br",SPAN:"-",SUB:"-",SUP:"-",TT:"-"};function r(t){if(!t||!t.style)return{};var c={};return t.style.textAlign&&(c[i.Modifier.align]=t.style.textAlign),t.nodeName==="BLOCKQUOTE"&&(c[i.Modifier.blockquote]=!0),c}function f(t){var c=t.textNodes[0];c.text&&c.text.trimStart&&(c.text=c.text.trimStart());var l=t.textNodes[t.textNodes.length-1];l.text&&l.text.trimEnd&&(l.text=l.text.trimEnd())}function d(t,c,l,n){var s,_,v;n===void 0&&(n={}),n=x(x({},n),r(t));var m=o[t.nodeName];if(m&&m!=="-"){var y=[];return u(t,y,l),f(M=new a.Block(y,x(x({},n),((s={})[i.Modifier.style]=o[t.nodeName],s)))),void c.push(M)}for(var C=t.childNodes,E=[],k=0;k<C.length;k++){var S=C[k];if(o[S.nodeName]){if(E.length>0){var M=new a.Block(E,x(x({},n),((_={})[i.Modifier.style]="p",_)));c.push(M),f(M),E=[]}d(S,c,l,n)}else(h[S.nodeName]||S.nodeType===t.TEXT_NODE)&&u(S,E,l)}E.length>0&&(M=new a.Block(E,x(x({},n),((v={})[i.Modifier.style]="p",v))),c.push(M),f(M),E=[])}p.parser=function(t,c,l){var n;c===void 0&&(c="html"),c==="markdown"&&(t=w(t));var s=document.createElement("div");s.innerHTML=t;var _=[];if(d(s,_,l),_.length===0){var v=x(((n={})[i.Modifier.style]=o[s.nodeName]||"p",n),r(s)),m=[];return u(s,m,l),[new a.Block(m,v)]}return _}},function($,p,b){(function(x){(function(w){var g={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:n,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:n,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:n,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};function a(y){this.tokens=[],this.tokens.links=Object.create(null),this.options=y||m.defaults,this.rules=g.normal,this.options.pedantic?this.rules=g.pedantic:this.options.gfm&&(this.options.tables?this.rules=g.tables:this.rules=g.gfm)}g._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,g._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,g.def=d(g.def).replace("label",g._label).replace("title",g._title).getRegex(),g.bullet=/(?:[*+-]|\d+\.)/,g.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,g.item=d(g.item,"gm").replace(/bull/g,g.bullet).getRegex(),g.list=d(g.list).replace(/bull/g,g.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+g.def.source+")").getRegex(),g._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",g._comment=/<!--(?!-?>)[\s\S]*?-->/,g.html=d(g.html,"i").replace("comment",g._comment).replace("tag",g._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),g.paragraph=d(g.paragraph).replace("hr",g.hr).replace("heading",g.heading).replace("lheading",g.lheading).replace("tag",g._tag).getRegex(),g.blockquote=d(g.blockquote).replace("paragraph",g.paragraph).getRegex(),g.normal=s({},g),g.gfm=s({},g.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),g.gfm.paragraph=d(g.paragraph).replace("(?!","(?!"+g.gfm.fences.source.replace("\\1","\\2")+"|"+g.list.source.replace("\\1","\\3")+"|").getRegex(),g.tables=s({},g.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),g.pedantic=s({},g.normal,{html:d(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",g._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),a.rules=g,a.lex=function(y,C){return new a(C).lex(y)},a.prototype.lex=function(y){return y=y.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,`
`),this.token(y,!0)},a.prototype.token=function(y,C){var E,k,S,M,T,I,O,H,F,R,A,V,z,Y,Q,U;for(y=y.replace(/^ +$/gm,"");y;)if((S=this.rules.newline.exec(y))&&(y=y.substring(S[0].length),S[0].length>1&&this.tokens.push({type:"space"})),S=this.rules.code.exec(y))y=y.substring(S[0].length),S=S[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?S:v(S,`
`)});else if(S=this.rules.fences.exec(y))y=y.substring(S[0].length),this.tokens.push({type:"code",lang:S[2],text:S[3]||""});else if(S=this.rules.heading.exec(y))y=y.substring(S[0].length),this.tokens.push({type:"heading",depth:S[1].length,text:S[2]});else if(C&&(S=this.rules.nptable.exec(y))&&(I={type:"table",header:_(S[1].replace(/^ *| *\| *$/g,"")),align:S[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:S[3]?S[3].replace(/\n$/,"").split(`
`):[]}).header.length===I.align.length){for(y=y.substring(S[0].length),A=0;A<I.align.length;A++)/^ *-+: *$/.test(I.align[A])?I.align[A]="right":/^ *:-+: *$/.test(I.align[A])?I.align[A]="center":/^ *:-+ *$/.test(I.align[A])?I.align[A]="left":I.align[A]=null;for(A=0;A<I.cells.length;A++)I.cells[A]=_(I.cells[A],I.header.length);this.tokens.push(I)}else if(S=this.rules.hr.exec(y))y=y.substring(S[0].length),this.tokens.push({type:"hr"});else if(S=this.rules.blockquote.exec(y))y=y.substring(S[0].length),this.tokens.push({type:"blockquote_start"}),S=S[0].replace(/^ *> ?/gm,""),this.token(S,C),this.tokens.push({type:"blockquote_end"});else if(S=this.rules.list.exec(y)){for(y=y.substring(S[0].length),O={type:"list_start",ordered:Y=(M=S[2]).length>1,start:Y?+M:"",loose:!1},this.tokens.push(O),H=[],E=!1,z=(S=S[0].match(this.rules.item)).length,A=0;A<z;A++)R=(I=S[A]).length,~(I=I.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf(`
 `)&&(R-=I.length,I=this.options.pedantic?I.replace(/^ {1,4}/gm,""):I.replace(new RegExp("^ {1,"+R+"}","gm"),"")),this.options.smartLists&&A!==z-1&&(M===(T=g.bullet.exec(S[A+1])[0])||M.length>1&&T.length>1||(y=S.slice(A+1).join(`
`)+y,A=z-1)),k=E||/\n\n(?!\s*$)/.test(I),A!==z-1&&(E=I.charAt(I.length-1)===`
`,k||(k=E)),k&&(O.loose=!0),U=void 0,(Q=/^\[[ xX]\] /.test(I))&&(U=I[1]!==" ",I=I.replace(/^\[[ xX]\] +/,"")),F={type:"list_item_start",task:Q,checked:U,loose:k},H.push(F),this.tokens.push(F),this.token(I,!1),this.tokens.push({type:"list_item_end"});if(O.loose)for(z=H.length,A=0;A<z;A++)H[A].loose=!0;this.tokens.push({type:"list_end"})}else if(S=this.rules.html.exec(y))y=y.substring(S[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(S[1]==="pre"||S[1]==="script"||S[1]==="style"),text:S[0]});else if(C&&(S=this.rules.def.exec(y)))y=y.substring(S[0].length),S[3]&&(S[3]=S[3].substring(1,S[3].length-1)),V=S[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[V]||(this.tokens.links[V]={href:S[2],title:S[3]});else if(C&&(S=this.rules.table.exec(y))&&(I={type:"table",header:_(S[1].replace(/^ *| *\| *$/g,"")),align:S[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:S[3]?S[3].replace(/(?: *\| *)?\n$/,"").split(`
`):[]}).header.length===I.align.length){for(y=y.substring(S[0].length),A=0;A<I.align.length;A++)/^ *-+: *$/.test(I.align[A])?I.align[A]="right":/^ *:-+: *$/.test(I.align[A])?I.align[A]="center":/^ *:-+ *$/.test(I.align[A])?I.align[A]="left":I.align[A]=null;for(A=0;A<I.cells.length;A++)I.cells[A]=_(I.cells[A].replace(/^ *\| *| *\| *$/g,""),I.header.length);this.tokens.push(I)}else if(S=this.rules.lheading.exec(y))y=y.substring(S[0].length),this.tokens.push({type:"heading",depth:S[2]==="="?1:2,text:S[1]});else if(C&&(S=this.rules.paragraph.exec(y)))y=y.substring(S[0].length),this.tokens.push({type:"paragraph",text:S[1].charAt(S[1].length-1)===`
`?S[1].slice(0,-1):S[1]});else if(S=this.rules.text.exec(y))y=y.substring(S[0].length),this.tokens.push({type:"text",text:S[0]});else if(y)throw new Error("Infinite loop on byte: "+y.charCodeAt(0));return this.tokens};var e={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:n,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s])__(?!_)|^\*\*([^\s])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_|[^\s.])|^_([^\s_][\s\S]*?[^\s])_(?!_|[^\s.])|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:n,text:/^(`+|[^`])[\s\S]*?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function i(y,C){if(this.options=C||m.defaults,this.links=y,this.rules=e.normal,this.renderer=this.options.renderer||new u,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=e.pedantic:this.options.gfm&&(this.options.breaks?this.rules=e.breaks:this.rules=e.gfm)}function u(y){this.options=y||m.defaults}function o(){}function h(y){this.tokens=[],this.token=null,this.options=y||m.defaults,this.options.renderer=this.options.renderer||new u,this.renderer=this.options.renderer,this.renderer.options=this.options}function r(y,C){if(C){if(r.escapeTest.test(y))return y.replace(r.escapeReplace,function(E){return r.replacements[E]})}else if(r.escapeTestNoEncode.test(y))return y.replace(r.escapeReplaceNoEncode,function(E){return r.replacements[E]});return y}function f(y){return y.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(C,E){return(E=E.toLowerCase())==="colon"?":":E.charAt(0)==="#"?E.charAt(1)==="x"?String.fromCharCode(parseInt(E.substring(2),16)):String.fromCharCode(+E.substring(1)):""})}function d(y,C){return y=y.source||y,C=C||"",{replace:function(E,k){return k=(k=k.source||k).replace(/(^|[^\[])\^/g,"$1"),y=y.replace(E,k),this},getRegex:function(){return new RegExp(y,C)}}}function t(y,C,E){if(y){try{var k=decodeURIComponent(f(E)).replace(/[^\w:]/g,"").toLowerCase()}catch{return null}if(k.indexOf("javascript:")===0||k.indexOf("vbscript:")===0||k.indexOf("data:")===0)return null}C&&!l.test(E)&&(E=function(S,M){return c[" "+S]||(/^[^:]+:\/*[^/]*$/.test(S)?c[" "+S]=S+"/":c[" "+S]=v(S,"/",!0)),S=c[" "+S],M.slice(0,2)==="//"?S.replace(/:[\s\S]*/,":")+M:M.charAt(0)==="/"?S.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+M:S+M}(C,E));try{E=encodeURI(E).replace(/%25/g,"%")}catch{return null}return E}e._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,e._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,e._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,e.autolink=d(e.autolink).replace("scheme",e._scheme).replace("email",e._email).getRegex(),e._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,e.tag=d(e.tag).replace("comment",g._comment).replace("attribute",e._attribute).getRegex(),e._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/,e._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|(?:\\[()]?|\([^\s\x00-\x1f\\]*\)|[^\s\x00-\x1f()\\])*?)/,e._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,e.link=d(e.link).replace("label",e._label).replace("href",e._href).replace("title",e._title).getRegex(),e.reflink=d(e.reflink).replace("label",e._label).getRegex(),e.normal=s({},e),e.pedantic=s({},e.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:d(/^!?\[(label)\]\((.*?)\)/).replace("label",e._label).getRegex(),reflink:d(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",e._label).getRegex()}),e.gfm=s({},e.normal,{escape:d(e.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:d(e.text).replace("]|","~]|").replace("|$","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|$").getRegex()}),e.gfm.url=d(e.gfm.url).replace("email",e.gfm._extended_email).getRegex(),e.breaks=s({},e.gfm,{br:d(e.br).replace("{2,}","*").getRegex(),text:d(e.gfm.text).replace("{2,}","*").getRegex()}),i.rules=e,i.output=function(y,C,E){return new i(C,E).output(y)},i.prototype.output=function(y){for(var C,E,k,S,M,T,I="";y;)if(M=this.rules.escape.exec(y))y=y.substring(M[0].length),I+=M[1];else if(M=this.rules.autolink.exec(y))y=y.substring(M[0].length),k=M[2]==="@"?"mailto:"+(E=r(this.mangle(M[1]))):E=r(M[1]),I+=this.renderer.link(k,null,E);else if(this.inLink||!(M=this.rules.url.exec(y))){if(M=this.rules.tag.exec(y))!this.inLink&&/^<a /i.test(M[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(M[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(M[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(M[0])&&(this.inRawBlock=!1),y=y.substring(M[0].length),I+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(M[0]):r(M[0]):M[0];else if(M=this.rules.link.exec(y))y=y.substring(M[0].length),this.inLink=!0,k=M[2],this.options.pedantic?(C=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(k))?(k=C[1],S=C[3]):S="":S=M[3]?M[3].slice(1,-1):"",k=k.trim().replace(/^<([\s\S]*)>$/,"$1"),I+=this.outputLink(M,{href:i.escapes(k),title:i.escapes(S)}),this.inLink=!1;else if((M=this.rules.reflink.exec(y))||(M=this.rules.nolink.exec(y))){if(y=y.substring(M[0].length),C=(M[2]||M[1]).replace(/\s+/g," "),!(C=this.links[C.toLowerCase()])||!C.href){I+=M[0].charAt(0),y=M[0].substring(1)+y;continue}this.inLink=!0,I+=this.outputLink(M,C),this.inLink=!1}else if(M=this.rules.strong.exec(y))y=y.substring(M[0].length),I+=this.renderer.strong(this.output(M[4]||M[3]||M[2]||M[1]));else if(M=this.rules.em.exec(y))y=y.substring(M[0].length),I+=this.renderer.em(this.output(M[6]||M[5]||M[4]||M[3]||M[2]||M[1]));else if(M=this.rules.code.exec(y))y=y.substring(M[0].length),I+=this.renderer.codespan(r(M[2].trim(),!0));else if(M=this.rules.br.exec(y))y=y.substring(M[0].length),I+=this.renderer.br();else if(M=this.rules.del.exec(y))y=y.substring(M[0].length),I+=this.renderer.del(this.output(M[1]));else if(M=this.rules.text.exec(y))y=y.substring(M[0].length),this.inRawBlock?I+=this.renderer.text(M[0]):I+=this.renderer.text(r(this.smartypants(M[0])));else if(y)throw new Error("Infinite loop on byte: "+y.charCodeAt(0))}else{if(M[2]==="@")k="mailto:"+(E=r(M[0]));else{do T=M[0],M[0]=this.rules._backpedal.exec(M[0])[0];while(T!==M[0]);E=r(M[0]),k=M[1]==="www."?"http://"+E:E}y=y.substring(M[0].length),I+=this.renderer.link(k,null,E)}return I},i.escapes=function(y){return y&&y.replace(i.rules._escapes,"$1")},i.prototype.outputLink=function(y,C){var E=C.href,k=C.title?r(C.title):null;return y[0].charAt(0)!=="!"?this.renderer.link(E,k,this.output(y[1])):this.renderer.image(E,k,r(y[1]))},i.prototype.smartypants=function(y){return this.options.smartypants?y.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):y},i.prototype.mangle=function(y){if(!this.options.mangle)return y;for(var C,E="",k=y.length,S=0;S<k;S++)C=y.charCodeAt(S),Math.random()>.5&&(C="x"+C.toString(16)),E+="&#"+C+";";return E},u.prototype.code=function(y,C,E){if(this.options.highlight){var k=this.options.highlight(y,C);k!=null&&k!==y&&(E=!0,y=k)}return C?'<pre><code class="'+this.options.langPrefix+r(C,!0)+'">'+(E?y:r(y,!0))+`</code></pre>
`:"<pre><code>"+(E?y:r(y,!0))+"</code></pre>"},u.prototype.blockquote=function(y){return`<blockquote>
`+y+`</blockquote>
`},u.prototype.html=function(y){return y},u.prototype.heading=function(y,C,E){return this.options.headerIds?"<h"+C+' id="'+this.options.headerPrefix+E.toLowerCase().replace(/[^\w]+/g,"-")+'">'+y+"</h"+C+`>
`:"<h"+C+">"+y+"</h"+C+`>
`},u.prototype.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},u.prototype.list=function(y,C,E){var k=C?"ol":"ul";return"<"+k+(C&&E!==1?' start="'+E+'"':"")+`>
`+y+"</"+k+`>
`},u.prototype.listitem=function(y){return"<li>"+y+`</li>
`},u.prototype.checkbox=function(y){return"<input "+(y?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},u.prototype.paragraph=function(y){return"<p>"+y+`</p>
`},u.prototype.table=function(y,C){return C&&(C="<tbody>"+C+"</tbody>"),`<table>
<thead>
`+y+`</thead>
`+C+`</table>
`},u.prototype.tablerow=function(y){return`<tr>
`+y+`</tr>
`},u.prototype.tablecell=function(y,C){var E=C.header?"th":"td";return(C.align?"<"+E+' align="'+C.align+'">':"<"+E+">")+y+"</"+E+`>
`},u.prototype.strong=function(y){return"<strong>"+y+"</strong>"},u.prototype.em=function(y){return"<em>"+y+"</em>"},u.prototype.codespan=function(y){return"<code>"+y+"</code>"},u.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},u.prototype.del=function(y){return"<del>"+y+"</del>"},u.prototype.link=function(y,C,E){if((y=t(this.options.sanitize,this.options.baseUrl,y))===null)return E;var k='<a href="'+r(y)+'"';return C&&(k+=' title="'+C+'"'),k+=">"+E+"</a>"},u.prototype.image=function(y,C,E){if((y=t(this.options.sanitize,this.options.baseUrl,y))===null)return E;var k='<img src="'+y+'" alt="'+E+'"';return C&&(k+=' title="'+C+'"'),k+=this.options.xhtml?"/>":">"},u.prototype.text=function(y){return y},o.prototype.strong=o.prototype.em=o.prototype.codespan=o.prototype.del=o.prototype.text=function(y){return y},o.prototype.link=o.prototype.image=function(y,C,E){return""+E},o.prototype.br=function(){return""},h.parse=function(y,C){return new h(C).parse(y)},h.prototype.parse=function(y){this.inline=new i(y.links,this.options),this.inlineText=new i(y.links,s({},this.options,{renderer:new o})),this.tokens=y.reverse();for(var C="";this.next();)C+=this.tok();return C},h.prototype.next=function(){return this.token=this.tokens.pop()},h.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},h.prototype.parseText=function(){for(var y=this.token.text;this.peek().type==="text";)y+=`
`+this.next().text;return this.inline.output(y)},h.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,f(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var y,C,E,k,S="",M="";for(E="",y=0;y<this.token.header.length;y++)E+=this.renderer.tablecell(this.inline.output(this.token.header[y]),{header:!0,align:this.token.align[y]});for(S+=this.renderer.tablerow(E),y=0;y<this.token.cells.length;y++){for(C=this.token.cells[y],E="",k=0;k<C.length;k++)E+=this.renderer.tablecell(this.inline.output(C[k]),{header:!1,align:this.token.align[k]});M+=this.renderer.tablerow(E)}return this.renderer.table(S,M);case"blockquote_start":for(M="";this.next().type!=="blockquote_end";)M+=this.tok();return this.renderer.blockquote(M);case"list_start":M="";for(var T=this.token.ordered,I=this.token.start;this.next().type!=="list_end";)M+=this.tok();return this.renderer.list(M,T,I);case"list_item_start":M="";var O=this.token.loose;for(this.token.task&&(M+=this.renderer.checkbox(this.token.checked));this.next().type!=="list_item_end";)M+=O||this.token.type!=="text"?this.tok():this.parseText();return this.renderer.listitem(M);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},r.escapeTest=/[&<>"']/,r.escapeReplace=/[&<>"']/g,r.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},r.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,r.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var c={},l=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function n(){}function s(y){for(var C,E,k=1;k<arguments.length;k++)for(E in C=arguments[k])Object.prototype.hasOwnProperty.call(C,E)&&(y[E]=C[E]);return y}function _(y,C){var E=y.replace(/\|/g,function(S,M,T){for(var I=!1,O=M;--O>=0&&T[O]==="\\";)I=!I;return I?"|":" |"}).split(/ \|/),k=0;if(E.length>C)E.splice(C);else for(;E.length<C;)E.push("");for(;k<E.length;k++)E[k]=E[k].trim().replace(/\\\|/g,"|");return E}function v(y,C,E){if(y.length===0)return"";for(var k=0;k<y.length;){var S=y.charAt(y.length-k-1);if(S!==C||E){if(S===C||!E)break;k++}else k++}return y.substr(0,y.length-k)}function m(y,C,E){if(y==null)throw new Error("marked(): input parameter is undefined or null");if(typeof y!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(y)+", string expected");if(E||typeof C=="function"){E||(E=C,C=null);var k,S,M=(C=s({},m.defaults,C||{})).highlight,T=0;try{k=a.lex(y,C)}catch(O){return E(O)}S=k.length;var I=function(O){if(O)return C.highlight=M,E(O);var H;try{H=h.parse(k,C)}catch(F){O=F}return C.highlight=M,O?E(O):E(null,H)};if(!M||M.length<3||(delete C.highlight,!S))return I();for(;T<k.length;T++)(function(O){O.type!=="code"?--S||I():M(O.text,O.lang,function(H,F){return H?I(H):F==null||F===O.text?--S||I():(O.text=F,O.escaped=!0,void(--S||I()))})})(k[T])}else try{return C&&(C=s({},m.defaults,C)),h.parse(a.lex(y,C),C)}catch(O){if(O.message+=`
Please report this to https://github.com/markedjs/marked.`,(C||m.defaults).silent)return"<p>An error occurred:</p><pre>"+r(O.message+"",!0)+"</pre>";throw O}}n.exec=n,m.options=m.setOptions=function(y){return s(m.defaults,y),m},m.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new u,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},m.defaults=m.getDefaults(),m.Parser=h,m.parser=h.parse,m.Renderer=u,m.TextRenderer=o,m.Lexer=a,m.lexer=a.lex,m.InlineLexer=i,m.inlineLexer=i.output,m.parse=m,$.exports=m})()}).call(this,b(22))},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.Manager=void 0;var x=b(159),w=b(4),g=function(){function a(e){this._editor=e,this.clearChanges(),this._buffer=new x.TextBuffer(this._editor)}return a.prototype.execute=function(e){var i,u=this;switch(this._inactionTimer&&(clearTimeout(this._inactionTimer),this._inactionTimer=null),this._inactionTimer=setTimeout(function(){u._editor.selection.isActive()&&u._editor.balance(),u._inactionTimer=null},5e3),e.action){case w.Action.parse:return i=this._editor.parse(e.data.value,e.data.mode),this.clearChanges(),!0;case w.Action.add:i=this._editor.add(e.data);break;case w.Action.innerAdd:if(typeof e.data=="string")i=this._editor.add(e.data);else{var o=e.data,h=o.data;switch(o.type){case"text":i=this._editor.add(h);break;case"full":i=this._editor.paste(JSON.stringify(h),"inner");break;case"textnode":i=this._editor.paste(JSON.stringify([{textNodes:[h],style:{}}]),"inner")}}break;case w.Action.remove:i=this._editor.remove(e.data);break;case w.Action.update:i=this._editor.update(e.data);break;case w.Action.clear:i=this._editor.clearStyles();break;case w.Action.paste:i=this._buffer.paste(e.data);break;case w.Action.cut:i=this._buffer.cut(e.data);break;case w.Action.copy:return this._buffer.copy(e.data),!0;case w.Action.selectAll:}return i?(this._change(),!0):e.action===w.Action.undo?this.undo():e.action===w.Action.redo&&this.redo()},a.prototype.canUndo=function(){return this._changes.prev!==null},a.prototype.canRedo=function(){return this._changes.next!==null},a.prototype.undo=function(){var e=this._changes.prev;return!!e&&(this._editor.setState(e.state),this._changes=e,!0)},a.prototype.redo=function(){var e=this._changes.next;return!!e&&(this._editor.setState(e.state),this._changes=e,!0)},a.prototype.clearChanges=function(){this._changes={prev:null,next:null,state:this._editor.getState()}},a.prototype._change=function(){var e={prev:this._changes,next:null,state:this._editor.getState()};this._changes.next=e,this._changes=e},a}();p.Manager=g},function($,p,b){Object.defineProperty(p,"__esModule",{value:!0}),p.TextBuffer=void 0;var x=b(70),w=function(){function g(a){this._editor=a}return g.prototype.copy=function(a){a.preventDefault();var e=this._editor.copy();return this._setBuffer(a,e)},g.prototype.cut=function(a){a.preventDefault();var e=this._editor.cut();return this._setBuffer(a,e)},g.prototype.paste=function(a){var e;if(a.preventDefault(),(e=a.clipboardData?a.clipboardData.getData("text/plain"):window.clipboardData.getData("text"))===this._rawText)return this._editor.paste(this._editorContent,"inner");var i=function(u){if(u.clipboardData)return u.clipboardData.types.includes("text/html")?u.clipboardData.getData("text/html"):void 0}(a);return i?this._editor.paste(i,"html"):this._editor.paste(e,"text")},g.prototype._setBuffer=function(a,e){return!!e&&(this._rawText=e.raw,this._editorContent=JSON.stringify(e.content),a.clipboardData?(a.clipboardData.setData("text/plain",e.raw),a.clipboardData.setData("text/html",(0,x.serializer)(e.content))):window.clipboardData.setData("text",e.raw),!0)},g}();p.TextBuffer=w},function($,p,b){(function(x){var w=this&&this.__assign||function(){return w=Object.assign||function(h){for(var r,f=1,d=arguments.length;f<d;f++)for(var t in r=arguments[f])Object.prototype.hasOwnProperty.call(r,t)&&(h[t]=r[t]);return h},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.SelectionHelper=void 0;var g=b(2),a=b(9),e=b(161),i=b(4);function u(h){var r={},f=h.getBoundingClientRect();return f.height===0&&(f=h.getClientRects()[0]),r.xStart=f.left+window.pageXOffset,r.yStart=f.top+window.pageYOffset,h.collapse(!1),f=h.getClientRects()[0],r.xEnd=f.left+window.pageXOffset,r.yEnd=f.top+window.pageYOffset,r}var o=function(){function h(r,f,d){var t=this;this._selectionChange=function(){if(t.isActive()){if(t._selectedText=window.getSelection().toString(),t._ignoreSelection)return;var c=(0,e.stateFromDom)(t._editor);if((0,a.isEqual)(c,t._state,!0))return;t._state=c,t._events.fire(i.RichTextEvents.selectionChange,[c])}},this._events=d,this._uid=f,this._editor=r,this.clear(),this._initEvents()}return h.prototype.clear=function(){this._state={range:!1,left:{blockIndex:0,textIndex:0,offset:0}},this._waitUpdate=!0},h.prototype.set=function(r){this._state=r,this._waitUpdate=!0},h.prototype.get=function(){return this._state},h.prototype.getCompact=function(){var r=this._state,f=[[r.left.blockIndex,r.left.textIndex,r.left.offset]];return this._state.range&&f.push([r.right.blockIndex,r.right.textIndex,r.right.offset]),f},h.prototype.setCompact=function(r){var f={left:{blockIndex:r[0][0],textIndex:r[0][1],offset:r[0][2]},range:r.length===2};f.range&&(f.right={blockIndex:r[1][0],textIndex:r[1][1],offset:r[1][2]}),this.set(f)},h.prototype.getPosition=function(r){var f=this;return new x(function(d){if(!f._waitUpdate){var t=f._createRange(r);d(u(t))}var c=new Date;f._events.on(i.RichTextEvents.selectionRefresh,function(){f._events.detach(i.RichTextEvents.selectionRefresh,c);var l=f._createRange(r);d(u(l))},c)})},h.prototype.destructor=function(){document.removeEventListener("selectionchange",this._selectionChange)},h.prototype.isActive=function(){var r=window.getSelection().anchorNode;return(0,g.locate)(r,"dhx_widget_id")===this._uid},h.prototype.isFull=function(){var r=this._state,f=r.left,d=r.right;if(!r.range)return!1;var t=this._editor.blocks.length-1,c=this._editor.blocks[t].getBlockEnd();return f.blockIndex===0&&f.textIndex===0&&f.offset===0&&d.blockIndex===t&&d.textIndex===c.textIndex&&d.offset===c.offset},h.prototype.update=function(){return!this._waitUpdate||this.refresh()},h.prototype.getSelectedText=function(){return this._selectedText},h.prototype.selectAll=function(){var r=this._editor.blocks;this._state={range:!0,left:{blockIndex:0,textIndex:0,offset:0},right:w({blockIndex:r.length-1},r[r.length-1].getBlockEnd())}},h.prototype.refresh=function(){var r,f=this,d=this._state,t=d.left,c=d.right,l=d.range,n=window.getSelection();if(!n)return!1;this._ignoreSelectionTimeout&&clearTimeout(this._ignoreSelectionTimeout),this._ignoreSelection=!0,this._ignoreSelectionTimeout=setTimeout(function(){f._ignoreSelection=!1,f._ignoreSelectionTimeout=null},5),n.rangeCount>0?(r=n.getRangeAt(0),n.removeAllRanges()):r=document.createRange();var s,_=this._editor.getTextElement(t.blockIndex,t.textIndex);if(!_)return!1;if(r.setStart(_,Math.min(t.offset,_.length)),l){if(!(s=this._editor.getTextElement(c.blockIndex,c.textIndex)))return!1;r.setEnd(s,Math.min(c.offset,s.length))}else r.setEnd(_,Math.min(t.offset,_.length));return n.addRange(r),this._waitUpdate=!1,this._events.fire(i.RichTextEvents.selectionRefresh,[]),!0},h.prototype._initEvents=function(){document.addEventListener("selectionchange",this._selectionChange)},h.prototype._createRange=function(r){var f=r.left,d=r.right,t=document.createRange(),c=this._editor.getTextElement(f.blockIndex,f.textIndex);if(t.setStart(c,f.offset),r.range){var l=this._editor.getTextElement(d.blockIndex,d.textIndex);t.setEnd(l,d.offset)}else t.setEnd(c,f.offset);return t},h}();p.SelectionHelper=o}).call(this,b(10))},function($,p,b){var x=this&&this.__assign||function(){return x=Object.assign||function(a){for(var e,i=1,u=arguments.length;i<u;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o]);return a},x.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.stateFromDom=void 0;var w=b(2),g=b(9);p.stateFromDom=function(a){var e,i,u=window.getSelection(),o=u.anchorNode,h=u.anchorOffset,r=u.focusNode,f=u.focusOffset,d=u.isCollapsed,t=o,c=r,l=h,n=f;(function(){var C=window.getSelection(),E=C.anchorNode,k=C.focusNode,S=C.anchorOffset,M=C.focusOffset,T=document.createRange();return T.setStart(E,S),T.setEnd(k,M),T.collapsed})()&&(t=(e=[c,t])[0],c=e[1],l=(i=[n,l])[0],n=i[1]);var s,_=(0,w.locate)(t,"dhx_offset"),v=(0,w.locate)(c,"dhx_offset"),m=(0,g.hashToInfo)(_),y=(0,g.hashToInfo)(v);return s=m.length===2?t.nodeType===3?{blockIndex:m[0],textIndex:m[1],offset:l}:{blockIndex:m[0],textIndex:m[1],offset:a.blocks[m[0]].textNodes[m[1]].text.length}:m.length===1?a.blocks[m[0]].textNodes[l]?{blockIndex:m[0],textIndex:l,offset:0}:{blockIndex:m[0],textIndex:l-1,offset:a.blocks[m[0]].textNodes[l-1].text.length}:{blockIndex:l,textIndex:0,offset:0},d?{range:!1,left:s}:{left:s,right:y.length===2?c.nodeType===3?{blockIndex:y[0],textIndex:y[1],offset:n}:{blockIndex:y[0],textIndex:y[1],offset:a.blocks[y[0]].textNodes[y[1]].text.length}:y.length===1?n===0?x({blockIndex:y[0]-1},a.blocks[y[0]-1].getBlockEnd()):{blockIndex:y[0],textIndex:n-1,offset:a.blocks[y[0]].textNodes[n-1].text.length}:x({blockIndex:n-1},a.blocks[n-1].getBlockEnd()),range:!0}}},function($,p,b){b.r(p);var x=b(71);location.hostname.includes("dhtmlx.com")||location.hostname.includes("dhtmlxcode.com")||location.hostname.includes("webixcode.com")||location.hostname.includes("webix.io/dev/dhtmlx")||location.hostname.includes("replit.com/@dhtmlx")||location.origin.endsWith("csb.app")||(window.onload=function(){var w;function g(){(w=document.createElement("div")).addEventListener("click",function(){document.body.removeChild(w),window.open("https://dhtmlx.com/docs/products/dhtmlxRichText/download.shtml","_blank")});var a=new x.CssManager,e=a.add({display:"block !important",background:"#ff5252 !important",color:"white !important",padding:"12px",position:"absolute !important",maxWidth:"260px",top:"2% !important",right:"2% !important",fontSize:"14px !important",boxShadow:"0 1px 6px rgba(0,0,0,.1), 0 10px 20px rgba(0,0,0,.1)",cursor:"pointer",borderRadius:"2px",fontFamily:"Roboto",zIndex:2500});a.add({content:'"This version of DHTMLX RichText is intended for demonstration only. Download an official evaluation version to try DHTMLX RichText in your project." !important',fontSize:"14px !important",background:"#ff5252 !important",color:"white !important"},`${e}:after`),w.classList.add(e),document.body.appendChild(w)}setInterval(function(){var a=window.getComputedStyle(w,":after");a&&a.getPropertyValue("content")&&a.getPropertyValue("content")!=="none"||g()},6e4),g()})}])}),window.dhx_legacy){if(window.dhx)for(var J in dhx)if(J==="i18n")for(var nt in dhx[J])window.dhx_legacy[J][nt]=dhx[J][nt];else dhx_legacy[J]=dhx[J];window.dhx=dhx_legacy,delete window.dhx_legacy}})(Ne);var $n=Ne.exports;function Fn(W){let q;return{c(){q=Sn("div"),q.innerHTML="",Ee(q,"width","100%"),Ee(q,"height","100%")},m(J,nt){En(J,q,nt),W[3](q)},p:bt,i:bt,o:bt,d(J){J&&Oe(q),W[3](null)}}}function Vn(W,q,J){let{initText:nt}=q,$,p;In(()=>(J(2,p=new $n.Richtext($,{})),()=>{p.destructor()}));function b(x){ie[x?"unshift":"push"](()=>{$=x,J(0,$)})}return W.$$set=x=>{"initText"in x&&J(1,nt=x.initText)},W.$$.update=()=>{W.$$.dirty&6&&(p==null||p.setValue(nt,"markdown"))},[$,nt,p,b]}class Bn extends je{constructor(q){super(),He(this,q,Vn,Fn,Ie,{initText:1})}}function zn(){return`# Meet DHTMLX Rich Text Editor! 
This JavaScript rich text editor is highly customizable. It makes text editing quick and comfortable due to the inbuilt set of handy formatting tools. 
Besides, it will convert your text into HTML or Markdown in the blink of an eye. Another bonus of DHTMLX Rich Text is its flexible configuration settings which allow you to fine-tune the look and feel of the editor without effort. 
To learn more, read our [documentation](https://docs.dhtmlx.com/richtext/index.html) and check the [samples](https://snippet.dhtmlx.com/57v7n2kp?tag=richtext).`}function Wn(W){let q,J;return q=new Bn({props:{initText:W[0]}}),{c(){jn(q.$$.fragment)},m(nt,$){Pe(q,nt,$),J=!0},p:bt,i(nt){J||(Re(q.$$.fragment,nt),J=!0)},o(nt){Hn(q.$$.fragment,nt),J=!1},d(nt){Ae(q,nt)}}}function Gn(W){return[zn()]}class Yn extends je{constructor(q){super(),He(this,q,Gn,Wn,Ie,{})}}new Yn({target:document.getElementById("app")});
